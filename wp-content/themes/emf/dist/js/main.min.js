!function(){$(function(){"use strict";$.each($(".nice-scroll"),function(){new i($(this))}),$.each($(".site"),function(){new e($(this))}),$.each($(".site__content__wrap"),function(){new n($(this))}),$.each($(".site__header"),function(){new t($(this))}),$.each($(".menu"),function(){new i($(this))}),$.each($("body"),function(){new o($(this))}),$.each($(".gallery"),function(){new s($(this))}),$.each($(".site__read-more"),function(){new c($(this))}),$.each($(".accordion"),function(){new d($(this))}),$.each($(".awards"),function(){new r($(this))}),$.each($(".popup-info"),function(){new l($(this))})});var e=function(e){var n=this,t=e,i=$(window),o=function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var t=e.offsetWidth;n.style.overflow="scroll";var i=e.offsetWidth;return t==i&&(i=n.clientWidth),document.body.removeChild(n),t-i},s=function(){i.on({resize:function(){i.width()>=1024-o()&&d()}})},c=function(){s(),i.width()>=1024-o()&&d(),t[0].obj=n},d=function(){i.height()>=500?t.css({"min-height":"100%"}):t.css({"min-height":"500px"})};c()},n=function(e){var n=this,t=e,i=$(window),o=$(".site__content > .site__title"),s=function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var t=e.offsetWidth;n.style.overflow="scroll";var i=e.offsetWidth;return t==i&&(i=n.clientWidth),document.body.removeChild(n),t-i},c=function(){i.on({resize:function(){i.width()>=1024-s()?r():l()},load:function(){i.width()>=1024-s()&&r()}})},d=function(){c(),t[0].obj=n},r=function(){var e=o.offset().top+o.outerHeight(!0);t.css({top:e})},l=function(){t.css({top:"auto"})};d()},t=function(e){var n=this,t=e,i=$(window),o=t.find(".site__header__btn"),s=(t.find(".menu"),$("html")),c=function(){i.on({resize:function(){t.hasClass("opened")&&(t.removeClass("opened"),s.css({"overflow-y":"auto"}))}}),o.on({click:function(){return t.hasClass("opened")?(t.removeClass("opened"),s.css({"overflow-y":"auto"})):(t.addClass("opened"),s.css({"overflow-y":"hidden"})),!1}})},d=function(){c(),t[0].obj=n};d()},i=function(e){var n=this,t=e,i=$(window),o=function(){setTimeout(function(){t.niceScroll({cursorcolor:"#fec303",cursoropacitymin:"1",cursorborderradius:"2px",cursorborder:"none",background:"#3d3e42",cursorwidth:"5px",enablemousewheel:!0})},10),setTimeout(function(){t.getNiceScroll().resize()},350)},s=function(){i.on({load:function(){o()}})},c=function(){s(),t[0].obj=n};c()},o=function(e){var n=this,t=e,i=$(window),o=$("body"),s=function(){i.on({resize:function(){d()}})},c=function(){s(),d(),t[0].obj=n},d=function(){var e;e=i.height()>500?100*(window.innerHeight/900)+"px":100*(500/900)+"px",o.css({"font-size":e})};c()},s=function(e){var n=this,t=e,i=e.find(".gallery__top"),o=e.find(".gallery__thumbs"),s=function(){var e=new Swiper(i,{nextButton:o.find(".swiper-button-next"),prevButton:o.find(".swiper-button-prev"),spaceBetween:10,onSlideChangeStart:function(e){var t=e.activeIndex;$(n.slides).removeClass("is-selected"),$(n.slides).eq(t).addClass("is-selected"),n.slideTo(t,500,!1)}}),n=new Swiper(o.find(".swiper-container"),{spaceBetween:37,freeMode:!0,centeredSlides:!1,slidesPerView:"auto",touchRatio:.2,onClick:function(n){var t=n.clickedIndex;n.activeIndex=t,n.updateClasses(),$(n.slides).removeClass("is-selected"),$(n.clickedSlide).addClass("is-selected"),e.slideTo(t,0,!1)},onInit:function(){var e,n=o.find(".swiper-slide").length;10>n&&(n="0"+n),o.find(".gallery__thumbs-total-count").text(n),o.find(".swiper-slide").each(function(){e=$(this).index()+1,10>e?e="0"+e:0==e[0]&&(e=e.slice(1)),$(this).find(".gallery__thumbs-current-num").text(e)})}})},c=function(){t[0].obj=n,s()};c()},c=function(e){var n,t=this,i=e,o=($(window),$("body"),function(){i.on({click:function(){return d(),!1}})}),s=function(){o(),c(),i[0].obj=t},c=function(){n=i.parent().nextAll(),n.css({display:"none"})},d=function(){n.css({display:"block"}),i.css({display:"none"})};s()},d=function(e){var n=this,t=e,i=t.find(">dl"),o=t.find(">dl>dt"),s=t.find(">dl>dd"),c=$(window),d=0,r=function(){c.on({load:function(){d=i.innerHeight()}}),o.on({click:function(){var e=$(this),n=e.next();return e.hasClass("active")?(e.removeClass("active"),n.css({display:"none"}),setTimeout(function(){n.removeClass("visible")},300),i.css({"min-height":"1px"})):(o.removeClass("active"),s.css({display:"none"}),setTimeout(function(){s.removeClass("visible")},300),e.addClass("active"),n.css({display:"block"}),setTimeout(function(){n.addClass("visible")},300),i.css({"min-height":d+n.innerHeight()})),!1}})},l=function(){r(),u(),t[0].obj=n},u=function(){};l()},r=function(e){var n=this,t=e,i=t.find(".swiper-container"),o=function(){new Swiper(i,{pagination:i.find(".swiper-pagination"),paginationClickable:!0,nextButton:i.find(".swiper-button-next"),prevButton:i.find(".swiper-button-prev"),spaceBetween:30})},s=function(){t[0].obj=n,o()};s()},l=function(e){var n=this,t=e,i=$(window),o=function(){setTimeout(function(){t.niceScroll({cursorcolor:"#27282d",cursoropacitymin:"1",cursorborderradius:"2px",cursorborder:"none",background:"#3d3e42",cursorwidth:"5px",enablemousewheel:!0})},10),setTimeout(function(){t.getNiceScroll().resize()},350)},s=function(){i.on({load:function(){o()}})},c=function(){s(),t[0].obj=n};c()}}();
!function(){$(function(){$("select").each(function(){new e({obj:$(this),optionType:1,showType:2})})});var e=function(e){var t,i,n=this,o=e.obj,s=e.optionType||0,c=e.showType||0,a=e.visible||5,l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),d=$('<span class="websters-select__item"></span>'),p=$('<div class="websters-select"></div>'),r=$(window),f=$("body"),u=!1,h=function(){var e="";o.css({opacity:0}),o.wrap(p),p=o.parent(),p.append('<div class="websters-select__arrow"></div>'),o.before(d),o.find("option").each(function(){var t=$(this);"selected"==t.attr("selected")&&(e=t.text())}),""==e&&(e=o.find("option").eq(0).text()),d.text(e)},v=function(){u=!1,c?1==c?t.stop(!0,!1).slideUp(300,function(){t.remove()}):2==c&&t.stop(!0,!1).fadeOut(300,function(){t.remove()}):t.css({display:"none"}),p.removeClass("websters-select_opened")},b=function(){o[0].obj=n,h(),g(),w()},w=function(){o.on("change",function(){d.text($(this).find("option:selected").text())}),1!=s||l||(p.on({click:function(e){e.stopPropagation(),u?v():m()}}),r.on({click:function(){u&&v()}}))},g=function(){!s||l?y():1==s&&_()},_=function(){p.addClass("websters-select_custom")},y=function(){p.addClass("websters-select_mobile")},m=function(){var e=$("select"),n=$("<ul></ul>"),s=(r.scrollTop(),p.offset()),l=0,d=o.find("option:selected").index(),h=Math.round(1e3*Math.random());e.each(function(){this!==o[0]&&this.obj.checkOpened()&&this.obj.close()}),u&&t.remove(),u=!0,t=$('<div class="websters-select__popup" id="websters-select__popup'+h+'"></div>'),o.find("option").each(function(e){var t=$(this);e==d?n.append('<li class="active">'+t.text()+"</li>"):n.append("<li>"+t.text()+"</li>")}),t.append(n),f.append(t),p.addClass("websters-select_opened"),t.css({width:p.outerWidth(),left:s.left,top:s.top+p.outerHeight()}),l=t.outerHeight(),l>t.find("li").eq(0).outerHeight()*a&&(t.height(t.find("li").eq(0).outerHeight()*a),i=t.niceScroll({horizrailenabled:!1})),1==c?(t.css({display:"none"}),t.slideDown(300)):2==c&&(t.css({opacity:.1}),t.animate({opacity:1},300)),t.find("li").on({click:function(e){var t=$(this).index();e.stopPropagation(),o.val(o.find("option").eq(t).attr("value")),o.trigger("change"),v()}})};n.checkOpened=function(){return u},n.close=function(){v()},b()}}();
!function(){$(function(){$(".popup").each(function(){new n($(this))})});var n=function(n){var o=this,t=$(".popup__open"),i=n,p=i.find(".popup__close, .popup__cancel"),c=i.find(".popup__wrap"),u=i.find(".popup__content"),e=$("html"),s=$(".site__content"),f=$(window),a=setTimeout(function(){},1),d=function(){s.css({"z-index":4})},r=function(){s.attr("style","")},l=function(){i.css({overflowY:"hidden"}),e.css({overflowY:"auto",paddingRight:0}),i.removeClass("popup_opened"),i.addClass("popup_hide"),a=setTimeout(function(){i.css({overflowY:"auto"}),i.removeClass("popup_hide")},300),f.width()<1024&&r()},_=function(){i[0].obj=o,h()},h=function(){f.on({resize:function(){f.width()<1024&&l()}}),t.on({click:function(){return w($(this).attr("data-popup")),!1}}),c.on({click:function(n){n.stopPropagation()}}),i.on({click:function(){return l(),!1}}),p.on({click:function(){return l(),!1}})},w=function(n){v(n),i.addClass("popup_opened"),f.width()<1024&&d()},v=function(n){var o=u.filter(".popup__"+n);u.css({display:"none"}),o.css({display:"block"})};_()}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LndlYnN0ZXJzLXNlbGVjdC5qcyIsImpxdWVyeS5wb3B1cC5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsIk5pY2VTY3JvbGwiLCJ0aGlzIiwiRnVsbEhlaWdodFNpdGUiLCJGdWxsSGVpZ2h0U2l0ZUlubmVyIiwiTWVudSIsIlpvb21TaXRlIiwiVGVzdGltb25pYWxzR2FsbGVyeSIsIlJlYWRNb3JlIiwiQWNjb3JkaW9uIiwiQXdhcmRzR2FsbGVyeSIsIlNpdGVDb250ZW50UG9wdXBOaWNlU2Nyb2xsIiwib2JqIiwiX3NlbGYiLCJfb2JqIiwiX3dpbmRvdyIsIndpbmRvdyIsIl9nZXRTY3JvbGxCYXJXaWR0aCIsImlubmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsIm91dGVyIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwidmlzaWJpbGl0eSIsIm92ZXJmbG93IiwiYXBwZW5kQ2hpbGQiLCJib2R5IiwidzEiLCJvZmZzZXRXaWR0aCIsIncyIiwiY2xpZW50V2lkdGgiLCJyZW1vdmVDaGlsZCIsIl9vbkV2ZW50cyIsIm9uIiwicmVzaXplIiwiX3NldEhlaWdodCIsIl9pbml0IiwiY3NzIiwibWluLWhlaWdodCIsIl90aXRsZSIsIl9zZXRQb3NUb3AiLCJfcmVzZXRQb3NUb3AiLCJsb2FkIiwiYmxhIiwib2Zmc2V0Iiwib3V0ZXJIZWlnaHQiLCJfbWVudUJ0biIsImZpbmQiLCJfaHRtbCIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJvdmVyZmxvdy15IiwiY2xpY2siLCJhZGRDbGFzcyIsIl9hZGRTY3JvbGwiLCJzZXRUaW1lb3V0IiwibmljZVNjcm9sbCIsImN1cnNvcmNvbG9yIiwiY3Vyc29yb3BhY2l0eW1pbiIsImN1cnNvcmJvcmRlcnJhZGl1cyIsImN1cnNvcmJvcmRlciIsImJhY2tncm91bmQiLCJjdXJzb3J3aWR0aCIsImVuYWJsZW1vdXNld2hlZWwiLCJnZXROaWNlU2Nyb2xsIiwiX2JvZHkiLCJfc2V0U2l6ZSIsIm5ld1NpemUiLCJpbm5lckhlaWdodCIsImZvbnQtc2l6ZSIsIl9nYWxsZXJ5VG9wIiwiX2dhbGxlcnlUaHVtYnMiLCJfaW5pdFN3aXBlciIsImdhbGxlcnlUb3AiLCJTd2lwZXIiLCJuZXh0QnV0dG9uIiwicHJldkJ1dHRvbiIsInNwYWNlQmV0d2VlbiIsIm9uU2xpZGVDaGFuZ2VTdGFydCIsInN3aXBlciIsImFjdGl2ZUluZGV4IiwiZ2FsbGVyeVRodW1icyIsInNsaWRlcyIsImVxIiwic2xpZGVUbyIsImZyZWVNb2RlIiwiY2VudGVyZWRTbGlkZXMiLCJzbGlkZXNQZXJWaWV3IiwidG91Y2hSYXRpbyIsIm9uQ2xpY2siLCJjbGlja2VkIiwiY2xpY2tlZEluZGV4IiwidXBkYXRlQ2xhc3NlcyIsImNsaWNrZWRTbGlkZSIsIm9uSW5pdCIsImN1cnJlbnROdW0iLCJ0b3RhbENvdW50IiwibGVuZ3RoIiwidGV4dCIsImluZGV4Iiwic2xpY2UiLCJfaXRlbXMiLCJfZGlzcGxheUl0ZW1zIiwiX2Rpc2FwcGVhckl0ZW1zIiwicGFyZW50IiwibmV4dEFsbCIsImRpc3BsYXkiLCJfYWNjb3JkaW9uTGlzdCIsIl9hY2NvcmRpb25DYXB0aW9uIiwiX2FjY29yZGlvbkNvbnRlbnQiLCJfaGVpZ2h0TGlzdCIsImN1ckl0ZW0iLCJuZXh0RWxlbSIsIm5leHQiLCJfYXdhcmRzR2FsbGVyeSIsInBhZ2luYXRpb24iLCJwYWdpbmF0aW9uQ2xpY2thYmxlIiwiV2Vic3RlcnNTZWxlY3QiLCJvcHRpb25UeXBlIiwic2hvd1R5cGUiLCJwYXJhbXMiLCJfcG9wdXAiLCJfc2Nyb2xsIiwiX29wdGlvblR5cGUiLCJfc2hvd1R5cGUiLCJfdmlzaWJsZSIsInZpc2libGUiLCJfZGV2aWNlIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIl90ZXh0IiwiX3dyYXAiLCJfb3BlbmVkIiwiX2FkZFdyYXAiLCJjdXJUZXh0Iiwib3BhY2l0eSIsIndyYXAiLCJhcHBlbmQiLCJiZWZvcmUiLCJhdHRyIiwiX2hpZGVQb3B1cCIsInN0b3AiLCJzbGlkZVVwIiwicmVtb3ZlIiwiZmFkZU91dCIsIl9jb25zdHJ1Y3RvciIsIl9zZWxlY3RWaWV3VHlwZSIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJfc2hvd1BvcHVwIiwiX3NldE1vYmlsZVZpZXciLCJfc2V0Q3VzdG9tMSIsInNlbGVjdHMiLCJsaXN0Iiwic2Nyb2xsVG9wIiwibWF4SGVpZ2h0IiwiY3VySW5kZXgiLCJpZCIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsImNoZWNrT3BlbmVkIiwiY2xvc2UiLCJpIiwib3V0ZXJXaWR0aCIsImhvcml6cmFpbGVuYWJsZWQiLCJzbGlkZURvd24iLCJhbmltYXRlIiwidmFsIiwidHJpZ2dlciIsIlBvcHVwIiwiX2J0blNob3ciLCJfYnRuQ2xvc2UiLCJfY29udGVudHMiLCJfc2Nyb2xsQ29udGVpbmVyIiwiX2NvbnRlbnQiLCJfdGltZXIiLCJfY2hhbmdlQ29udGVudFppbmRleCIsInotaW5kZXgiLCJfcmVzZXRDb250ZW50WmluZGV4IiwiX2hpZGUiLCJvdmVyZmxvd1kiLCJwYWRkaW5nUmlnaHQiLCJfc2hvdyIsImNsYXNzTmFtZSIsIl9zZXRQb3B1cENvbnRlbnQiLCJjdXJDb250ZW50IiwiZmlsdGVyIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUVJQSxFQUFHLFdBQ0MsWUFFQUEsR0FBRUMsS0FBTUQsRUFBRSxnQkFBaUIsV0FFdkIsR0FBSUUsR0FBWUYsRUFBRUcsU0FJdEJILEVBQUVDLEtBQU1ELEVBQUUsU0FBVSxXQUVoQixHQUFJSSxHQUFnQkosRUFBRUcsU0FJMUJILEVBQUVDLEtBQU1ELEVBQUUsd0JBQXlCLFdBRS9CLEdBQUlLLEdBQXFCTCxFQUFFRyxTQUkvQkgsRUFBRUMsS0FBTUQsRUFBRSxpQkFBa0IsV0FFeEIsR0FBSU0sR0FBTU4sRUFBRUcsU0FJaEJILEVBQUVDLEtBQU1ELEVBQUUsU0FBVSxXQUVoQixHQUFJRSxHQUFZRixFQUFFRyxTQUl0QkgsRUFBRUMs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QkQsR0FDbEJoTCxFQUFLNEMsU0FBVSxnQkFDWDNDLEVBQVFPLFFBQVUsTUFDbEJpSyxLQUlSUSxFQUFtQixTQUFVRCxHQUN6QixHQUFJRSxHQUFhYixFQUFVYyxPQUFRLFdBQWFILEVBRWhEWCxHQUFVekksS0FBT3FFLFFBQVMsU0FDMUJpRixFQUFXdEosS0FBT3FFLFFBQVMsVUFRbkN0RSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiggZnVuY3Rpb24oKXtcclxuXHJcbiAgICAkKCBmdW5jdGlvbigpIHtcclxuICAgICAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCgnLm5pY2Utc2Nyb2xsJyksIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIG5ldyBOaWNlU2Nyb2xsKCAkKHRoaXMpICk7XHJcblxyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCcuc2l0ZScpLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBuZXcgRnVsbEhlaWdodFNpdGUoICQodGhpcykgKTtcclxuXHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoJy5zaXRlX19jb250ZW50X193cmFwJyksIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIG5ldyBGdWxsSGVpZ2h0U2l0ZUlubmVyKCAkKHRoaXMpICk7XHJcblxyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCcuc2l0ZV9faGVhZGVyJyksIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIG5ldyBNZW51KCAkKHRoaXMpICk7XHJcblxyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCcubWVudScpLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBuZXcgTmljZVNjcm9sbCggJCh0aGlzKSApO1xyXG5cclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCgnYm9keScpLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBuZXcgWm9vbVNpdGUoICQodGhpcykgKTtcclxuXHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuZ2FsbGVyeScgKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZXcgVGVzdGltb25pYWxzR2FsbGVyeSggJCh0aGlzKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLnNpdGVfX3JlYWQtbW9yZScgKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZXcgUmVhZE1vcmUoICQodGhpcykgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5hY2NvcmRpb24nICksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV3IEFjY29yZGlvbiggJCh0aGlzKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLmF3YXJkcycgKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZXcgQXdhcmRzR2FsbGVyeSggJCh0aGlzKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCcucG9wdXAtaW5mbycpLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBuZXcgU2l0ZUNvbnRlbnRQb3B1cE5pY2VTY3JvbGwoICQodGhpcykgKTtcclxuXHJcbiAgICAgICAgfSApO1xyXG5cclxuXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdmFyIEZ1bGxIZWlnaHRTaXRlID0gZnVuY3Rpb24gKG9iaikge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9nZXRTY3JvbGxCYXJXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICAgICAgICAgICAgICBpbm5lci5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICAgICAgaW5uZXIuc3R5bGUuaGVpZ2h0ID0gXCIyMDBweFwiO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgb3V0ZXIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgICAgICAgICBvdXRlci5zdHlsZS50b3AgPSBcIjBweFwiO1xyXG4gICAgICAgICAgICAgICAgb3V0ZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XHJcbiAgICAgICAgICAgICAgICBvdXRlci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcclxuICAgICAgICAgICAgICAgIG91dGVyLnN0eWxlLndpZHRoID0gXCIyMDBweFwiO1xyXG4gICAgICAgICAgICAgICAgb3V0ZXIuc3R5bGUuaGVpZ2h0ID0gXCIxNTBweFwiO1xyXG4gICAgICAgICAgICAgICAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gICAgICAgICAgICAgICAgb3V0ZXIuYXBwZW5kQ2hpbGQgKGlubmVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkIChvdXRlcik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzEgPSBpbm5lci5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCc7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzIgPSBpbm5lci5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgIGlmICh3MSA9PSB3MikgdzIgPSBvdXRlci5jbGllbnRXaWR0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkIChvdXRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh3MSAtIHcyKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgLSBfZ2V0U2Nyb2xsQmFyV2lkdGgoKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgLSBfZ2V0U2Nyb2xsQmFyV2lkdGgoKSApIHtcclxuICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NldEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy5oZWlnaHQoKSA+PSA1MDAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWluLWhlaWdodCc6ICcxMDAlJ1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX29iai5jc3MoIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogJzUwMHB4J1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIEZ1bGxIZWlnaHRTaXRlSW5uZXIgPSBmdW5jdGlvbiAob2JqKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcclxuICAgICAgICAgICAgX3RpdGxlID0gJCgnLnNpdGVfX2NvbnRlbnQgPiAuc2l0ZV9fdGl0bGUnKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2dldFNjcm9sbEJhcldpZHRoID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgICAgICAgICBpbm5lci5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICBpbm5lci5zdHlsZS5oZWlnaHQgPSBcIjIwMHB4XCI7XHJcblxyXG4gICAgICAgICAgICB2YXIgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgb3V0ZXIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgICAgIG91dGVyLnN0eWxlLnRvcCA9IFwiMHB4XCI7XHJcbiAgICAgICAgICAgIG91dGVyLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xyXG4gICAgICAgICAgICBvdXRlci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcclxuICAgICAgICAgICAgb3V0ZXIuc3R5bGUud2lkdGggPSBcIjIwMHB4XCI7XHJcbiAgICAgICAgICAgIG91dGVyLnN0eWxlLmhlaWdodCA9IFwiMTUwcHhcIjtcclxuICAgICAgICAgICAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gICAgICAgICAgICBvdXRlci5hcHBlbmRDaGlsZCAoaW5uZXIpO1xyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCAob3V0ZXIpO1xyXG4gICAgICAgICAgICB2YXIgdzEgPSBpbm5lci5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcclxuICAgICAgICAgICAgdmFyIHcyID0gaW5uZXIub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgIGlmICh3MSA9PSB3MikgdzIgPSBvdXRlci5jbGllbnRXaWR0aDtcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQgKG91dGVyKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAodzEgLSB3Mik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgLSBfZ2V0U2Nyb2xsQmFyV2lkdGgoKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0UG9zVG9wKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXNldFBvc1RvcCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCAtIF9nZXRTY3JvbGxCYXJXaWR0aCgpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldFBvc1RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc2V0UG9zVG9wID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBibGEgPSBfdGl0bGUub2Zmc2V0KCkudG9wICsgX3RpdGxlLm91dGVySGVpZ2h0KCB0cnVlICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IGJsYVxyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfcmVzZXRQb3NUb3AgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RvcCc6ICdhdXRvJ1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uIChvYmopIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93KSxcclxuICAgICAgICAgICAgX21lbnVCdG4gPSBfb2JqLmZpbmQoJy5zaXRlX19oZWFkZXJfX2J0bicpLFxyXG4gICAgICAgICAgICBfbWVudSA9IF9vYmouZmluZCgnLm1lbnUnKSxcclxuICAgICAgICAgICAgX2h0bWwgPSAkKCdodG1sJyk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouaGFzQ2xhc3MoICdvcGVuZWQnICkgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2F1dG8nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX21lbnVCdG4ub24oIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmhhc0NsYXNzKCAnb3BlbmVkJyApICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaHRtbC5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnb3BlbmVkJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnaGlkZGVuJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBOaWNlU2Nyb2xsID0gZnVuY3Rpb24gKG9iaikge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cpO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfYWRkU2Nyb2xsID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfb2JqLm5pY2VTY3JvbGwoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yY29sb3I6XCIjZmVjMzAzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcm9wYWNpdHltaW46IFwiMVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Jib3JkZXJyYWRpdXM6IFwiMnB4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcmJvcmRlcjogXCJub25lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiIzNkM2U0MlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3J3aWR0aDogXCI1cHhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlbW91c2V3aGVlbDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9LCAxMCApO1xyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5nZXROaWNlU2Nyb2xsKCkucmVzaXplKCk7XHJcblxyXG4gICAgICAgICAgICB9LCAzNTAgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRTY3JvbGwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgWm9vbVNpdGUgPSBmdW5jdGlvbiAob2JqKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyksXHJcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyXHJcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX3NldFNpemUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgX3NldFNpemUoKTtcclxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3U2l6ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy5oZWlnaHQoKSA+IDUwMCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3U2l6ZSA9ICggMTAwICogKCB3aW5kb3cuaW5uZXJIZWlnaHQgLyA5MDAgKSApICsgJ3B4JztcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3U2l6ZSA9ICggMTAwICogKCA1MDAgLyA5MDAgKSApICsgJ3B4JztcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX2JvZHkuY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IG5ld1NpemVcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgVGVzdGltb25pYWxzR2FsbGVyeSA9IGZ1bmN0aW9uIChvYmopIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfZ2FsbGVyeVRvcCA9IG9iai5maW5kKCcuZ2FsbGVyeV9fdG9wJyksXHJcbiAgICAgICAgICAgIF9nYWxsZXJ5VGh1bWJzID0gb2JqLmZpbmQoJy5nYWxsZXJ5X190aHVtYnMnKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2luaXRTd2lwZXIgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBnYWxsZXJ5VG9wID0gbmV3IFN3aXBlciggX2dhbGxlcnlUb3AsIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfZ2FsbGVyeVRodW1icy5maW5kKCAnLnN3aXBlci1idXR0b24tbmV4dCcgKSxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiAgX2dhbGxlcnlUaHVtYnMuZmluZCggJy5zd2lwZXItYnV0dG9uLXByZXYnICksXHJcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICBvblNsaWRlQ2hhbmdlU3RhcnQ6IGZ1bmN0aW9uKCBzd2lwZXIgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCBnYWxsZXJ5VGh1bWJzLnNsaWRlcyApLnJlbW92ZUNsYXNzKCAnaXMtc2VsZWN0ZWQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoIGdhbGxlcnlUaHVtYnMuc2xpZGVzICkuZXEoIGFjdGl2ZUluZGV4ICkuYWRkQ2xhc3MoICdpcy1zZWxlY3RlZCcgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeVRodW1icy5zbGlkZVRvKCBhY3RpdmVJbmRleCwgNTAwLCBmYWxzZSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciBnYWxsZXJ5VGh1bWJzID0gbmV3IFN3aXBlciggX2dhbGxlcnlUaHVtYnMuZmluZCggJy5zd2lwZXItY29udGFpbmVyJyApLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAzNyxcclxuICAgICAgICAgICAgICAgICAgICBmcmVlTW9kZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoUmF0aW86IDAuMixcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoIHN3aXBlciApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpY2tlZCA9IHN3aXBlci5jbGlja2VkSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXBlci5hY3RpdmVJbmRleCA9IGNsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXBlci51cGRhdGVDbGFzc2VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoIHN3aXBlci5zbGlkZXMgKS5yZW1vdmVDbGFzcyggJ2lzLXNlbGVjdGVkJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCBzd2lwZXIuY2xpY2tlZFNsaWRlICkuYWRkQ2xhc3MoICdpcy1zZWxlY3RlZCcgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeVRvcC5zbGlkZVRvKCBjbGlja2VkLCAwLCBmYWxzZSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uSW5pdDogZnVuY3Rpb24gKCAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsQ291bnQgPSBfZ2FsbGVyeVRodW1icy5maW5kKCAnLnN3aXBlci1zbGlkZScpLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROdW07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggdG90YWxDb3VudCA8IDEwICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxDb3VudCA9ICcwJyArIHRvdGFsQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9nYWxsZXJ5VGh1bWJzLmZpbmQoICcuZ2FsbGVyeV9fdGh1bWJzLXRvdGFsLWNvdW50JyApLnRleHQoIHRvdGFsQ291bnQgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9nYWxsZXJ5VGh1bWJzLmZpbmQoICcuc3dpcGVyLXNsaWRlJykuZWFjaCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE51bSA9ICQoIHRoaXMgKS5pbmRleCgpICsgMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VycmVudE51bSA8IDEwICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROdW0gPSAnMCcgKyBjdXJyZW50TnVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlICBpZiAoIGN1cnJlbnROdW1bMF0gPT0gMCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TnVtID0gY3VycmVudE51bS5zbGljZSgxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCB0aGlzICkuZmluZCggJy5nYWxsZXJ5X190aHVtYnMtY3VycmVudC1udW0nICkudGV4dCggY3VycmVudE51bSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcclxuICAgICAgICAgICAgICAgIF9pbml0U3dpcGVyKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBSZWFkTW9yZSA9IGZ1bmN0aW9uIChvYmopIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93KSxcclxuICAgICAgICAgICAgX2JvZHkgPSAkKCAnYm9keScpLFxyXG4gICAgICAgICAgICBfaXRlbXM7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyXHJcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlzcGxheUl0ZW1zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIF9kaXNhcHBlYXJJdGVtcygpO1xyXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9kaXNhcHBlYXJJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfaXRlbXMgPSBfb2JqLnBhcmVudCgpLm5leHRBbGwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfaXRlbXMuY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfZGlzcGxheUl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9pdGVtcy5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQWNjb3JkaW9uID0gZnVuY3Rpb24gKG9iaikge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9hY2NvcmRpb25MaXN0ID0gX29iai5maW5kKCc+ZGwnKSxcclxuICAgICAgICAgICAgX2FjY29yZGlvbkNhcHRpb24gPSBfb2JqLmZpbmQoJz5kbD5kdCcpLFxyXG4gICAgICAgICAgICBfYWNjb3JkaW9uQ29udGVudCA9IF9vYmouZmluZCgnPmRsPmRkJyksXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cpLFxyXG4gICAgICAgICAgICBfaGVpZ2h0TGlzdCA9IDA7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyXHJcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oZWlnaHRMaXN0ID0gX2FjY29yZGlvbkxpc3QuaW5uZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX2FjY29yZGlvbkNhcHRpb24ub24oIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRFbGVtID0gY3VySXRlbS5uZXh0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggISggY3VySXRlbS5oYXNDbGFzcygnYWN0aXZlJykgKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWNjb3JkaW9uQ2FwdGlvbi5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hY2NvcmRpb25Db250ZW50LmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FjY29yZGlvbkNvbnRlbnQucmVtb3ZlQ2xhc3MoICd2aXNpYmxlJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwICk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoICdhY3RpdmUnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0RWxlbS5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0RWxlbS5hZGRDbGFzcyggJ3Zpc2libGUnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWNjb3JkaW9uTGlzdC5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWluLWhlaWdodCc6IF9oZWlnaHRMaXN0ICsgbmV4dEVsZW0uaW5uZXJIZWlnaHQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRFbGVtLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRFbGVtLnJlbW92ZUNsYXNzKCAndmlzaWJsZScgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hY2NvcmRpb25MaXN0LmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogJzFweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgX2Rpc2FwcGVhckl0ZW1zKCk7XHJcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Rpc2FwcGVhckl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQXdhcmRzR2FsbGVyeSA9IGZ1bmN0aW9uIChvYmopIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfYXdhcmRzR2FsbGVyeSA9IF9vYmouZmluZCgnLnN3aXBlci1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2luaXRTd2lwZXIgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKCBfYXdhcmRzR2FsbGVyeSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IF9hd2FyZHNHYWxsZXJ5LmZpbmQoICcuc3dpcGVyLXBhZ2luYXRpb24nICksXHJcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfYXdhcmRzR2FsbGVyeS5maW5kKCAnLnN3aXBlci1idXR0b24tbmV4dCcgKSxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfYXdhcmRzR2FsbGVyeS5maW5kKCAnLnN3aXBlci1idXR0b24tcHJldicgKSxcclxuICAgICAgICAgICAgICAgICAgICAvL2VmZmVjdDogJ2ZhZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMzBcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcclxuICAgICAgICAgICAgICAgIF9pbml0U3dpcGVyKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBTaXRlQ29udGVudFBvcHVwTmljZVNjcm9sbCA9IGZ1bmN0aW9uIChvYmopIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93KTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2FkZFNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX29iai5uaWNlU2Nyb2xsKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcmNvbG9yOlwiIzI3MjgyZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3JvcGFjaXR5bWluOiBcIjFcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yYm9yZGVycmFkaXVzOiBcIjJweFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Jib3JkZXI6IFwibm9uZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiMzZDNlNDJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yd2lkdGg6IFwiNXB4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZW1vdXNld2hlZWw6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgMTAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX29iai5nZXROaWNlU2Nyb2xsKCkucmVzaXplKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgMzUwICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkU2Nyb2xsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbn0gKSgpO1xyXG5cclxuIiwiKCBmdW5jdGlvbigpe1xyXG5cclxuICAgICQoIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJCggJ3NlbGVjdCcgKS5lYWNoKCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBuZXcgV2Vic3RlcnNTZWxlY3QoIHtcclxuICAgICAgICAgICAgICAgIG9iajogJCggdGhpcyApLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogMSxcclxuICAgICAgICAgICAgICAgIHNob3dUeXBlOiAyXHJcbiAgICAgICAgICAgIH0gKTtcclxuICAgICAgICB9ICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdmFyIFdlYnN0ZXJzU2VsZWN0ID0gZnVuY3Rpb24oIHBhcmFtcyApe1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIF9vYmogPSBwYXJhbXMub2JqLFxyXG4gICAgICAgICAgICBfb3B0aW9uVHlwZSA9IHBhcmFtcy5vcHRpb25UeXBlIHx8IDAsXHJcbiAgICAgICAgICAgIF9zaG93VHlwZSA9IHBhcmFtcy5zaG93VHlwZSB8fCAwLFxyXG4gICAgICAgICAgICBfdmlzaWJsZSA9IHBhcmFtcy52aXNpYmxlIHx8IDUsXHJcbiAgICAgICAgICAgIF9kZXZpY2UgPSAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QoIG5hdmlnYXRvci51c2VyQWdlbnQgKSxcclxuICAgICAgICAgICAgX3RleHQgPSAkKCAnPHNwYW4gY2xhc3M9XCJ3ZWJzdGVycy1zZWxlY3RfX2l0ZW1cIj48L3NwYW4+JyApLFxyXG4gICAgICAgICAgICBfd3JhcCA9ICQoICc8ZGl2IGNsYXNzPVwid2Vic3RlcnMtc2VsZWN0XCI+PC9kaXY+JyApLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXHJcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICksXHJcbiAgICAgICAgICAgIF9vcGVuZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgX3BvcHVwLCBfc2Nyb2xsO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfYWRkV3JhcCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VyVGV4dCA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmoud3JhcCggX3dyYXAgKTtcclxuICAgICAgICAgICAgICAgIF93cmFwID0gX29iai5wYXJlbnQoKTtcclxuICAgICAgICAgICAgICAgIF93cmFwLmFwcGVuZCggJzxkaXYgY2xhc3M9XCJ3ZWJzdGVycy1zZWxlY3RfX2Fycm93XCI+PC9kaXY+JyApO1xyXG4gICAgICAgICAgICAgICAgX29iai5iZWZvcmUoIF90ZXh0ICk7XHJcbiAgICAgICAgICAgICAgICBfb2JqLmZpbmQoICdvcHRpb24nICkuZWFjaCggZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQoIHRoaXMgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uYXR0ciggJ3NlbGVjdGVkJyApID09ICdzZWxlY3RlZCcgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVGV4dCA9IGN1ckl0ZW0udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggY3VyVGV4dCA9PSAnJyApe1xyXG4gICAgICAgICAgICAgICAgICAgIGN1clRleHQgPSAgX29iai5maW5kKCAnb3B0aW9uJykuZXEoIDAgKS50ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGV4dC50ZXh0KCBjdXJUZXh0ICk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9oaWRlUG9wdXAgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX29wZW5lZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCAhX3Nob3dUeXBlICl7XHJcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9zaG93VHlwZSA9PSAxICl7XHJcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnN0b3AoIHRydWUsIGZhbHNlICkuc2xpZGVVcCggMzAwLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcG9wdXAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfc2hvd1R5cGUgPT0gMiApIHtcclxuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuc3RvcCggdHJ1ZSwgZmFsc2UgKS5mYWRlT3V0KCAzMDAsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9wb3B1cC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX3dyYXAucmVtb3ZlQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3Rfb3BlbmVkJyApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcclxuXHJcbiAgICAgICAgICAgICAgICBfYWRkV3JhcCgpO1xyXG4gICAgICAgICAgICAgICAgX3NlbGVjdFZpZXdUeXBlKCk7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF9vYmoub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGV4dC50ZXh0KCAkKCB0aGlzICkuZmluZCggJ29wdGlvbjpzZWxlY3RlZCcgKS50ZXh0KCkgKTtcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggX29wdGlvblR5cGUgPT0gMSAmJiAhX2RldmljZSApe1xyXG4gICAgICAgICAgICAgICAgICAgIF93cmFwLm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uKCBlICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb3BlbmVkICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVQb3B1cCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvd1BvcHVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX29wZW5lZCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlUG9wdXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NlbGVjdFZpZXdUeXBlID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggIV9vcHRpb25UeXBlIHx8IF9kZXZpY2UgKXtcclxuICAgICAgICAgICAgICAgICAgICBfc2V0TW9iaWxlVmlldygpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfb3B0aW9uVHlwZSA9PSAxICl7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NldEN1c3RvbTEoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NldEN1c3RvbTEgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX3dyYXAuYWRkQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3RfY3VzdG9tJyApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc2V0TW9iaWxlVmlldyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfd3JhcC5hZGRDbGFzcyggJ3dlYnN0ZXJzLXNlbGVjdF9tb2JpbGUnICk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9zaG93UG9wdXAgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdHMgPSAkKCAnc2VsZWN0JyApLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpc3QgPSAkKCAnPHVsPjwvdWw+JyksXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyU2Nyb2xsID0gX3dpbmRvdy5zY3JvbGxUb3AoKSxcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBfd3JhcC5vZmZzZXQoKSxcclxuICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1ckluZGV4ID0gX29iai5maW5kKCAnb3B0aW9uOnNlbGVjdGVkJyApLmluZGV4KCksXHJcbiAgICAgICAgICAgICAgICAgICAgaWQgPSBNYXRoLnJvdW5kKCBNYXRoLnJhbmRvbSgpICogMTAwMCApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNlbGVjdHMuZWFjaCggZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcyAhPT0gX29ialsgMCBdICYmIHRoaXMub2JqLmNoZWNrT3BlbmVkKCkgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmouY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoIF9vcGVuZWQgKXtcclxuICAgICAgICAgICAgICAgICAgICBfcG9wdXAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfb3BlbmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXAgPSAkKCAnPGRpdiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdF9fcG9wdXBcIiBpZD1cIndlYnN0ZXJzLXNlbGVjdF9fcG9wdXAnICsgaWQgKyAnXCI+PC9kaXY+JyApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmouZmluZCggJ29wdGlvbicgKS5lYWNoKCBmdW5jdGlvbiggaSApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiggaSA9PSBjdXJJbmRleCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LmFwcGVuZCggJzxsaSBjbGFzcz1cImFjdGl2ZVwiPicgKyBjdXJJdGVtLnRleHQoKSArICc8L2xpPicgKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LmFwcGVuZCggJzxsaT4nICsgY3VySXRlbS50ZXh0KCkgKyAnPC9saT4nICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXAuYXBwZW5kKCBsaXN0ICk7XHJcbiAgICAgICAgICAgICAgICBfYm9keS5hcHBlbmQoIF9wb3B1cCApO1xyXG4gICAgICAgICAgICAgICAgX3dyYXAuYWRkQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3Rfb3BlbmVkJyApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wb3B1cC5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogX3dyYXAub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogb2Zmc2V0LnRvcCArIF93cmFwLm91dGVySGVpZ2h0KClcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSBfcG9wdXAub3V0ZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGlmKCBtYXhIZWlnaHQgPiBfcG9wdXAuZmluZCggJ2xpJyApLmVxKCAwICkub3V0ZXJIZWlnaHQoKSAqIF92aXNpYmxlICl7XHJcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmhlaWdodCggX3BvcHVwLmZpbmQoICdsaScgKS5lcSggMCApLm91dGVySGVpZ2h0KCkgKiBfdmlzaWJsZSApO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zY3JvbGwgPSBfcG9wdXAubmljZVNjcm9sbCgge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3JpenJhaWxlbmFibGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiggX3Nob3dUeXBlID09IDEgKXtcclxuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuc2xpZGVEb3duKCAzMDAgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX3Nob3dUeXBlID09IDIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjFcclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmFuaW1hdGUoIHsgb3BhY2l0eTogMSB9LCAzMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF9wb3B1cC5maW5kKCAnbGknICkub24oIHtcclxuICAgICAgICAgICAgICAgICAgICAnY2xpY2snOiBmdW5jdGlvbiggZSApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkKCB0aGlzICkuaW5kZXgoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnZhbCggX29iai5maW5kKCAnb3B0aW9uJyApLmVxKCBpbmRleCApLmF0dHIoICd2YWx1ZScgKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnRyaWdnZXIoICdjaGFuZ2UnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlUG9wdXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuICAgICAgICBfc2VsZi5jaGVja09wZW5lZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiBfb3BlbmVkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3NlbGYuY2xvc2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgX2hpZGVQb3B1cCgpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBfY29uc3RydWN0b3IoKTtcclxuXHJcbiAgICB9O1xyXG5cclxufSApKCk7IiwiKCBmdW5jdGlvbigpe1xyXG5cclxuICAgICQoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICQoICcucG9wdXAnICkuZWFjaChmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgbmV3IFBvcHVwKCQodGhpcykpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgUG9wdXAgPSBmdW5jdGlvbiggb2JqICl7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgX3BvcHVwUGFkZGluZyA9IDQwLFxyXG4gICAgICAgICAgICBfYnRuU2hvdyA9ICAkKCAnLnBvcHVwX19vcGVuJyApLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfYnRuQ2xvc2UgPSBfb2JqLmZpbmQoICcucG9wdXBfX2Nsb3NlLCAucG9wdXBfX2NhbmNlbCcgKSxcclxuICAgICAgICAgICAgX3dyYXAgPSBfb2JqLmZpbmQoICcucG9wdXBfX3dyYXAnICksXHJcbiAgICAgICAgICAgIF9jb250ZW50cyA9IF9vYmouZmluZCggJy5wb3B1cF9fY29udGVudCcgKSxcclxuICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lciA9ICQoICdodG1sJyApLFxyXG4gICAgICAgICAgICBfY29udGVudCA9ICQoICcuc2l0ZV9fY29udGVudCcgKSxcclxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxyXG4gICAgICAgICAgICBfdGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe30sIDEgKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2NlbnRlcldyYXAgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYgKCBfd2luZG93LmhlaWdodCgpIC0gKCBfcG9wdXBQYWRkaW5nICogMiApIC0gX3dyYXAuaGVpZ2h0KCkgPiAwICkge1xyXG4gICAgICAgICAgICAgICAgICAgIF93cmFwLmNzcyggeyB0b3A6ICggKCBfd2luZG93LmhlaWdodCgpIC0gKCBfcG9wdXBQYWRkaW5nICogMiApICkgLSBfd3JhcC5oZWlnaHQoKSApIC8gMiB9ICk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF93cmFwLmNzcyggeyB0b3A6IDAgfSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY2hhbmdlQ29udGVudFppbmRleCA9IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgX2NvbnRlbnQuY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3otaW5kZXgnOiA0XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9yZXNldENvbnRlbnRaaW5kZXggPSBmdW5jdGlvbiAoKXtcclxuICAgICAgICAgICAgICAgIF9jb250ZW50LmF0dHIoICdzdHlsZScsJycgKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfZ2V0U2Nyb2xsV2lkdGggPSBmdW5jdGlvbiAoKXtcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyksXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQmFyV2lkdGg7XHJcblxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdwb3B1cF9fc2Nyb2xsYmFyLW1lYXN1cmUnO1xyXG5cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHNjcm9sbERpdiApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xyXG5cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2Nyb2xsQmFyV2lkdGg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9oaWRlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJ1xyXG4gICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lci5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xyXG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3BvcHVwX2hpZGUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX29iai5jc3MgKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bydcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3BvcHVwX2hpZGUnICk7XHJcbiAgICAgICAgICAgICAgICB9LCAzMDAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcclxuICAgICAgICAgICAgICAgICAgICBfcmVzZXRDb250ZW50WmluZGV4KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vX2NlbnRlcldyYXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICBfYnRuU2hvdy5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2hvdyggJCggdGhpcyApLmF0dHIoICdkYXRhLXBvcHVwJyApICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgX3dyYXAub24oIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oIGUgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICBfYnRuQ2xvc2Uub24oIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3Nob3cgPSBmdW5jdGlvbiggY2xhc3NOYW1lICl7XHJcbiAgICAgICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50KCBjbGFzc05hbWUgKTtcclxuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdwb3B1cF9vcGVuZWQnICk7XHJcbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcclxuICAgICAgICAgICAgICAgICAgICBfY2hhbmdlQ29udGVudFppbmRleCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NldFBvcHVwQ29udGVudCA9IGZ1bmN0aW9uKCBjbGFzc05hbWUgKXtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJDb250ZW50ID0gX2NvbnRlbnRzLmZpbHRlciggJy5wb3B1cF9fJyArIGNsYXNzTmFtZSApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9jb250ZW50cy5jc3MoIHsgZGlzcGxheTogJ25vbmUnIH0gKTtcclxuICAgICAgICAgICAgICAgIGN1ckNvbnRlbnQuY3NzKCB7IGRpc3BsYXk6ICdibG9jaycgfSApO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcbiAgICB9O1xyXG59ICkoKTtcclxuXHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
