!function(){$(function(){"use strict";$.each($(".nice-scroll"),function(){new i($(this))}),$.each($(".site"),function(){new t($(this))}),$.each($(".site__header"),function(){new n($(this))}),$.each($(".menu"),function(){new i($(this))}),$.each($(".top-links"),function(){new e($(this))}),$.each($(".gallery"),function(){new o($(this))}),$.each($(".site__read-more"),function(){new c($(this))}),$.each($(".accordion dl"),function(){new Accordion($(this))}),$.each($(".awards"),function(){new s($(this))}),$.each($(".popup-info"),function(){new a($(this))}),$.each($(".about-portfolio"),function(){new r($(this))}),$.each($(".services-areas__gallery"),function(){new l($(this))}),$.each($(".ajax-block"),function(){new f($(this))}),$.each($(".contact__sign"),function(){new u($(this))}),$.each($(".accordion_careers"),function(){new d($(this))}),$.each($(".datepicker"),function(){new p($(this))}),$.each($(".nice-checkbox"),function(){new h($(this))}),$.each($(".contact__file"),function(){new w($(this))}),$.each($(".resources__links-item_comments"),function(){new v($(this))}),$.each($(".resources__ajax-wrap"),function(){new _($(this))})});var t=function(t){var n=this,e=t,i=$(window),o=function(){i.on({resize:function(){i.width()>=1024&&s()}})},c=function(){o(),i.width()>=1024&&s(),e[0].obj=n},s=function(){i.height()>=500?e.css({"min-height":"100%"}):e.css({"min-height":"500px"})};c()},n=function(t){var n=this,e=t,i=$(window),o=e.find(".site__header__btn"),c=e.find(".site__header__items"),s=$("html"),a=$("body"),r=function(){e.removeClass("opened"),s.css({"overflow-y":"auto"}),a.css({"overflow-y":"auto"}),c.attr("style","")},l=function(){i.on({resize:function(){e.hasClass("opened")&&r()}}),o.on({click:function(){return e.hasClass("opened")?r():f(),!1}})},f=function(){e.addClass("opened"),s.css({"overflow-y":"hidden"}),a.css({"overflow-y":"hidden"}),d()},u=function(){l(),e[0].obj=n},d=function(){c.height(i.height()-c.offset().top)};u()},e=function(t){var n=this,e=t,i=e.find(".top-links__item"),o=function(){i.on({click:function(){var t=$(this);t.hasClass("opened")?t.removeClass("opened"):(i.removeClass("opened"),t.addClass("opened"))}})},c=function(){o(),e[0].obj=n};c()},i=function(t){var n=this,e=t,i=$(window),o=!0,c=function(){e.perfectScrollbar()},s=function(){i.on({load:function(){o=i.width()>=1024,o&&c()},resize:function(){i.width()>=1024?(o&&(c(),e.perfectScrollbar("update")),o=!1):(o||a(),o=!0)}})},a=function(){e.perfectScrollbar("destroy"),e.css({"overflow-y":"auto"})},r=function(){s(),e[0].obj=n};r()},o=function(t){var n,e,i=this,o=t,c=t.find(".gallery__top"),s=t.find(".gallery__thumbs"),a=$(window),r=!0,l=function(){n.destroy(!0,!0)},f=function(){c.length&&n.on("slideChangeStart",function(t){var n=t.activeIndex;$(e.slides).removeClass("is-selected"),$(e.slides).eq(n).addClass("is-selected"),e.slideTo(n,500,!1)}),a.on({load:function(){r=a.width()>=1024},resize:function(){o.hasClass("gallery_2")||(a.width()>=1024?(r&&(l(),setTimeout(function(){d()},10)),r=!1):(r||(l(),setTimeout(function(){d()},10)),r=!0))}})},u=function(){o.hasClass("gallery_2")?n=new Swiper(c,{nextButton:s.find(".swiper-button-next"),prevButton:s.find(".swiper-button-prev"),spaceBetween:10}):d(),e=new Swiper(s.find(".swiper-container"),{spaceBetween:37,freeMode:!0,centeredSlides:!1,slidesPerView:"auto",touchRatio:.2,onClick:function(t){var e=t.clickedIndex;t.activeIndex=e,t.updateClasses(),$(t.slides).removeClass("is-selected"),$(t.clickedSlide).addClass("is-selected"),n.slideTo(e,500,!1)},onInit:function(){var t,n=s.find(".swiper-slide").length;n<10&&(n="0"+n),s.find(".gallery__thumbs-total-count").text(n),s.find(".swiper-slide").each(function(){t=$(this).index()+1,t<10?t="0"+t:0==t[0]&&(t=t.slice(1)),$(this).find(".gallery__thumbs-current-num").text(t)})}})},d=function(){n=a.width()>=1024?new Swiper(c,{nextButton:s.find(".swiper-button-next"),prevButton:s.find(".swiper-button-prev"),spaceBetween:10,effect:"fade",fade:{crossFade:!0}}):new Swiper(c,{nextButton:s.find(".swiper-button-next"),prevButton:s.find(".swiper-button-prev"),spaceBetween:10})},p=function(){o[0].obj=i,u(),f()};p()},c=function(t){var n,e=this,i=t,o=($(window),$("body"),function(){i.on({click:function(){return a(),!1}})}),c=function(){o(),s(),i[0].obj=e},s=function(){n=i.parent().nextAll(),n.css({display:"none"})},a=function(){n.css({display:"block"}),i.css({display:"none"})};c()},s=function(t){var n,e=this,i=t,o=i.find(".swiper-container"),c=$(".awards__text-wrap div"),s=function(){n.on("slideChangeStart",function(){c.addClass("hidden"),c.html("")}),n.on("slideChangeEnd",function(t){var n=t.activeIndex,e=t.slides.eq(n).find(".awards__text");c.removeClass("hidden"),c.html(e.html())})},a=function(){n=new Swiper(o,{pagination:o.find(".swiper-pagination"),paginationClickable:!0,nextButton:o.find(".swiper-button-next"),prevButton:o.find(".swiper-button-prev"),loop:!0,onInit:function(t){var n=t.activeIndex,e=t.slides.eq(n).find(".awards__text");c.html(e.html())}})},r=function(){i[0].obj=e,a(),s()};r()},a=function(t){var n=this,e=t,i=$(window),o=!0,c=function(){setTimeout(function(){e.perfectScrollbar()},10)},s=function(){i.on({load:function(){o=i.width()>=1024,o&&c()},resize:function(){i.width()>=1024?(o&&c(),o=!1):(o||r(),o=!0)}})},a=function(){s(),e[0].obj=n},r=function(){e.perfectScrollbar("destroy"),e.css({"overflow-y":"auto"})};a()},r=function(t){var n=t,e=n.find(".about-portfolio__item"),i=$(".gallery-popup"),c=i.find(".gallery-popup__close"),s=i.find(".gallery-popup__wrap"),a=i.find(".gallery-popup__preloader"),r=$(window),l=$("html"),f=$("body"),u=!0,d=new XMLHttpRequest,p=function(){e.on({click:function(){var t=$(this);i.css({display:"block"}),r.width()<1024&&(l.css({"overflow-y":"hidden"}),f.css({"overflow-y":"hidden"})),_(t)}}),c.on({click:function(){return w(),!1}}),r.on({load:function(){u=r.width()>=1024},resize:function(){r.width()>=1024?(u&&h(),u=!1):(u||m(),u=!0)}})},h=function(){$(document).find(".gallery-popup__text").perfectScrollbar(),setTimeout(function(){$(document).find(".gallery-popup__text").perfectScrollbar("update")},200)},w=function(){r.width()<1024&&(l.css({"overflow-y":"auto"}),f.css({"overflow-y":"auto"})),i.css({display:"none"}),a.css({display:"block"}),s.html("")},v=function(){p()},_=function(t){d.abort(),d=$.ajax({url:$("body").data("action"),data:{action:"get_gallery",id:t.attr("data-id")},dataType:"html",type:"get",success:function(t){s.html(t),setTimeout(function(){$(t).hasClass("gallery")&&$.each($(".gallery"),function(){new o($(this))}),r.width()>=1024&&h(),a.css({display:"none"})},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},m=function(){$(document).find(".gallery-popup__text").perfectScrollbar("destroy"),$(document).find(".gallery-popup__text").css({"overflow-y":"auto"})};v()},l=function(t){var n=this,e=t,i=(e.find(".swiper-container"),function(){new Swiper(e,{nextButton:e.find(".swiper-button-next"),prevButton:e.find(".swiper-button-prev"),loop:!0,spaceBetween:30})}),o=function(){e[0].obj=n,i()};o()},f=function(t){var n=t,e=n.find(".ajax-block__btn"),i=$(".ajax-block-"+n.attr("data-block")),o=$(".popup__preloader"),c=$(window),s=!0,a=new XMLHttpRequest,r=function(){e.on({click:function(){var t=$(this);t.hasClass("ajax-block__btn_loaded")||(e.removeClass("ajax-block__btn_loaded"),t.addClass("ajax-block__btn_loaded"),o.removeClass("hide"),i.html(""),i.css({display:"block"}),i.nextAll().css({display:"none"}),d(t))}}),c.on({load:function(){s=c.width()>=1024},resize:function(){c.width()>=1024?(s&&l(i.children()),s=!1):(s||p(i.children()),s=!0)}})},l=function(t){t.perfectScrollbar(),setTimeout(function(){t.perfectScrollbar("update")},200)},u=function(){r()},d=function(t){a.abort(),a=$.ajax({url:$("body").attr("data-action"),data:{action:"get_areas",lvl:t.attr("data-lvl"),id:t.attr("data-id")},dataType:"html",type:"get",success:function(t){i.html(t),i.find(".ajax-block").length&&new f(i.find(".ajax-block")),i.find(".accordion").length&&$.each(i.find(".accordion_2 dl"),function(){new Accordion($(this))}),setTimeout(function(){c.width()>=1024&&l(i.children()),o.addClass("hide")},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},p=function(t){t.perfectScrollbar("destroy"),t.css({"overflow-y":"auto"})};u()},u=function(t){var n,e=this,i=t,o=i.find(".contact__sign-area"),c=i.find(".contact__sign-refresh"),s=$(".canvas_check"),a=$(window),r=function(){o.signature("destroy")},l=function(){c.on({click:function(){return o.signature("clear"),!1}}),a.on({resize:function(){r(),u()}}),s.on({click:function(){o.signature("isEmpty")?(o.addClass("contact__sign-area-red"),$(".sign_val").val("")):(n=o.signature("toSVG"),o.removeClass("contact__sign-area-red"),$(".sign_val").val(n))}})},f=function(){i[0].obj=e,l(),u()},u=function(){o.signature({thickness:1,color:"#ffffff"})};f()},d=function(t){var n,e,i=this,o=t,c=$(window),s=$(".careers_themes"),a=o.find(".apply"),r="",l=function(){$(".tabs>dl>dt:not(.active)").trigger("click")},f=function(){o.find("dl>dt").each(function(){var t=$(this),e=t.text();n.find("select").append('<option value="'+e+'">'+e+"</option>")}),e.text(n.find("select option:selected").text())},u=function(){c.on({load:function(){n=$(".vacancy"),e=n.find(".websters-select__item"),f(),n.find("select").on("change",function(){p(),h()})}}),a.on({click:function(){var t=$(this),i=t.data("value"),o=t.data("text2"),c=n.find("option").eq(i),s=c.text();return p(),t.hasClass("active")||(t.addClass("active"),t.find("span").text(o),r=i),h(),n.find("option").prop("selected",!1),c.prop("selected",!0),e.text(s),l(),!1}})},d=function(){o[0].obj=i,u()},p=function(){a.each(function(){var t=$(this),n=t.data("text1");t.removeClass("active"),t.find("span").text(n)}),r=""},h=function(){s.val(r)};d()},p=function(t){var n=this,e=t,i=$(".nice-scroll"),o=$(window),c=function(){e.datepicker("hide"),e.blur()},s=function(){i.on({scroll:function(){c()}}),o.on({resize:function(){c()}})},a=function(){e[0].obj=n,r(),s()},r=function(){e.datepicker()};a()},h=function(t){var n=this,e=t,i=e.find("label"),o=function(){i.find("input:checkbox").off("click",function(){var t=$(this).attr("name");$(this).closest("form").find('input:checkbox[name="'+t+'"]').not(this).prop("checked",!1)}),i.click(function(t){return $(this).hasClass("active")?($(this).removeClass("active"),$(this).find("input").attr("checked",!1)):($(this).addClass("active"),$(this).find("input").attr("checked",!0)),t.stopPropagation(),t.cancelBubble=!0,!1})},c=function(){e[0].obj=n,o()};c()},w=function(t){var n=this,e=t,i=e.find("input[type=file]"),o=e.find("input[type=text]"),c=function(){i.on({change:function(){o.val($(this).val())}})},s=function(){e[0].obj=n,c()};s()},v=function(t){var n=this,e=t,i=$(".comments-customer"),o=$(".site__content__inner"),c=$(".site__form"),s=$("html, body"),a=$(window),r=function(){e.parents(".resources__item").length||e.on({click:function(){if(a.width()<1024){var t;t=i.length?i.offset().top:c.offset().top,s.stop(!0,!1),s.animate({scrollTop:t},300)}else{var t,n;i.length?(t=i.position().top,n=o.scrollTop()):(t=c.position().top,n=o.scrollTop()),o.stop(!0,!1),o.animate({scrollTop:t+n},300)}return!1}})},l=function(){e[0].obj=n,r(),f()},f=function(){if(!e.parents(".resources__item").length&&e.parents(".site__content__wrap").hasClass("comments_scroll"))if(a.width()<1024){var t;t=i.offset().top,s.scrollTop(t)}else{var t,n;t=i.position().top,n=o.scrollTop(),o.scrollTop(t+n)}};l()},_=function(t){var n=t,e=n.find(".resources__items"),i=$(".resources__preloader"),o=n.parents(".nice-scroll"),c=new XMLHttpRequest,s=function(){$(document).on("click",".resources__links-item_tags>a",function(){var t=$(this);return e.html(""),i.addClass("visible"),r(t),!1})},a=function(){s()},r=function(t){c.abort(),c=$.ajax({url:$("body").attr("data-action"),data:{action:"get_resources",tagId:t.attr("data-id")},dataType:"html",type:"get",success:function(t){e.html(t),setTimeout(function(){i.removeClass("visible"),l()},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},l=function(){o.scrollTop=0,o.perfectScrollbar("update")};a()}}();var Accordion=function(t){var n=this,e=t,i=e.find(">dt"),o=e.find(">dd"),c=$(window),s=$(".site__content__inner"),a=$("html, body"),r=0,l=0,f=!0,u=function(t,n){i.removeClass("similar"),t.removeClass("active"),t.css({"margin-bottom":""}),n.removeClass("visible")},d=function(){c.on({resize:function(){i.filter(".active").length&&v(i.filter(".active"),i.filter(".active").next())}}),i.on({click:function(){var t=$(this),n=t.next();return t.hasClass("active")?u(t,n):f&&p(t,n),!1}})},p=function(t,n){f=!1,i.removeClass("active"),i.css({"margin-bottom":""}),o.removeClass("visible similar"),t.addClass("active"),v(t,n),setTimeout(function(){w(t)},300),n.addClass("visible"),setTimeout(function(){f=!0},300)},h=function(){e[0].obj=n,d(),_()},w=function(t){c.width()<1024?(l=t.offset().top,a.stop(!0,!1),a.animate({scrollTop:l},300)):(l=t.position().top+e.position().top+s.scrollTop(),t.hasClass("similar")||(s.stop(!0,!1),s.animate({scrollTop:l},300)))},v=function(t,n){t.css({"margin-bottom":n.innerHeight()-1}),setTimeout(function(){var e=t.position().top,o=t.innerHeight();r=e+o,n.css({top:r}),i.each(function(){$(this).position().top==e?$(this).addClass("similar"):$(this).removeClass("similar")})},310)},_=function(){e.parent().hasClass("accordion_2")&&(2==i.length?i.addClass("half"):1==i.length&&i.addClass("full"))};h()};
!function(){$(function(){$("select").each(function(){new e({obj:$(this),optionType:1,showType:2})})});var e=function(e){var t,n,i=this,o=e.obj,s=e.optionType||0,c=e.showType||0,a=e.visible||5,l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=$('<span class="websters-select__item"></span>'),d=$('<div class="websters-select"></div>'),r=$(window),f=$("body"),u=!1,h=function(){var e="";o.css({opacity:0}),o.wrap(d),d=o.parent(),d.append('<div class="websters-select__arrow"></div>'),o.before(p),o.find("option").each(function(){var t=$(this);"selected"==t.attr("selected")&&(e=t.text())}),""==e&&(e=o.find("option").eq(0).text()),p.text(e)},v=function(){u=!1,c?1==c?t.stop(!0,!1).slideUp(300,function(){t.remove()}):2==c&&t.stop(!0,!1).fadeOut(300,function(){t.remove()}):t.css({display:"none"}),d.removeClass("websters-select_opened")},b=function(){o[0].obj=i,h(),g(),w()},w=function(){o.on("change",function(){p.text($(this).find("option:selected").text())}),1!=s||l||(d.on({click:function(e){e.stopPropagation(),u?v():m()}}),r.on({click:function(){u&&v()}})),$(".nice-scroll").on({scroll:function(){u&&v()}})},g=function(){!s||l?y():1==s&&_()},_=function(){d.addClass("websters-select_custom")},y=function(){d.addClass("websters-select_mobile")},m=function(){var e=$("select"),i=$("<ul></ul>"),s=(r.scrollTop(),d.offset()),l=0,p=o.find("option:selected").index(),h=Math.round(1e3*Math.random());e.each(function(){this!==o[0]&&this.obj.checkOpened()&&this.obj.close()}),u&&t.remove(),u=!0,t=$('<div class="websters-select__popup" id="websters-select__popup'+h+'"></div>'),o.find("option").each(function(e){var t=$(this);e==p?i.append('<li class="active">'+t.text()+"</li>"):i.append("<li>"+t.text()+"</li>")}),t.append(i),f.append(t),d.addClass("websters-select_opened"),t.css({width:d.outerWidth(),left:s.left,top:s.top+d.outerHeight()}),l=t.outerHeight(),l>t.find("li").eq(0).outerHeight()*a&&(t.height(t.find("li").eq(0).outerHeight()*a),n=t.perfectScrollbar()),1==c?(t.css({display:"none"}),t.slideDown(300)):2==c&&(t.css({opacity:.1}),t.animate({opacity:1},300)),t.find("li").on({click:function(e){var t=$(this).index();e.stopPropagation(),o.val(o.find("option").eq(t).attr("value")),o.trigger("change"),v()}})};i.checkOpened=function(){return u},i.close=function(){v()},b()}}();
!function(){$(function(){$(".popup").each(function(){new Popup($(this))})})}();var Popup=function(n){var o=this,p=$(".popup__open"),i=n,t=i.find(".popup__close, .popup__cancel"),e=i.find(".popup__wrap"),s=i.find(".popup__content"),c=$("html, body"),d=$(".site__content"),u=$(window),a=!0,f=setTimeout(function(){},1),l=function(){d.css({"z-index":4})},_=function(){d.css({"z-index":2})},r=function(){i.css({overflowY:"hidden"}),i.removeClass("popup_opened"),i.addClass("popup_hide"),f=setTimeout(function(){i.css({overflowY:"auto"}),i.removeClass("popup_hide")},300),u.width()<1024&&(c.css({overflowY:"auto",paddingRight:0}),_()),s.css({display:"none"}),i.find(".popup__addresses").length&&(i.find(".popup__addresses").children().css({display:"none"}),i.find(".popup__addresses").children().html(""),p.removeClass("ajax-block__btn_loaded"))},h=function(){i[0].obj=o,w()},w=function(){u.on({load:function(){a=u.width()>=1024},resize:function(){u.width()>=1024?a=!1:(a||r(),a=!0)}}),p.on({click:function(){return v($(this).attr("data-popup")),!1}}),e.on({click:function(n){n.stopPropagation()}}),i.on({click:function(){return r(),!1}}),t.on({click:function(){return r(),!1}})},v=function(n){m(n),i.addClass("popup_opened"),u.width()<1024&&(c.css({overflowY:"hidden"}),l())},m=function(n){var o=s.filter(".popup__"+n);o.css({display:"block"})};h()};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LndlYnN0ZXJzLXNlbGVjdC5qcyIsImpxdWVyeS5wb3B1cC5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsIk5pY2VTY3JvbGwiLCJ0aGlzIiwiRnVsbEhlaWdodFNpdGUiLCJNZW51IiwiQ1RBIiwiR2FsbGVyeSIsIlJlYWRNb3JlIiwiQWNjb3JkaW9uIiwiQXdhcmRzR2FsbGVyeSIsIlNpdGVDb250ZW50UG9wdXBOaWNlU2Nyb2xsIiwiQWJvdXRQb3J0Zm9saW9Qb3B1cCIsIlNlcnZpY2VzQXJlYUdhbGxlcnkiLCJBamF4UmVxdWVzdFBvcHVwIiwiQ29udGFjdFNpZ24iLCJDYXJlZXJzQXBwbHkiLCJEYXRlcGlja2VyIiwiTmljZUNoZWNrYm94IiwiRmlsZUlucHV0IiwiQ29tbWVudEFuY2hvciIsIlJlc291cmNlc0FqYXgiLCJvYmoiLCJfc2VsZiIsIl9vYmoiLCJfd2luZG93Iiwid2luZG93IiwiX29uRXZlbnRzIiwib24iLCJyZXNpemUiLCJ3aWR0aCIsIl9zZXRIZWlnaHQiLCJfaW5pdCIsImhlaWdodCIsImNzcyIsIm1pbi1oZWlnaHQiLCJfbWVudUJ0biIsImZpbmQiLCJfbWVudUl0ZW1zIiwiX2h0bWwiLCJfYm9keSIsIl9jbG9zZU1lbnUiLCJyZW1vdmVDbGFzcyIsIm92ZXJmbG93LXkiLCJhdHRyIiwiaGFzQ2xhc3MiLCJjbGljayIsIl9vcGVuTWVudSIsImFkZENsYXNzIiwib2Zmc2V0IiwidG9wIiwiX2N0YUJ0biIsImN1ckl0ZW0iLCJfbW9iaWxlU2NyZWVuIiwiX2FkZFNjcm9sbCIsInBlcmZlY3RTY3JvbGxiYXIiLCJsb2FkIiwiX3JlbW92ZVNjcm9sbCIsImdhbGxlcnlUb3AiLCJnYWxsZXJ5VGh1bWJzIiwiX2dhbGxlcnlUb3AiLCJfZ2FsbGVyeVRodW1icyIsIl9kZXN0cm95VGVzdGltb25pYWxzU3dpcGVyIiwiZGVzdHJveSIsImxlbmd0aCIsInN3aXBlciIsImFjdGl2ZUluZGV4Iiwic2xpZGVzIiwiZXEiLCJzbGlkZVRvIiwic2V0VGltZW91dCIsIl9pbml0VGVzdGltb25pYWxzU3dpcGVyIiwiX2luaXRTd2lwZXIiLCJTd2lwZXIiLCJuZXh0QnV0dG9uIiwicHJldkJ1dHRvbiIsInNwYWNlQmV0d2VlbiIsImZyZWVNb2RlIiwiY2VudGVyZWRTbGlkZXMiLCJzbGlkZXNQZXJWaWV3IiwidG91Y2hSYXRpbyIsIm9uQ2xpY2siLCJjbGlja2VkIiwiY2xpY2tlZEluZGV4IiwidXBkYXRlQ2xhc3NlcyIsImNsaWNrZWRTbGlkZSIsIm9uSW5pdCIsImN1cnJlbnROdW0iLCJ0b3RhbENvdW50IiwidGV4dCIsImluZGV4Iiwic2xpY2UiLCJlZmZlY3QiLCJmYWRlIiwiY3Jvc3NGYWRlIiwiX2l0ZW1zIiwiX2Rpc3BsYXlJdGVtcyIsIl9kaXNhcHBlYXJJdGVtcyIsInBhcmVudCIsIm5leHRBbGwiLCJkaXNwbGF5IiwiX3N3aXBlciIsIl9hd2FyZHNHYWxsZXJ5IiwiX3RleHRXcmFwIiwiaHRtbCIsImFjdGl2ZVNsaWRlVGV4dCIsInBhZ2luYXRpb24iLCJwYWdpbmF0aW9uQ2xpY2thYmxlIiwibG9vcCIsIl9wb3B1cEdhbGxlcnkiLCJfcG9wdXBHYWxsZXJ5Q2xvc2UiLCJfcG9wdXBHYWxsZXJ5V3JhcCIsIl9wb3B1cEdhbGxlcnlMb2FkIiwiX3JlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIl9hZGRFdmVudHMiLCJfcmVxdWVzdENvbnRlbnQiLCJfY2xvc2VQb3B1cCIsImRvY3VtZW50IiwiZWxlbSIsImFib3J0IiwiYWpheCIsInVybCIsImRhdGEiLCJhY3Rpb24iLCJpZCIsImRhdGFUeXBlIiwidHlwZSIsInN1Y2Nlc3MiLCJtIiwiZXJyb3IiLCJzdGF0dXNUZXh0IiwiYWxlcnQiLCJfbG9hZEJsb2NrIiwiX3BvcHVwTG9hZCIsImNoaWxkcmVuIiwibHZsIiwiX3Jlc3VsdCIsIl9hcmVhIiwiX2NsZWFyIiwiX3NlbmQiLCJfZGVzdHJveVNpZ25hdHVyZSIsInNpZ25hdHVyZSIsIl9pbml0U2lnbmF0dXJlIiwidmFsIiwidGhpY2tuZXNzIiwiY29sb3IiLCJfc2VsZWN0VmFjYW5jeSIsIl9zZWxlY3RWYWNhbmN5U3BhbiIsIl9oaWRkZW5JbnB1dCIsIl9hcHBseUJ0biIsIl9zdHIiLCJfY2hhbmdlVGFiIiwidHJpZ2dlciIsIl9maWxsU2VsZWN0IiwiY3VySXRlbVRleHQiLCJhcHBlbmQiLCJfdW5jaGVja0FsbEJ0biIsIl93cml0ZUluSW5wdXQiLCJjdXJFbGVtIiwiZGF0YVZhbHVlIiwiZGF0YVRleHQyIiwicmlnaHRPcHRpb24iLCJvcHRpb25UZXh0IiwicHJvcCIsImRhdGFUZXh0MSIsIl9zY3JvbGxCbG9jayIsIl9oaWRlRGF0ZVBpY2tlciIsImRhdGVwaWNrZXIiLCJibHVyIiwic2Nyb2xsIiwiX2luaXREYXRlUGlja2VyIiwiX2xhYmVsIiwib2ZmIiwibmFtZSIsImNsb3Nlc3QiLCJub3QiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbmNlbEJ1YmJsZSIsIl9pbnB1dEZpbGUiLCJfaW5wdXRUZXh0IiwiY2hhbmdlIiwiX2NvbW1lbnRzQ3VzdG9tZXIiLCJfY29udGVudCIsIl9jb21tZW50c0Zvcm0iLCJfZG9tIiwicGFyZW50cyIsInBvc0NvbW1lbnRUb3AiLCJzdG9wIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImNvbnRlbnRTY3JvbGxUb3AiLCJwb3NpdGlvbiIsIl9zY3JvbGxUb0NvbW1lbnRzIiwiX3dyYXBJdGVtcyIsIl9sb2FkZXIiLCJfcGFyZW50T2JqIiwidGFnSWQiLCJfdXBkYXRlU2Nyb2xsIiwiX2FjY29yZGlvbkNhcHRpb24iLCJfYWNjb3JkaW9uQ29udGVudCIsIl9wb3MiLCJfcG9zVG9wIiwiX2NsaWNrRmxhZyIsIl9jbG9zZUFjY29yZGlvbiIsIm5leHRFbGVtIiwibWFyZ2luLWJvdHRvbSIsImZpbHRlciIsIl9zZXRQb3NJdGVtcyIsIm5leHQiLCJfb3BlbkFjY29yZGlvbiIsIl9zY3JvbGxUbyIsIl9zZXRXaWR0aCIsImNhcHRpb24iLCJpbm5lckhlaWdodCIsImVsZW1Qb3MiLCJlbGVtSGVpZ2h0IiwiV2Vic3RlcnNTZWxlY3QiLCJvcHRpb25UeXBlIiwic2hvd1R5cGUiLCJwYXJhbXMiLCJfcG9wdXAiLCJfc2Nyb2xsIiwiX29wdGlvblR5cGUiLCJfc2hvd1R5cGUiLCJfdmlzaWJsZSIsInZpc2libGUiLCJfZGV2aWNlIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIl90ZXh0IiwiX3dyYXAiLCJfb3BlbmVkIiwiX2FkZFdyYXAiLCJjdXJUZXh0Iiwib3BhY2l0eSIsIndyYXAiLCJiZWZvcmUiLCJfaGlkZVBvcHVwIiwic2xpZGVVcCIsInJlbW92ZSIsImZhZGVPdXQiLCJfY29uc3RydWN0b3IiLCJfc2VsZWN0Vmlld1R5cGUiLCJlIiwiX3Nob3dQb3B1cCIsIl9zZXRNb2JpbGVWaWV3IiwiX3NldEN1c3RvbTEiLCJzZWxlY3RzIiwibGlzdCIsIm1heEhlaWdodCIsImN1ckluZGV4IiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwiY2hlY2tPcGVuZWQiLCJjbG9zZSIsImkiLCJvdXRlcldpZHRoIiwibGVmdCIsIm91dGVySGVpZ2h0Iiwic2xpZGVEb3duIiwiUG9wdXAiLCJfYnRuU2hvdyIsIl9idG5DbG9zZSIsIl9jb250ZW50cyIsIl90aW1lciIsIl9jaGFuZ2VDb250ZW50WmluZGV4Iiwiei1pbmRleCIsIl9yZXNldENvbnRlbnRaaW5kZXgiLCJfaGlkZSIsIm92ZXJmbG93WSIsInBhZGRpbmdSaWdodCIsIl9zaG93IiwiY2xhc3NOYW1lIiwiX3NldFBvcHVwQ29udGVudCIsImN1ckNvbnRlbnQiXSwibWFwcGluZ3MiOiJDQUFBLFdBRUlBLEVBQUcsV0FDQyxZQUVBQSxHQUFFQyxLQUFNRCxFQUFFLGdCQUFpQixXQUV2QixHQUFJRSxHQUFZRixFQUFFRyxTQUl0QkgsRUFBRUMsS0FBTUQsRUFBRSxTQUFVLFdBRWhCLEdBQUlJLEdBQWdCSixFQUFFRyxTQVUxQkgsRUFBRUMsS0FBTUQsRUFBRSxpQkFBa0IsV0FFeEIsR0FBSUssR0FBTUws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QUthLEtBQUsscUJBQXFCMkIsU0FFL0J4QyxFQUFLYSxLQUFLLHFCQUFxQmtHLFdBQVdyRyxLQUFPa0UsUUFBUyxTQUMxRDVFLEVBQUthLEtBQUsscUJBQXFCa0csV0FBVy9CLEtBQUssSUFDL0NpSyxFQUFTL04sWUFBWSw0QkFLN0JWLEVBQVEsV0FDSlIsRUFBTSxHQUFJRixJQUFNQyxFQUNoQkksS0FFSkEsRUFBWSxXQUVSRixFQUFRRyxJQUVKNEIsS0FBTSxXQUVGSCxFQUFnQjVCLEVBQVFLLFNBQVcsTUFHdkNELE9BQVEsV0FHQUosRUFBUUssU0FBVyxLQUVuQnVCLEdBQWdCLEdBSVhBLEdBRUQyTixJQUlKM04sR0FBZ0IsTUFTNUJvTixFQUFTN08sSUFDTGtCLE1BQU8sV0FHSCxNQUZBcU8sR0FBT25SLEVBQUdHLE1BQU95QyxLQUFNLGdCQUVoQixLQUlmNkwsRUFBTTdNLElBQ0ZrQixNQUFPLFNBQVV3TSxHQUNiQSxFQUFFcEUscUJBR1YxSixFQUFLSSxJQUNEa0IsTUFBTyxXQUVILE1BREFrTyxNQUNPLEtBR2ZOLEVBQVU5TyxJQUNOa0IsTUFBTyxXQUVILE1BREFrTyxNQUNPLE1BSW5CRyxFQUFRLFNBQVVDLEdBQ2RDLEVBQWtCRCxHQUVsQjVQLEVBQUt3QixTQUFVLGdCQUVYdkIsRUFBUUssUUFBVSxPQUVsQjRKLEVBQUt4SixLQUNEK08sVUFBVyxXQUdmSixNQUlSUSxFQUFtQixTQUFVRCxHQUN6QixHQUFJRSxHQUFhWCxFQUFVM0QsT0FBUSxXQUFhb0UsRUFHaERFLEdBQVdwUCxLQUFPa0UsUUFBUyxVQVFuQ3BFIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24oKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgICAkLmVhY2goICQoJy5uaWNlLXNjcm9sbCcpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBOaWNlU2Nyb2xsKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnNpdGUnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgRnVsbEhlaWdodFNpdGUoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgLy8kLmVhY2goICQoJy5zaXRlX19jb250ZW50X193cmFwJyksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgbmV3IEZ1bGxIZWlnaHRTaXRlSW5uZXIoICQodGhpcykgKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy99ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuc2l0ZV9faGVhZGVyJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IE1lbnUoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcubWVudScpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBOaWNlU2Nyb2xsKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnRvcC1saW5rcycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBDVEEoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgLy8kLmVhY2goICQoJ2JvZHknKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICBuZXcgWm9vbVNpdGUoICQodGhpcykgKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy99ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCAnLmdhbGxlcnknICksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5ldyBHYWxsZXJ5KCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoICcuc2l0ZV9fcmVhZC1tb3JlJyApLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBuZXcgUmVhZE1vcmUoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCggJy5hY2NvcmRpb24gZGwnICksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5ldyBBY2NvcmRpb24oICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCggJy5hd2FyZHMnICksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5ldyBBd2FyZHNHYWxsZXJ5KCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5wb3B1cC1pbmZvJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFNpdGVDb250ZW50UG9wdXBOaWNlU2Nyb2xsKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLmFib3V0LXBvcnRmb2xpbycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBBYm91dFBvcnRmb2xpb1BvcHVwKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCggJy5zZXJ2aWNlcy1hcmVhc19fZ2FsbGVyeScgKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmV3IFNlcnZpY2VzQXJlYUdhbGxlcnkoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLmFqYXgtYmxvY2snKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgQWpheFJlcXVlc3RQb3B1cCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5jb250YWN0X19zaWduJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IENvbnRhY3RTaWduKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLmFjY29yZGlvbl9jYXJlZXJzJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IENhcmVlcnNBcHBseSggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5kYXRlcGlja2VyJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IERhdGVwaWNrZXIoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcubmljZS1jaGVja2JveCcpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBOaWNlQ2hlY2tib3goICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuY29udGFjdF9fZmlsZScpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBGaWxlSW5wdXQoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcucmVzb3VyY2VzX19saW5rcy1pdGVtX2NvbW1lbnRzJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IENvbW1lbnRBbmNob3IoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcucmVzb3VyY2VzX19hamF4LXdyYXAnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgUmVzb3VyY2VzQWpheCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBGdWxsSGVpZ2h0U2l0ZSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcblxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcbiAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LmhlaWdodCgpID49IDUwMCApIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWluLWhlaWdodCc6ICcxMDAlJ1xuXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5jc3MoIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiAnNTAwcHgnXG5cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBGdWxsSGVpZ2h0U2l0ZUlubmVyID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF90aXRsZSA9ICQoJy5zaXRlX19jb250ZW50ID4gLnNpdGVfX3RpdGxlJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcblxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0UG9zVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVzZXRQb3NUb3AoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX3NldFBvc1RvcCgpO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0UG9zVG9wID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHBvc1RvcCA9IF90aXRsZS5vZmZzZXQoKS50b3AgKyBfdGl0bGUub3V0ZXJIZWlnaHQoIHRydWUgKTtcblxuICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IHBvc1RvcFxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3Jlc2V0UG9zVG9wID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcblxuICAgICAgICAgICAgICAgICAgICAndG9wJzogJ2F1dG8nXG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93KSxcbiAgICAgICAgICAgIF9tZW51QnRuID0gX29iai5maW5kKCcuc2l0ZV9faGVhZGVyX19idG4nKSxcbiAgICAgICAgICAgIF9tZW51SXRlbXMgPSBfb2JqLmZpbmQoJy5zaXRlX19oZWFkZXJfX2l0ZW1zJyksXG4gICAgICAgICAgICBfaHRtbCA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgIF9ib2R5ID0gJCgnYm9keScpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfY2xvc2VNZW51ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX21lbnVJdGVtcy5hdHRyKCAnc3R5bGUnLCAnJyApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX29iai5oYXNDbGFzcyggJ29wZW5lZCcgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9tZW51QnRuLm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouaGFzQ2xhc3MoICdvcGVuZWQnICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VNZW51KCk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdvcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2JvZHkuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX21lbnVJdGVtcy5oZWlnaHQoIF93aW5kb3cuaGVpZ2h0KCkgLSBfbWVudUl0ZW1zLm9mZnNldCgpLnRvcCApO1xuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBDVEEgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfY3RhQnRuID0gX29iai5maW5kKCcudG9wLWxpbmtzX19pdGVtJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9jdGFCdG4ub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmhhc0NsYXNzKCAnb3BlbmVkJyApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2N0YUJ0bi5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIE5pY2VTY3JvbGwgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93KSxcbiAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkU2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5wZXJmZWN0U2Nyb2xsYmFyKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gX3dpbmRvdy53aWR0aCgpID49IDEwMjQ7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9tb2JpbGVTY3JlZW4gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9tb2JpbGVTY3JlZW4gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFNjcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucGVyZmVjdFNjcm9sbGJhcigndXBkYXRlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIV9tb2JpbGVTY3JlZW4gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlbW92ZVNjcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IHRydWVcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlbW92ZVNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5wZXJmZWN0U2Nyb2xsYmFyKCdkZXN0cm95Jyk7XG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgWm9vbVNpdGUgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCAnYm9keScgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0U2l6ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2JvZHkuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdmb250LXNpemUnOiAnNzVweCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9zZXRTaXplKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldFNpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV3U2l6ZTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LmhlaWdodCgpID4gNTAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld1NpemUgPSAoIDEwMCAqICggd2luZG93LmlubmVySGVpZ2h0IC8gOTAwICkgKSArICdweCc7XG5cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3U2l6ZSA9ICggMTAwICogKCA1MDAgLyA5MDAgKSApICsgJ3B4JztcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9ib2R5LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogbmV3U2l6ZVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBHYWxsZXJ5ID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2dhbGxlcnlUb3AgPSBvYmouZmluZCgnLmdhbGxlcnlfX3RvcCcpLFxuICAgICAgICAgICAgX2dhbGxlcnlUaHVtYnMgPSBvYmouZmluZCgnLmdhbGxlcnlfX3RodW1icycpLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIGdhbGxlcnlUb3AsXG4gICAgICAgICAgICBnYWxsZXJ5VGh1bWJzLFxuICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IHRydWU7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9kZXN0cm95VGVzdGltb25pYWxzU3dpcGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBnYWxsZXJ5VG9wLmRlc3Ryb3koIHRydWUsIHRydWUgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIGlmKCBfZ2FsbGVyeVRvcC5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeVRvcC5vbiggJ3NsaWRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoIHN3aXBlciApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgJCggZ2FsbGVyeVRodW1icy5zbGlkZXMgKS5yZW1vdmVDbGFzcyggJ2lzLXNlbGVjdGVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCggZ2FsbGVyeVRodW1icy5zbGlkZXMgKS5lcSggYWN0aXZlSW5kZXggKS5hZGRDbGFzcyggJ2lzLXNlbGVjdGVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeVRodW1icy5zbGlkZVRvKCBhY3RpdmVJbmRleCwgNTAwLCBmYWxzZSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSBfd2luZG93LndpZHRoKCkgPj0gMTAyNDtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKCBfb2JqLmhhc0NsYXNzKCAnZ2FsbGVyeV8yJyApICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rlc3Ryb3lUZXN0aW1vbmlhbHNTd2lwZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5pdFRlc3RpbW9uaWFsc1N3aXBlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMCApO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGVzdHJveVRlc3RpbW9uaWFsc1N3aXBlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0VGVzdGltb25pYWxzU3dpcGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRTd2lwZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmKCAhKCBfb2JqLmhhc0NsYXNzKCAnZ2FsbGVyeV8yJyApICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2luaXRUZXN0aW1vbmlhbHNTd2lwZXIoKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeVRvcCA9IG5ldyBTd2lwZXIoIF9nYWxsZXJ5VG9wLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfZ2FsbGVyeVRodW1icy5maW5kKCAnLnN3aXBlci1idXR0b24tbmV4dCcgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246ICBfZ2FsbGVyeVRodW1icy5maW5kKCAnLnN3aXBlci1idXR0b24tcHJldicgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTBcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZ2FsbGVyeVRodW1icyA9IG5ldyBTd2lwZXIoIF9nYWxsZXJ5VGh1bWJzLmZpbmQoICcuc3dpcGVyLWNvbnRhaW5lcicgKSwge1xuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDM3LFxuICAgICAgICAgICAgICAgICAgICBmcmVlTW9kZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoUmF0aW86IDAuMixcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCBzd2lwZXIgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGlja2VkID0gc3dpcGVyLmNsaWNrZWRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXBlci5hY3RpdmVJbmRleCA9IGNsaWNrZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2lwZXIudXBkYXRlQ2xhc3NlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCggc3dpcGVyLnNsaWRlcyApLnJlbW92ZUNsYXNzKCAnaXMtc2VsZWN0ZWQnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCBzd2lwZXIuY2xpY2tlZFNsaWRlICkuYWRkQ2xhc3MoICdpcy1zZWxlY3RlZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbGxlcnlUb3Auc2xpZGVUbyggY2xpY2tlZCwgNTAwLCBmYWxzZSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uSW5pdDogZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWxDb3VudCA9IF9nYWxsZXJ5VGh1bWJzLmZpbmQoICcuc3dpcGVyLXNsaWRlJykubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROdW07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCB0b3RhbENvdW50IDwgMTAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxDb3VudCA9ICcwJyArIHRvdGFsQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9nYWxsZXJ5VGh1bWJzLmZpbmQoICcuZ2FsbGVyeV9fdGh1bWJzLXRvdGFsLWNvdW50JyApLnRleHQoIHRvdGFsQ291bnQgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dhbGxlcnlUaHVtYnMuZmluZCggJy5zd2lwZXItc2xpZGUnKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROdW0gPSAkKCB0aGlzICkuaW5kZXgoKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VycmVudE51bSA8IDEwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TnVtID0gJzAnICsgY3VycmVudE51bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgIGlmICggY3VycmVudE51bVswXSA9PSAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TnVtID0gY3VycmVudE51bS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCB0aGlzICkuZmluZCggJy5nYWxsZXJ5X190aHVtYnMtY3VycmVudC1udW0nICkudGV4dCggY3VycmVudE51bSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRUZXN0aW1vbmlhbHNTd2lwZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0xMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGdhbGxlcnlUb3AgPSBuZXcgU3dpcGVyKCBfZ2FsbGVyeVRvcCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX2dhbGxlcnlUaHVtYnMuZmluZCggJy5zd2lwZXItYnV0dG9uLW5leHQnICksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiAgX2dhbGxlcnlUaHVtYnMuZmluZCggJy5zd2lwZXItYnV0dG9uLXByZXYnICksXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnZmFkZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NGYWRlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeVRvcCA9IG5ldyBTd2lwZXIoIF9nYWxsZXJ5VG9wLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfZ2FsbGVyeVRodW1icy5maW5kKCAnLnN3aXBlci1idXR0b24tbmV4dCcgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246ICBfZ2FsbGVyeVRodW1icy5maW5kKCAnLnN3aXBlci1idXR0b24tcHJldicgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTBcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfaW5pdFN3aXBlcigpO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgUmVhZE1vcmUgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93KSxcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknKSxcbiAgICAgICAgICAgIF9pdGVtcztcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaXNwbGF5SXRlbXMoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX2Rpc2FwcGVhckl0ZW1zKCk7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9kaXNhcHBlYXJJdGVtcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9pdGVtcyA9IF9vYmoucGFyZW50KCkubmV4dEFsbCgpO1xuXG4gICAgICAgICAgICAgICAgX2l0ZW1zLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZGlzcGxheUl0ZW1zID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2l0ZW1zLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIEF3YXJkc0dhbGxlcnkgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfYXdhcmRzR2FsbGVyeSA9IF9vYmouZmluZCgnLnN3aXBlci1jb250YWluZXInKSxcbiAgICAgICAgICAgIF90ZXh0V3JhcCA9ICQoJy5hd2FyZHNfX3RleHQtd3JhcCBkaXYnKSxcbiAgICAgICAgICAgIF9zd2lwZXI7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3N3aXBlci5vbiggJ3NsaWRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX3RleHRXcmFwLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgX3RleHRXcmFwLmh0bWwoJycpO1xuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3N3aXBlci5vbiggJ3NsaWRlQ2hhbmdlRW5kJywgZnVuY3Rpb24gKCBzd2lwZXIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2xpZGVUZXh0ID0gc3dpcGVyLnNsaWRlcy5lcSggYWN0aXZlSW5kZXggKS5maW5kKCAnLmF3YXJkc19fdGV4dCcgKTtcblxuICAgICAgICAgICAgICAgICAgICBfdGV4dFdyYXAucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICBfdGV4dFdyYXAuaHRtbCggYWN0aXZlU2xpZGVUZXh0Lmh0bWwoKSApO1xuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRTd2lwZXIgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgX3N3aXBlciA9IG5ldyBTd2lwZXIoIF9hd2FyZHNHYWxsZXJ5LCB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IF9hd2FyZHNHYWxsZXJ5LmZpbmQoICcuc3dpcGVyLXBhZ2luYXRpb24nICksXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9hd2FyZHNHYWxsZXJ5LmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyApLFxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfYXdhcmRzR2FsbGVyeS5maW5kKCAnLnN3aXBlci1idXR0b24tcHJldicgKSxcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgb25Jbml0OiBmdW5jdGlvbiggc3dpcGVyICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2xpZGVUZXh0ID0gc3dpcGVyLnNsaWRlcy5lcSggYWN0aXZlSW5kZXggKS5maW5kKCAnLmF3YXJkc19fdGV4dCcgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3RleHRXcmFwLmh0bWwoIGFjdGl2ZVNsaWRlVGV4dC5odG1sKCkgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfaW5pdFN3aXBlcigpO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgU2l0ZUNvbnRlbnRQb3B1cE5pY2VTY3JvbGwgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93KSxcbiAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkU2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5wZXJmZWN0U2Nyb2xsYmFyKCk7XG5cbiAgICAgICAgICAgICAgICB9LCAxMCApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IF93aW5kb3cud2lkdGgoKSA+PSAxMDI0O1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFNjcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVtb3ZlU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gdHJ1ZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVtb3ZlU2Nyb2xsID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnBlcmZlY3RTY3JvbGxiYXIoJ2Rlc3Ryb3knKTtcbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgQWJvdXRQb3J0Zm9saW9Qb3B1cCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pdGVtcyA9IF9vYmouZmluZCgnLmFib3V0LXBvcnRmb2xpb19faXRlbScpLFxuICAgICAgICAgICAgX3BvcHVwR2FsbGVyeSA9ICQoJy5nYWxsZXJ5LXBvcHVwJyksXG4gICAgICAgICAgICBfcG9wdXBHYWxsZXJ5Q2xvc2UgPSBfcG9wdXBHYWxsZXJ5LmZpbmQoJy5nYWxsZXJ5LXBvcHVwX19jbG9zZScpLFxuICAgICAgICAgICAgX3BvcHVwR2FsbGVyeVdyYXAgPSBfcG9wdXBHYWxsZXJ5LmZpbmQoJy5nYWxsZXJ5LXBvcHVwX193cmFwJyksXG4gICAgICAgICAgICBfcG9wdXBHYWxsZXJ5TG9hZCA9IF9wb3B1cEdhbGxlcnkuZmluZCgnLmdhbGxlcnktcG9wdXBfX3ByZWxvYWRlcicpLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9odG1sID0gJCgnaHRtbCcpLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCdib2R5JyksXG4gICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gdHJ1ZSxcbiAgICAgICAgICAgIF9yZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfaXRlbXMub24oIHtcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfcG9wdXBHYWxsZXJ5LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaHRtbC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQoIGN1ckl0ZW0gKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfcG9wdXBHYWxsZXJ5Q2xvc2Uub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VQb3B1cCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSBfd2luZG93LndpZHRoKCkgPj0gMTAyNDtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9tb2JpbGVTY3JlZW4gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFNjcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZW1vdmVTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hZGRTY3JvbGwgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgLy8kKGRvY3VtZW50KS5maW5kKCcuZ2FsbGVyeS1wb3B1cF9fdGV4dCcpLm5pY2VTY3JvbGwoIHtcbiAgICAgICAgICAgICAgICAvLyAgICBjdXJzb3Jjb2xvcjpcIiNmZWMzMDNcIixcbiAgICAgICAgICAgICAgICAvLyAgICBjdXJzb3JvcGFjaXR5bWluOiBcIjBcIixcbiAgICAgICAgICAgICAgICAvLyAgICBjdXJzb3Jib3JkZXJyYWRpdXM6IFwiMnB4XCIsXG4gICAgICAgICAgICAgICAgLy8gICAgY3Vyc29yYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAvLyAgICBiYWNrZ3JvdW5kOiBcIiMzZDNlNDJcIixcbiAgICAgICAgICAgICAgICAvLyAgICBjdXJzb3J3aWR0aDogXCI1cHhcIixcbiAgICAgICAgICAgICAgICAvLyAgICAvL2F1dG9oaWRlbW9kZTogJ2xlYXZlJyxcbiAgICAgICAgICAgICAgICAvLyAgICBlbmFibGVtb3VzZXdoZWVsOiB0cnVlXG4gICAgICAgICAgICAgICAgLy99ICk7XG5cblxuXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkuZmluZCgnLmdhbGxlcnktcG9wdXBfX3RleHQnKS5wZXJmZWN0U2Nyb2xsYmFyKCk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkuZmluZCgnLmdhbGxlcnktcG9wdXBfX3RleHQnKS5wZXJmZWN0U2Nyb2xsYmFyKCd1cGRhdGUnKTtcblxuICAgICAgICAgICAgICAgIH0sIDIwMCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xvc2VQb3B1cCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgIF9ib2R5LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3BvcHVwR2FsbGVyeS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3BvcHVwR2FsbGVyeUxvYWQuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfcG9wdXBHYWxsZXJ5V3JhcC5odG1sKCcnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50ID0gZnVuY3Rpb24gKCBlbGVtICkge1xuXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBfcmVxdWVzdCA9ICQuYWpheCgge1xuICAgICAgICAgICAgICAgICAgICAvLyB1cmw6IF9vYmouYXR0cignZGF0YS1hY3Rpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCdib2R5JykuZGF0YSgnYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbiA6ICdnZXRfZ2FsbGVyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZWxlbS5hdHRyKCdkYXRhLWlkJylcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKG0pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3BvcHVwR2FsbGVyeVdyYXAuaHRtbChtKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQobSkuaGFzQ2xhc3MoJ2dhbGxlcnknKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goICQoICcuZ2FsbGVyeScgKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgR2FsbGVyeSggJCh0aGlzKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcG9wdXBHYWxsZXJ5TG9hZC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJFUlJPUiEhIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZW1vdmVTY3JvbGwgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLmZpbmQoJy5nYWxsZXJ5LXBvcHVwX190ZXh0JykucGVyZmVjdFNjcm9sbGJhcignZGVzdHJveScpO1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLmZpbmQoJy5nYWxsZXJ5LXBvcHVwX190ZXh0JykuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2F1dG8nXG4gICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTZXJ2aWNlc0FyZWFHYWxsZXJ5ID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2F3YXJkc0dhbGxlcnkgPSBfb2JqLmZpbmQoJy5zd2lwZXItY29udGFpbmVyJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9pbml0U3dpcGVyID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKCBfb2JqLCB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9vYmouZmluZCggJy5zd2lwZXItYnV0dG9uLW5leHQnICksXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9vYmouZmluZCggJy5zd2lwZXItYnV0dG9uLXByZXYnICksXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMzBcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9pbml0U3dpcGVyKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBBamF4UmVxdWVzdFBvcHVwID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2l0ZW1zID0gX29iai5maW5kKCcuYWpheC1ibG9ja19fYnRuJyksXG4gICAgICAgICAgICBfbG9hZEJsb2NrID0gJCggJy5hamF4LWJsb2NrLScgKyBfb2JqLmF0dHIoICdkYXRhLWJsb2NrJyApICksXG4gICAgICAgICAgICBfcG9wdXBMb2FkID0gJCgnLnBvcHVwX19wcmVsb2FkZXInKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gdHJ1ZSxcbiAgICAgICAgICAgIF9yZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9pdGVtcy5vbigge1xuICAgICAgICAgICAgICAgICAgICAnY2xpY2snOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKCB0aGlzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKCBjdXJJdGVtLmhhc0NsYXNzKCdhamF4LWJsb2NrX19idG5fbG9hZGVkJykpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZW1zLnJlbW92ZUNsYXNzKCdhamF4LWJsb2NrX19idG5fbG9hZGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcygnYWpheC1ibG9ja19fYnRuX2xvYWRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wb3B1cExvYWQucmVtb3ZlQ2xhc3MoICdoaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xvYWRCbG9jay5odG1sKCcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkQmxvY2suY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbG9hZEJsb2NrLm5leHRBbGwoKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCBjdXJJdGVtICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gX3dpbmRvdy53aWR0aCgpID49IDEwMjQ7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRTY3JvbGwoIF9sb2FkQmxvY2suY2hpbGRyZW4oKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZW1vdmVTY3JvbGwoIF9sb2FkQmxvY2suY2hpbGRyZW4oKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IHRydWVcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hZGRTY3JvbGwgPSBmdW5jdGlvbiggZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIC8vZWxlbS5uaWNlU2Nyb2xsKCB7XG4gICAgICAgICAgICAgICAgLy8gICAgY3Vyc29yY29sb3I6XCIjMjcyODJkXCIsXG4gICAgICAgICAgICAgICAgLy8gICAgY3Vyc29yb3BhY2l0eW1pbjogXCIwXCIsXG4gICAgICAgICAgICAgICAgLy8gICAgY3Vyc29yYm9yZGVycmFkaXVzOiBcIjJweFwiLFxuICAgICAgICAgICAgICAgIC8vICAgIGN1cnNvcmJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgLy8gICAgYmFja2dyb3VuZDogXCIjM2QzZTQyXCIsXG4gICAgICAgICAgICAgICAgLy8gICAgY3Vyc29yd2lkdGg6IFwiNXB4XCIsXG4gICAgICAgICAgICAgICAgLy8gICAgLy9hdXRvaGlkZW1vZGU6ICdsZWF2ZScsXG4gICAgICAgICAgICAgICAgLy8gICAgZW5hYmxlbW91c2V3aGVlbDogdHJ1ZVxuICAgICAgICAgICAgICAgIC8vfSApO1xuXG4gICAgICAgICAgICAgICAgZWxlbS5wZXJmZWN0U2Nyb2xsYmFyKCk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW0ucGVyZmVjdFNjcm9sbGJhcigndXBkYXRlJyk7XG5cbiAgICAgICAgICAgICAgICB9LCAyMDAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQgPSBmdW5jdGlvbiAoIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5hYm9ydCgpO1xuXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXJsOiBfb2JqLmF0dHIoJ2RhdGEtYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIHVybDogJCgnYm9keScpLmF0dHIoJ2RhdGEtYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2dldF9hcmVhcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBsdmw6IGVsZW0uYXR0cignZGF0YS1sdmwnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBlbGVtLmF0dHIoJ2RhdGEtaWQnKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoIG0gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkQmxvY2suaHRtbCggbSApO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfbG9hZEJsb2NrLmZpbmQoJy5hamF4LWJsb2NrJykubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFqYXhSZXF1ZXN0UG9wdXAoIF9sb2FkQmxvY2suZmluZCgnLmFqYXgtYmxvY2snKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2xvYWRCbG9jay5maW5kKCcuYWNjb3JkaW9uJykubGVuZ3RoICkge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goIF9sb2FkQmxvY2suZmluZCgnLmFjY29yZGlvbl8yIGRsJyksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFjY29yZGlvbiggJCh0aGlzKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkU2Nyb2xsKCBfbG9hZEJsb2NrLmNoaWxkcmVuKCkgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BvcHVwTG9hZC5hZGRDbGFzcyggJ2hpZGUnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChYTUxIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9IFwiYWJvcnRcIiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVSUk9SISEhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlbW92ZVNjcm9sbCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG4gICAgICAgICAgICAgICAgZWxlbS5wZXJmZWN0U2Nyb2xsYmFyKCdkZXN0cm95Jyk7XG5cbiAgICAgICAgICAgICAgICBlbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgQ29udGFjdFNpZ24gPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfYXJlYSA9IF9vYmouZmluZCgnLmNvbnRhY3RfX3NpZ24tYXJlYScpLFxuICAgICAgICAgICAgX2NsZWFyID0gX29iai5maW5kKCcuY29udGFjdF9fc2lnbi1yZWZyZXNoJyksXG4gICAgICAgICAgICBfc2VuZCA9ICQoJy5jYW52YXNfY2hlY2snKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfcmVzdWx0O1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfZGVzdHJveVNpZ25hdHVyZSA9ICBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9hcmVhLnNpZ25hdHVyZSgnZGVzdHJveScpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfY2xlYXIub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfYXJlYS5zaWduYXR1cmUoJ2NsZWFyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZGVzdHJveVNpZ25hdHVyZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRTaWduYXR1cmUoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3NlbmQub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX2FyZWEuc2lnbmF0dXJlKCdpc0VtcHR5JykgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHQgPSBfYXJlYS5zaWduYXR1cmUoJ3RvU1ZHJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FyZWEucmVtb3ZlQ2xhc3MoICdjb250YWN0X19zaWduLWFyZWEtcmVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zaWduX3ZhbCcpLnZhbCggX3Jlc3VsdCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FyZWEuYWRkQ2xhc3MoICdjb250YWN0X19zaWduLWFyZWEtcmVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zaWduX3ZhbCcpLnZhbCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9pbml0U2lnbmF0dXJlKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFNpZ25hdHVyZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9hcmVhLnNpZ25hdHVyZSgge1xuICAgICAgICAgICAgICAgICAgICB0aGlja25lc3M6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBDYXJlZXJzQXBwbHkgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfaGlkZGVuSW5wdXQgPSAkKCcuY2FyZWVyc190aGVtZXMnKSxcbiAgICAgICAgICAgIF9hcHBseUJ0biA9IF9vYmouZmluZCgnLmFwcGx5JyksXG4gICAgICAgICAgICBfc3RyID0gJycsXG4gICAgICAgICAgICBfc2VsZWN0VmFjYW5jeSxcbiAgICAgICAgICAgIF9zZWxlY3RWYWNhbmN5U3BhbjtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NoYW5nZVRhYiA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgJCgnLnRhYnM+ZGw+ZHQ6bm90KC5hY3RpdmUpJykudHJpZ2dlcignY2xpY2snKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9maWxsU2VsZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgX29iai5maW5kKCdkbD5kdCcpLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbVRleHQgPSBjdXJJdGVtLnRleHQoKTtcblxuICAgICAgICAgICAgICAgICAgICBfc2VsZWN0VmFjYW5jeS5maW5kKCdzZWxlY3QnKS5hcHBlbmQoJzxvcHRpb24gdmFsdWU9XCInK2N1ckl0ZW1UZXh0KydcIj4nK2N1ckl0ZW1UZXh0Kyc8L29wdGlvbj4nKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfc2VsZWN0VmFjYW5jeVNwYW4udGV4dCggX3NlbGVjdFZhY2FuY3kuZmluZCgnc2VsZWN0IG9wdGlvbjpzZWxlY3RlZCcpLnRleHQoKSApXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxlY3RWYWNhbmN5ID0gJCgnLnZhY2FuY3knKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxlY3RWYWNhbmN5U3BhbiA9IF9zZWxlY3RWYWNhbmN5LmZpbmQoJy53ZWJzdGVycy1zZWxlY3RfX2l0ZW0nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2ZpbGxTZWxlY3QoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGVjdFZhY2FuY3kuZmluZCgnc2VsZWN0Jykub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIHNlbGVjdGVkT3B0aW9uID0gJCh0aGlzKS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBzZWxlY3RlZE9wdGlvblZhbHVlID0gc2VsZWN0ZWRPcHRpb24uYXR0cigndmFsdWUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBhcHBseUJ0biA9IF9hcHBseUJ0bi5maWx0ZXIoJ1tkYXRhLXZhbHVlPScrc2VsZWN0ZWRPcHRpb25WYWx1ZSsnXScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIGFwcGx5QnRuVGV4dCA9IGFwcGx5QnRuLmRhdGEoJ3RleHQyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgZGF0YVZhbHVlID0gYXBwbHlCdG4uZGF0YSgndmFsdWUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF91bmNoZWNrQWxsQnRuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hcHBseUJ0bi5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FwcGx5QnRuLmZpbmQoJ3NwYW4nKS50ZXh0KGFwcGx5QnRuVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9fc3RyID0gZGF0YVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93cml0ZUluSW5wdXQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfYXBwbHlCdG4ub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRWxlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVZhbHVlID0gY3VyRWxlbS5kYXRhKCd2YWx1ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUZXh0MiA9IGN1ckVsZW0uZGF0YSgndGV4dDInKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodE9wdGlvbiA9IF9zZWxlY3RWYWNhbmN5LmZpbmQoJ29wdGlvbicpLmVxKGRhdGFWYWx1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVGV4dCA9IHJpZ2h0T3B0aW9uLnRleHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3VuY2hlY2tBbGxCdG4oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICEoIGN1ckVsZW0uaGFzQ2xhc3MoICdhY3RpdmUnICkgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uYWRkQ2xhc3MoICdhY3RpdmUnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5maW5kKCdzcGFuJykudGV4dChkYXRhVGV4dDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdHIgPSBkYXRhVmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF93cml0ZUluSW5wdXQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGVjdFZhY2FuY3kuZmluZCgnb3B0aW9uJykucHJvcCgnc2VsZWN0ZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodE9wdGlvbi5wcm9wKCdzZWxlY3RlZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGVjdFZhY2FuY3lTcGFuLnRleHQoIG9wdGlvblRleHQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGFuZ2VUYWIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3VuY2hlY2tBbGxCdG4gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfYXBwbHlCdG4uZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckVsZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVRleHQxID0gY3VyRWxlbS5kYXRhKCd0ZXh0MScpO1xuXG4gICAgICAgICAgICAgICAgICAgIGN1ckVsZW0ucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XG4gICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uZmluZCgnc3BhbicpLnRleHQoZGF0YVRleHQxKTtcblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9zdHIgPSAnJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfd3JpdGVJbklucHV0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfaGlkZGVuSW5wdXQudmFsKCBfc3RyICk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIERhdGVwaWNrZXIgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfc2Nyb2xsQmxvY2sgPSAkKCcubmljZS1zY3JvbGwnKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2hpZGVEYXRlUGlja2VyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmRhdGVwaWNrZXIoICdoaWRlJyApO1xuICAgICAgICAgICAgICAgIF9vYmouYmx1cigpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3Njcm9sbEJsb2NrLm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVEYXRlUGlja2VyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlRGF0ZVBpY2tlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfaW5pdERhdGVQaWNrZXIoKTtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0RGF0ZVBpY2tlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5kYXRlcGlja2VyKCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIE5pY2VDaGVja2JveCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9sYWJlbCA9IF9vYmouZmluZCgnbGFiZWwnKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2xhYmVsLmZpbmQoJ2lucHV0OmNoZWNrYm94Jykub2ZmKCAnY2xpY2snLGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9ICQoIHRoaXMgKS5hdHRyKCAnbmFtZScgKTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCdmb3JtJykuZmluZCgnaW5wdXQ6Y2hlY2tib3hbbmFtZT1cIicgKyBuYW1lICsgJ1wiXScpLm5vdCh0aGlzKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9sYWJlbC5jbGljayggZnVuY3Rpb24oIGV2ZW50ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCAkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoXCJpbnB1dFwiKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKFwiaW5wdXRcIikuYXR0cignY2hlY2tlZCcsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIEZpbGVJbnB1dCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pbnB1dEZpbGUgPSBfb2JqLmZpbmQoJ2lucHV0W3R5cGU9ZmlsZV0nKSxcbiAgICAgICAgICAgIF9pbnB1dFRleHQgPSBfb2JqLmZpbmQoJ2lucHV0W3R5cGU9dGV4dF0nKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2lucHV0RmlsZS5vbigge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXRUZXh0LnZhbCggJCh0aGlzKS52YWwoKSApXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgQ29tbWVudEFuY2hvciA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9jb21tZW50c0N1c3RvbWVyID0gJCgnLmNvbW1lbnRzLWN1c3RvbWVyJyksXG4gICAgICAgICAgICBfY29udGVudCA9ICQoJy5zaXRlX19jb250ZW50X19pbm5lcicpLFxuICAgICAgICAgICAgX2NvbW1lbnRzRm9ybSA9ICQoJy5zaXRlX19mb3JtJyksXG4gICAgICAgICAgICBfZG9tID0gJCggJ2h0bWwsIGJvZHknICksXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggISggX29iai5wYXJlbnRzKCAnLnJlc291cmNlc19faXRlbScpLmxlbmd0aCApICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoub24oIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3NDb21tZW50VG9wO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfY29tbWVudHNDdXN0b21lci5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc0NvbW1lbnRUb3AgPSBfY29tbWVudHNDdXN0b21lci5vZmZzZXQoKS50b3A7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zQ29tbWVudFRvcCA9IF9jb21tZW50c0Zvcm0ub2Zmc2V0KCkudG9wO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uYW5pbWF0ZSggeyBzY3JvbGxUb3A6IHBvc0NvbW1lbnRUb3AgfSwgMzAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3NDb21tZW50VG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNjcm9sbFRvcDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX2NvbW1lbnRzQ3VzdG9tZXIubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NDb21tZW50VG9wID0gX2NvbW1lbnRzQ3VzdG9tZXIucG9zaXRpb24oKS50b3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2Nyb2xsVG9wID0gX2NvbnRlbnQuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zQ29tbWVudFRvcCA9IF9jb21tZW50c0Zvcm0ucG9zaXRpb24oKS50b3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2Nyb2xsVG9wID0gX2NvbnRlbnQuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZW50LnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZW50LmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiBwb3NDb21tZW50VG9wICsgY29udGVudFNjcm9sbFRvcCB9LCAzMDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9zY3JvbGxUb0NvbW1lbnRzKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2Nyb2xsVG9Db21tZW50cyA9ICBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmKCAhKCBfb2JqLnBhcmVudHMoICcucmVzb3VyY2VzX19pdGVtJykubGVuZ3RoICkgJiYgKCBfb2JqLnBhcmVudHMoJy5zaXRlX19jb250ZW50X193cmFwJykuaGFzQ2xhc3MoICdjb21tZW50c19zY3JvbGwnICkgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zQ29tbWVudFRvcDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zQ29tbWVudFRvcCA9IF9jb21tZW50c0N1c3RvbWVyLm9mZnNldCgpLnRvcDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5zY3JvbGxUb3AoIHBvc0NvbW1lbnRUb3AgKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zQ29tbWVudFRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NDb21tZW50VG9wID0gX2NvbW1lbnRzQ3VzdG9tZXIucG9zaXRpb24oKS50b3A7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2Nyb2xsVG9wID0gX2NvbnRlbnQuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZW50LnNjcm9sbFRvcCggcG9zQ29tbWVudFRvcCArIGNvbnRlbnRTY3JvbGxUb3AgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFJlc291cmNlc0FqYXggPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgdmFyIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd3JhcEl0ZW1zID0gX29iai5maW5kKCcucmVzb3VyY2VzX19pdGVtcycpLFxuICAgICAgICAgICAgX2xvYWRlciA9ICQoJy5yZXNvdXJjZXNfX3ByZWxvYWRlcicpLFxuICAgICAgICAgICAgX3BhcmVudE9iaiA9IF9vYmoucGFyZW50cygnLm5pY2Utc2Nyb2xsJyksXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oXG4gICAgICAgICAgICAgICAgICAgICdjbGljaycsXG4gICAgICAgICAgICAgICAgICAgICcucmVzb3VyY2VzX19saW5rcy1pdGVtX3RhZ3M+YScsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfd3JhcEl0ZW1zLmh0bWwoJycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbG9hZGVyLmFkZENsYXNzKCd2aXNpYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCggY3VySXRlbSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCA9IGZ1bmN0aW9uICggZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXJsOiBfb2JqLmF0dHIoJ2RhdGEtYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIHVybDogJCgnYm9keScpLmF0dHIoJ2RhdGEtYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbiA6ICdnZXRfcmVzb3VyY2VzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ0lkOiBlbGVtLmF0dHIoJ2RhdGEtaWQnKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAobSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfd3JhcEl0ZW1zLmh0bWwobSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkZXIucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdXBkYXRlU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChYTUxIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9IFwiYWJvcnRcIiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVSUk9SISEhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3VwZGF0ZVNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9wYXJlbnRPYmouc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgICAgICAgICBfcGFyZW50T2JqLnBlcmZlY3RTY3JvbGxiYXIoJ3VwZGF0ZScpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpO1xuXG52YXIgQWNjb3JkaW9uID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICBfYWNjb3JkaW9uQ2FwdGlvbiA9IF9vYmouZmluZCgnPmR0JyksXG4gICAgICAgIF9hY2NvcmRpb25Db250ZW50ID0gX29iai5maW5kKCc+ZGQnKSxcbiAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgX2NvbnRlbnQgPSAkKCcuc2l0ZV9fY29udGVudF9faW5uZXInKSxcbiAgICAgICAgX2RvbSA9ICQoICdodG1sLCBib2R5JyApLFxuICAgICAgICBfcG9zID0gMCxcbiAgICAgICAgX3Bvc1RvcCA9IDAsXG4gICAgICAgIF9jbGlja0ZsYWcgPSB0cnVlO1xuXG4gICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICB2YXIgX2Nsb3NlQWNjb3JkaW9uID0gZnVuY3Rpb24gKCBjdXJFbGVtLCBuZXh0RWxlbSApIHtcblxuICAgICAgICAgICAgX2FjY29yZGlvbkNhcHRpb24ucmVtb3ZlQ2xhc3MoICdzaW1pbGFyJyApO1xuICAgICAgICAgICAgY3VyRWxlbS5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcbiAgICAgICAgICAgIGN1ckVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgJ21hcmdpbi1ib3R0b20nOiAnJ1xuICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgbmV4dEVsZW0ucmVtb3ZlQ2xhc3MoICd2aXNpYmxlJyApO1xuXG4gICAgICAgIH0sXG4gICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoICBfYWNjb3JkaW9uQ2FwdGlvbi5maWx0ZXIoICcuYWN0aXZlJykubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0UG9zSXRlbXMoIF9hY2NvcmRpb25DYXB0aW9uLmZpbHRlciggJy5hY3RpdmUnICksIF9hY2NvcmRpb25DYXB0aW9uLmZpbHRlciggJy5hY3RpdmUnICkubmV4dCgpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICBfYWNjb3JkaW9uQ2FwdGlvbi5vbigge1xuXG4gICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0RWxlbSA9IGN1ckl0ZW0ubmV4dCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCAhKCBjdXJJdGVtLmhhc0NsYXNzKCdhY3RpdmUnKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2NsaWNrRmxhZyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuQWNjb3JkaW9uKCBjdXJJdGVtLCBuZXh0RWxlbSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlQWNjb3JkaW9uKCBjdXJJdGVtLCBuZXh0RWxlbSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICB9LFxuICAgICAgICBfb3BlbkFjY29yZGlvbiA9IGZ1bmN0aW9uICggY3VyRWxlbSwgbmV4dEVsZW0gKSB7XG5cbiAgICAgICAgICAgIF9jbGlja0ZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIF9hY2NvcmRpb25DYXB0aW9uLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xuICAgICAgICAgICAgX2FjY29yZGlvbkNhcHRpb24uY3NzKCB7XG4gICAgICAgICAgICAgICAgJ21hcmdpbi1ib3R0b20nOiAnJ1xuICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgX2FjY29yZGlvbkNvbnRlbnQucmVtb3ZlQ2xhc3MoICd2aXNpYmxlIHNpbWlsYXInICk7XG5cbiAgICAgICAgICAgIGN1ckVsZW0uYWRkQ2xhc3MoICdhY3RpdmUnICk7XG5cbiAgICAgICAgICAgIF9zZXRQb3NJdGVtcyggY3VyRWxlbSwgbmV4dEVsZW0gKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9zY3JvbGxUbyggY3VyRWxlbSApO1xuICAgICAgICAgICAgfSwgMzAwICk7XG4gICAgICAgICAgICBuZXh0RWxlbS5hZGRDbGFzcyggJ3Zpc2libGUnICk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX2NsaWNrRmxhZyA9IHRydWU7XG5cbiAgICAgICAgICAgIH0sIDMwMCApO1xuXG4gICAgICAgIH0sXG4gICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICBfc2V0V2lkdGgoKTtcblxuICAgICAgICB9LFxuICAgICAgICBfc2Nyb2xsVG8gPSBmdW5jdGlvbiAoIGVsZW0gKSB7XG5cbiAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgX3Bvc1RvcCAgPSBlbGVtLm9mZnNldCgpLnRvcDtcblxuICAgICAgICAgICAgICAgIF9kb20uc3RvcCggdHJ1ZSwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICBfZG9tLmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiBfcG9zVG9wIH0sIDMwMCApO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgX3Bvc1RvcCAgPSBlbGVtLnBvc2l0aW9uKCkudG9wICsgX29iai5wb3NpdGlvbigpLnRvcCArIF9jb250ZW50LnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICAgICAgaWYoICEoIGVsZW0uaGFzQ2xhc3MoICdzaW1pbGFyJyApICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2NvbnRlbnQuc3RvcCggdHJ1ZSwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRlbnQuYW5pbWF0ZSggeyBzY3JvbGxUb3A6IF9wb3NUb3AgfSwgMzAwICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuICAgICAgICBfc2V0UG9zSXRlbXMgPSBmdW5jdGlvbiAoIGNhcHRpb24sIGVsZW0gKSB7XG5cbiAgICAgICAgICAgIGNhcHRpb24uY3NzKCB7XG4gICAgICAgICAgICAgICAgJ21hcmdpbi1ib3R0b20nOiBlbGVtLmlubmVySGVpZ2h0KCkgLSAxXG4gICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1Qb3MgPSBjYXB0aW9uLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICAgICAgICAgICAgICBlbGVtSGVpZ2h0ID0gY2FwdGlvbi5pbm5lckhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgX3BvcyA9IGVsZW1Qb3MgKyBlbGVtSGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgZWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IF9wb3NcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfYWNjb3JkaW9uQ2FwdGlvbi5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggJCh0aGlzKS5wb3NpdGlvbigpLnRvcCA9PSBlbGVtUG9zICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCAnc2ltaWxhcicgKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCAnc2ltaWxhcicgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sIDMxMCApO1xuXG4gICAgICAgIH0sXG4gICAgICAgIF9zZXRXaWR0aCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBpZiggX29iai5wYXJlbnQoKS5oYXNDbGFzcygnYWNjb3JkaW9uXzInKSApIHtcblxuICAgICAgICAgICAgICAgIGlmKCBfYWNjb3JkaW9uQ2FwdGlvbi5sZW5ndGggPT0gMiApIHtcblxuICAgICAgICAgICAgICAgICAgICBfYWNjb3JkaW9uQ2FwdGlvbi5hZGRDbGFzcyggJ2hhbGYnICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9hY2NvcmRpb25DYXB0aW9uLmxlbmd0aCA9PSAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9hY2NvcmRpb25DYXB0aW9uLmFkZENsYXNzKCAnZnVsbCcgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG5cbiAgICBfaW5pdCgpO1xufTtcblxuIiwiKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24oKXtcbiAgICAgICAgJCggJ3NlbGVjdCcgKS5lYWNoKCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgbmV3IFdlYnN0ZXJzU2VsZWN0KCB7XG4gICAgICAgICAgICAgICAgb2JqOiAkKCB0aGlzICksXG4gICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogMSxcbiAgICAgICAgICAgICAgICBzaG93VHlwZTogMlxuICAgICAgICAgICAgfSApO1xuICAgICAgICB9ICk7XG4gICAgfSApO1xuXG4gICAgdmFyIFdlYnN0ZXJzU2VsZWN0ID0gZnVuY3Rpb24oIHBhcmFtcyApe1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gcGFyYW1zLm9iaixcbiAgICAgICAgICAgIF9vcHRpb25UeXBlID0gcGFyYW1zLm9wdGlvblR5cGUgfHwgMCxcbiAgICAgICAgICAgIF9zaG93VHlwZSA9IHBhcmFtcy5zaG93VHlwZSB8fCAwLFxuICAgICAgICAgICAgX3Zpc2libGUgPSBwYXJhbXMudmlzaWJsZSB8fCA1LFxuICAgICAgICAgICAgX2RldmljZSA9IC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdCggbmF2aWdhdG9yLnVzZXJBZ2VudCApLFxuICAgICAgICAgICAgX3RleHQgPSAkKCAnPHNwYW4gY2xhc3M9XCJ3ZWJzdGVycy1zZWxlY3RfX2l0ZW1cIj48L3NwYW4+JyApLFxuICAgICAgICAgICAgX3dyYXAgPSAkKCAnPGRpdiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdFwiPjwvZGl2PicgKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICksXG4gICAgICAgICAgICBfb3BlbmVkID0gZmFsc2UsXG4gICAgICAgICAgICBfcG9wdXAsIF9zY3JvbGw7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRXcmFwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB2YXIgY3VyVGV4dCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9vYmoud3JhcCggX3dyYXAgKTtcbiAgICAgICAgICAgICAgICBfd3JhcCA9IF9vYmoucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgX3dyYXAuYXBwZW5kKCAnPGRpdiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdF9fYXJyb3dcIj48L2Rpdj4nICk7XG4gICAgICAgICAgICAgICAgX29iai5iZWZvcmUoIF90ZXh0ICk7XG4gICAgICAgICAgICAgICAgX29iai5maW5kKCAnb3B0aW9uJyApLmVhY2goIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmF0dHIoICdzZWxlY3RlZCcgKSA9PSAnc2VsZWN0ZWQnICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUZXh0ID0gY3VySXRlbS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBpZiggY3VyVGV4dCA9PSAnJyApe1xuICAgICAgICAgICAgICAgICAgICBjdXJUZXh0ID0gIF9vYmouZmluZCggJ29wdGlvbicpLmVxKCAwICkudGV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGV4dC50ZXh0KCBjdXJUZXh0ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2hpZGVQb3B1cCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYoICFfc2hvd1R5cGUgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9zaG93VHlwZSA9PSAxICl7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5zdG9wKCB0cnVlLCBmYWxzZSApLnNsaWRlVXAoIDMwMCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9wb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX3Nob3dUeXBlID09IDIgKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5zdG9wKCB0cnVlLCBmYWxzZSApLmZhZGVPdXQoIDMwMCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9wb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF93cmFwLnJlbW92ZUNsYXNzKCAnd2Vic3RlcnMtc2VsZWN0X29wZW5lZCcgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICAgICAgX2FkZFdyYXAoKTtcbiAgICAgICAgICAgICAgICBfc2VsZWN0Vmlld1R5cGUoKTtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vYmoub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RleHQudGV4dCggJCggdGhpcyApLmZpbmQoICdvcHRpb246c2VsZWN0ZWQnICkudGV4dCgpICk7XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgaWYoIF9vcHRpb25UeXBlID09IDEgJiYgIV9kZXZpY2UgKXtcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAub24oIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uKCBlICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb3BlbmVkICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlUG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvd1BvcHVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY2xpY2snOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb3BlbmVkICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlUG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkKCcubmljZS1zY3JvbGwnKS5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb3BlbmVkICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlUG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NlbGVjdFZpZXdUeXBlID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIGlmKCAhX29wdGlvblR5cGUgfHwgX2RldmljZSApe1xuICAgICAgICAgICAgICAgICAgICBfc2V0TW9iaWxlVmlldygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX29wdGlvblR5cGUgPT0gMSApe1xuICAgICAgICAgICAgICAgICAgICBfc2V0Q3VzdG9tMSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0Q3VzdG9tMSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3dyYXAuYWRkQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3RfY3VzdG9tJyApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRNb2JpbGVWaWV3ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfd3JhcC5hZGRDbGFzcyggJ3dlYnN0ZXJzLXNlbGVjdF9tb2JpbGUnICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3Nob3dQb3B1cCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdHMgPSAkKCAnc2VsZWN0JyApLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJCggJzx1bD48L3VsPicpLFxuICAgICAgICAgICAgICAgICAgICBjdXJTY3JvbGwgPSBfd2luZG93LnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBfd3JhcC5vZmZzZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gMCxcbiAgICAgICAgICAgICAgICAgICAgY3VySW5kZXggPSBfb2JqLmZpbmQoICdvcHRpb246c2VsZWN0ZWQnICkuaW5kZXgoKSxcbiAgICAgICAgICAgICAgICAgICAgaWQgPSBNYXRoLnJvdW5kKCBNYXRoLnJhbmRvbSgpICogMTAwMCApO1xuXG4gICAgICAgICAgICAgICAgc2VsZWN0cy5lYWNoKCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcyAhPT0gX29ialsgMCBdICYmIHRoaXMub2JqLmNoZWNrT3BlbmVkKCkgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBpZiggX29wZW5lZCApe1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9vcGVuZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgX3BvcHVwID0gJCggJzxkaXYgY2xhc3M9XCJ3ZWJzdGVycy1zZWxlY3RfX3BvcHVwXCIgaWQ9XCJ3ZWJzdGVycy1zZWxlY3RfX3BvcHVwJyArIGlkICsgJ1wiPjwvZGl2PicgKTtcblxuICAgICAgICAgICAgICAgIF9vYmouZmluZCggJ29wdGlvbicgKS5lYWNoKCBmdW5jdGlvbiggaSApe1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQoIHRoaXMgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggaSA9PSBjdXJJbmRleCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5hcHBlbmQoICc8bGkgY2xhc3M9XCJhY3RpdmVcIj4nICsgY3VySXRlbS50ZXh0KCkgKyAnPC9saT4nICk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LmFwcGVuZCggJzxsaT4nICsgY3VySXRlbS50ZXh0KCkgKyAnPC9saT4nICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9wb3B1cC5hcHBlbmQoIGxpc3QgKTtcbiAgICAgICAgICAgICAgICBfYm9keS5hcHBlbmQoIF9wb3B1cCApO1xuICAgICAgICAgICAgICAgIF93cmFwLmFkZENsYXNzKCAnd2Vic3RlcnMtc2VsZWN0X29wZW5lZCcgKTtcblxuICAgICAgICAgICAgICAgIF9wb3B1cC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IF93cmFwLm91dGVyV2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogb2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogb2Zmc2V0LnRvcCArIF93cmFwLm91dGVySGVpZ2h0KClcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSBfcG9wdXAub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICBpZiggbWF4SGVpZ2h0ID4gX3BvcHVwLmZpbmQoICdsaScgKS5lcSggMCApLm91dGVySGVpZ2h0KCkgKiBfdmlzaWJsZSApe1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuaGVpZ2h0KCBfcG9wdXAuZmluZCggJ2xpJyApLmVxKCAwICkub3V0ZXJIZWlnaHQoKSAqIF92aXNpYmxlICk7XG4gICAgICAgICAgICAgICAgICAgIF9zY3JvbGwgPSBfcG9wdXAucGVyZmVjdFNjcm9sbGJhcigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCBfc2hvd1R5cGUgPT0gMSApe1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuc2xpZGVEb3duKCAzMDAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9zaG93VHlwZSA9PSAyICkge1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjFcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuYW5pbWF0ZSggeyBvcGFjaXR5OiAxIH0sIDMwMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3BvcHVwLmZpbmQoICdsaScgKS5vbigge1xuICAgICAgICAgICAgICAgICAgICAnY2xpY2snOiBmdW5jdGlvbiggZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJCggdGhpcyApLmluZGV4KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoudmFsKCBfb2JqLmZpbmQoICdvcHRpb24nICkuZXEoIGluZGV4ICkuYXR0ciggJ3ZhbHVlJyApICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnRyaWdnZXIoICdjaGFuZ2UnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZVBvcHVwKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcbiAgICAgICAgX3NlbGYuY2hlY2tPcGVuZWQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIF9vcGVuZWQ7XG4gICAgICAgIH07XG4gICAgICAgIF9zZWxmLmNsb3NlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICBfaGlkZVBvcHVwKCk7XG4gICAgICAgIH07XG5cblxuICAgICAgICBfY29uc3RydWN0b3IoKTtcblxuICAgIH07XG5cbn0gKSgpOyIsIiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICQoICcucG9wdXAnICkuZWFjaCggZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgbmV3IFBvcHVwKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG5cblxufSApKCk7XG5cbnZhciBQb3B1cCA9IGZ1bmN0aW9uKCBvYmogKXtcblxuICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgX3BvcHVwUGFkZGluZyA9IDQwLFxuICAgICAgICBfYnRuU2hvdyA9ICAkKCAnLnBvcHVwX19vcGVuJyApLFxuICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICBfYnRuQ2xvc2UgPSBfb2JqLmZpbmQoICcucG9wdXBfX2Nsb3NlLCAucG9wdXBfX2NhbmNlbCcgKSxcbiAgICAgICAgX3dyYXAgPSBfb2JqLmZpbmQoICcucG9wdXBfX3dyYXAnICksXG4gICAgICAgIF9jb250ZW50cyA9IF9vYmouZmluZCggJy5wb3B1cF9fY29udGVudCcgKSxcbiAgICAgICAgX2RvbSA9ICQoICdodG1sLCBib2R5JyApLFxuICAgICAgICBfY29udGVudCA9ICQoICcuc2l0ZV9fY29udGVudCcgKSxcbiAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICBfbW9iaWxlU2NyZWVuID0gdHJ1ZSxcbiAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXt9LCAxICk7XG5cbiAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgIHZhciBfY2VudGVyV3JhcCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZiAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgLSBfd3JhcC5oZWlnaHQoKSA+IDAgKSB7XG4gICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogKCAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgKSAtIF93cmFwLmhlaWdodCgpICkgLyAyIH0gKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogMCB9ICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF9jaGFuZ2VDb250ZW50WmluZGV4ID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICBfY29udGVudC5jc3MoIHtcbiAgICAgICAgICAgICAgICAnei1pbmRleCc6IDRcbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3Jlc2V0Q29udGVudFppbmRleCA9IGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgX2NvbnRlbnQuY3NzKCB7XG4gICAgICAgICAgICAgICAgJ3otaW5kZXgnOiAyXG4gICAgICAgICAgICB9ICk7XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRTY3JvbGxXaWR0aCA9IGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnKSxcbiAgICAgICAgICAgICAgICBzY3JvbGxCYXJXaWR0aDtcblxuICAgICAgICAgICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdwb3B1cF9fc2Nyb2xsYmFyLW1lYXN1cmUnO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCBzY3JvbGxEaXYgKTtcblxuICAgICAgICAgICAgc2Nyb2xsQmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcblxuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbEJhcldpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBfaGlkZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbidcbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3BvcHVwX29wZW5lZCcgKTtcbiAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdwb3B1cF9oaWRlJyApO1xuXG4gICAgICAgICAgICBfdGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgX29iai5jc3MgKHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdwb3B1cF9oaWRlJyApO1xuXG4gICAgICAgICAgICB9LCAzMDAgKTtcblxuICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICBfZG9tLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3Jlc2V0Q29udGVudFppbmRleCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY29udGVudHMuY3NzKCB7IGRpc3BsYXk6ICdub25lJyB9ICk7XG5cbiAgICAgICAgICAgIGlmKCBfb2JqLmZpbmQoJy5wb3B1cF9fYWRkcmVzc2VzJykubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgX29iai5maW5kKCcucG9wdXBfX2FkZHJlc3NlcycpLmNoaWxkcmVuKCkuY3NzKCB7IGRpc3BsYXk6ICdub25lJyB9ICk7XG4gICAgICAgICAgICAgICAgX29iai5maW5kKCcucG9wdXBfX2FkZHJlc3NlcycpLmNoaWxkcmVuKCkuaHRtbCgnJyk7XG4gICAgICAgICAgICAgICAgX2J0blNob3cucmVtb3ZlQ2xhc3MoJ2FqYXgtYmxvY2tfX2J0bl9sb2FkZWQnKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG4gICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICB9LFxuICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICBfd2luZG93Lm9uKCB7XG5cbiAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IF93aW5kb3cud2lkdGgoKSA+PSAxMDI0O1xuXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggIV9tb2JpbGVTY3JlZW4gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgX2J0blNob3cub24oIHtcbiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgX3Nob3coICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1wb3B1cCcgKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIF93cmFwLm9uKCB7XG4gICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCBlICl7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgX29iai5vbigge1xuICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBfaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgX2J0bkNsb3NlLm9uKCB7XG4gICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICk7XG4gICAgICAgIH0sXG4gICAgICAgIF9zaG93ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgX3NldFBvcHVwQ29udGVudCggY2xhc3NOYW1lICk7XG5cbiAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdwb3B1cF9vcGVuZWQnICk7XG5cbiAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgX2RvbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9jaGFuZ2VDb250ZW50WmluZGV4KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcbiAgICAgICAgX3NldFBvcHVwQ29udGVudCA9IGZ1bmN0aW9uKCBjbGFzc05hbWUgKXtcbiAgICAgICAgICAgIHZhciBjdXJDb250ZW50ID0gX2NvbnRlbnRzLmZpbHRlciggJy5wb3B1cF9fJyArIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICAvL19jb250ZW50cy5jc3MoIHsgZGlzcGxheTogJ25vbmUnIH0gKTtcbiAgICAgICAgICAgIGN1ckNvbnRlbnQuY3NzKCB7IGRpc3BsYXk6ICdibG9jaycgfSApO1xuXG4gICAgICAgIH07XG5cbiAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICBfaW5pdCgpO1xufTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
