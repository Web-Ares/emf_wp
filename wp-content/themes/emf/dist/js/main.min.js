!function(){$(function(){"use strict";$.each($(".nice-scroll"),function(){new e($(this))}),$.each($(".site"),function(){new n($(this))}),$.each($(".site__header"),function(){new t($(this))}),$.each($(".menu"),function(){new e($(this))}),$.each($(".gallery"),function(){new i($(this))}),$.each($(".site__read-more"),function(){new o($(this))}),$.each($(".accordion dl"),function(){new Accordion($(this))}),$.each($(".awards"),function(){new s($(this))}),$.each($(".popup-info"),function(){new c($(this))}),$.each($(".about-portfolio"),function(){new a($(this))}),$.each($(".services-areas__gallery"),function(){new r($(this))}),$.each($(".ajax-block"),function(){new l($(this))}),$.each($(".contact__sign"),function(){new u($(this))}),$.each($(".accordion_careers"),function(){new d($(this))}),$.each($(".datepicker"),function(){new f($(this))}),$.each($(".nice-checkbox"),function(){new h($(this))}),$.each($(".contact__file"),function(){new p($(this))}),$.each($(".resources__links-item_comments"),function(){new w($(this))}),$.each($(".resources__ajax-wrap"),function(){new v($(this))})});var n=function(n){var t=this,e=n,i=$(window),o=function(){i.on({resize:function(){i.width()>=1024&&c()}})},s=function(){o(),i.width()>=1024&&c(),e[0].obj=t},c=function(){i.height()>=500?e.css({"min-height":"100%"}):e.css({"min-height":"500px"})};s()},t=function(n){var t=this,e=n,i=$(window),o=e.find(".site__header__btn"),s=e.find(".site__header__items"),c=$("html"),a=$("body"),r=function(){e.removeClass("opened"),c.css({"overflow-y":"auto"}),a.css({"overflow-y":"auto"}),s.attr("style","")},l=function(){i.on({resize:function(){e.hasClass("opened")&&r()}}),o.on({click:function(){return e.hasClass("opened")?r():u(),!1}})},u=function(){e.addClass("opened"),c.css({"overflow-y":"hidden"}),a.css({"overflow-y":"hidden"}),f()},d=function(){l(),e[0].obj=t},f=function(){s.height(i.height()-s.offset().top)};d()},e=function(n){var t=this,e=n,i=$(window),o=!0,s=function(){setTimeout(function(){e.niceScroll({cursorcolor:"#fec303",cursoropacitymin:"0",cursorborderradius:"2px",cursorborder:"none",background:"#3d3e42",cursorwidth:"5px",autohidemode:"leave",enablemousewheel:!0})},10)},c=function(){i.on({load:function(){o=i.width()>=1024,o&&s()},resize:function(){i.width()>=1024?(o&&s(),o=!1):(o||a(),o=!0)}})},a=function(){e.getNiceScroll().remove(),e.css({"overflow-y":"auto"})},r=function(){c(),e[0].obj=t};r()},i=function(n){var t,e,i=this,o=n,s=n.find(".gallery__top"),c=n.find(".gallery__thumbs"),a=$(window),r=!0,l=function(){t.destroy(!0,!0)},u=function(){s.length&&t.on("slideChangeStart",function(n){var t=n.activeIndex;$(e.slides).removeClass("is-selected"),$(e.slides).eq(t).addClass("is-selected"),e.slideTo(t,500,!1)}),a.on({load:function(){r=a.width()>=1024},resize:function(){o.hasClass("gallery_2")||(a.width()>=1024?(r&&(l(),setTimeout(function(){f()},10)),r=!1):(r||(l(),setTimeout(function(){f()},10)),r=!0))}})},d=function(){o.hasClass("gallery_2")?t=new Swiper(s,{nextButton:c.find(".swiper-button-next"),prevButton:c.find(".swiper-button-prev"),spaceBetween:10}):f(),e=new Swiper(c.find(".swiper-container"),{spaceBetween:37,freeMode:!0,centeredSlides:!1,slidesPerView:"auto",touchRatio:.2,onClick:function(n){var e=n.clickedIndex;n.activeIndex=e,n.updateClasses(),$(n.slides).removeClass("is-selected"),$(n.clickedSlide).addClass("is-selected"),t.slideTo(e,500,!1)},onInit:function(){var n,t=c.find(".swiper-slide").length;t<10&&(t="0"+t),c.find(".gallery__thumbs-total-count").text(t),c.find(".swiper-slide").each(function(){n=$(this).index()+1,n<10?n="0"+n:0==n[0]&&(n=n.slice(1)),$(this).find(".gallery__thumbs-current-num").text(n)})}})},f=function(){t=a.width()>=1024?new Swiper(s,{nextButton:c.find(".swiper-button-next"),prevButton:c.find(".swiper-button-prev"),spaceBetween:10,effect:"fade",fade:{crossFade:!0}}):new Swiper(s,{nextButton:c.find(".swiper-button-next"),prevButton:c.find(".swiper-button-prev"),spaceBetween:10})},h=function(){o[0].obj=i,d(),u()};h()},o=function(n){var t,e=this,i=n,o=($(window),$("body"),function(){i.on({click:function(){return a(),!1}})}),s=function(){o(),c(),i[0].obj=e},c=function(){t=i.parent().nextAll(),t.css({display:"none"})},a=function(){t.css({display:"block"}),i.css({display:"none"})};s()},s=function(n){var t,e=this,i=n,o=i.find(".swiper-container"),s=$(".awards__text-wrap div"),c=function(){t.on("slideChangeStart",function(){s.addClass("hidden"),s.html("")}),t.on("slideChangeEnd",function(n){var t=n.activeIndex,e=n.slides.eq(t).find(".awards__text");s.removeClass("hidden"),s.html(e.html())})},a=function(){t=new Swiper(o,{pagination:o.find(".swiper-pagination"),paginationClickable:!0,nextButton:o.find(".swiper-button-next"),prevButton:o.find(".swiper-button-prev"),loop:!0,onInit:function(n){var t=n.activeIndex,e=n.slides.eq(t).find(".awards__text");s.html(e.html())}})},r=function(){i[0].obj=e,a(),c()};r()},c=function(n){var t=this,e=n,i=$(window),o=!0,s=function(){setTimeout(function(){e.niceScroll({cursorcolor:"#27282d",cursoropacitymin:"0",cursorborderradius:"2px",cursorborder:"none",background:"#3d3e42",cursorwidth:"5px",autohidemode:"leave",enablemousewheel:!0})},10)},c=function(){i.on({load:function(){o=i.width()>=1024,o&&s()},resize:function(){i.width()>=1024?(o&&s(),o=!1):(o||r(),o=!0)}})},a=function(){c(),e[0].obj=t},r=function(){e.getNiceScroll().remove(),e.css({"overflow-y":"auto"})};a()},a=function(n){var t=n,e=t.find(".about-portfolio__item"),o=$(".gallery-popup"),s=o.find(".gallery-popup__close"),c=o.find(".gallery-popup__wrap"),a=o.find(".gallery-popup__preloader"),r=$(window),l=$("html"),u=$("body"),d=!0,f=new XMLHttpRequest,h=function(){e.on({click:function(){var n=$(this);o.css({display:"block"}),r.width()<1024&&(l.css({"overflow-y":"hidden"}),u.css({"overflow-y":"hidden"})),_(n)}}),s.on({click:function(){return w(),!1}}),r.on({load:function(){d=r.width()>=1024},resize:function(){r.width()>=1024?(d&&p(),d=!1):(d||m(),d=!0)}})},p=function(){$(document).find(".gallery-popup__text").niceScroll({cursorcolor:"#fec303",cursoropacitymin:"0",cursorborderradius:"2px",cursorborder:"none",background:"#3d3e42",cursorwidth:"5px",autohidemode:"leave",enablemousewheel:!0}),setTimeout(function(){$(document).find(".gallery-popup__text").getNiceScroll().resize()},200)},w=function(){r.width()<1024&&(l.css({"overflow-y":"auto"}),u.css({"overflow-y":"auto"})),o.css({display:"none"}),a.css({display:"block"}),c.html("")},v=function(){h()},_=function(n){f.abort(),f=$.ajax({url:t.attr("data-action"),data:{action:"get_gallery",id:n.attr("data-id")},dataType:"html",type:"get",success:function(n){c.html(n),setTimeout(function(){$(n).hasClass("gallery")&&$.each($(".gallery"),function(){new i($(this))}),r.width()>=1024&&p(),a.css({display:"none"})},500)},error:function(n){"abort"!=n.statusText&&alert("ERROR!!!")}})},m=function(){$(document).find(".gallery-popup__text").getNiceScroll().remove(),$(document).find(".gallery-popup__text").css({"overflow-y":"auto"})};v()},r=function(n){var t=this,e=n,i=(e.find(".swiper-container"),function(){new Swiper(e,{nextButton:e.find(".swiper-button-next"),prevButton:e.find(".swiper-button-prev"),loop:!0,spaceBetween:30})}),o=function(){e[0].obj=t,i()};o()},l=function(n){var t=n,e=t.find(".ajax-block__btn"),i=$(".ajax-block-"+t.attr("data-block")),o=$(".popup__preloader"),s=$(window),c=!0,a=new XMLHttpRequest,r=function(){e.on({click:function(){var n=$(this);n.hasClass("ajax-block__btn_loaded")||(e.removeClass("ajax-block__btn_loaded"),n.addClass("ajax-block__btn_loaded"),o.removeClass("hide"),i.html(""),i.css({display:"block"}),i.nextAll().css({display:"none"}),f(n))}}),s.on({load:function(){c=s.width()>=1024},resize:function(){s.width()>=1024?(c&&u(i.children()),c=!1):(c||h(i.children()),c=!0)}})},u=function(n){n.niceScroll({cursorcolor:"#27282d",cursoropacitymin:"0",cursorborderradius:"2px",cursorborder:"none",background:"#3d3e42",cursorwidth:"5px",autohidemode:"leave",enablemousewheel:!0}),setTimeout(function(){n.getNiceScroll().resize()},200)},d=function(){r()},f=function(n){a.abort(),a=$.ajax({url:t.attr("data-action"),data:{action:"get_areas",lvl:n.attr("data-lvl"),id:n.attr("data-id")},dataType:"html",type:"get",success:function(n){i.html(n),i.find(".ajax-block").length&&new l(i.find(".ajax-block")),i.find(".accordion").length&&$.each(i.find(".accordion_2 dl"),function(){new Accordion($(this))}),setTimeout(function(){s.width()>=1024&&u(i.children()),o.addClass("hide")},500)},error:function(n){"abort"!=n.statusText&&alert("ERROR!!!")}})},h=function(n){n.getNiceScroll().remove(),n.css({"overflow-y":"auto"})};d()},u=function(n){var t,e=this,i=n,o=i.find(".contact__sign-area"),s=i.find(".contact__sign-refresh"),c=$(".canvas_check"),a=$(window),r=function(){o.signature("destroy")},l=function(){s.on({click:function(){return o.signature("clear"),!1}}),a.on({resize:function(){r(),d()}}),c.on({click:function(){o.signature("isEmpty")?(o.addClass("contact__sign-area-red"),$(".sign_val").val("")):(t=o.signature("toSVG"),o.removeClass("contact__sign-area-red"),$(".sign_val").val(t))}})},u=function(){i[0].obj=e,l(),d()},d=function(){o.signature({thickness:1,color:"#ffffff"})};u()},d=function(n){var t=this,e=n,i=$(".careers_themes"),o=e.find(".apply"),s={},c=[],a=function(){o.on({click:function(){var n=$(this),t=n.data("value"),e=n.data("text1"),i=n.data("text2"),o=t;return n.hasClass("active")?(n.removeClass("active"),n.find("span").text(e),delete s[o]):(n.addClass("active"),n.find("span").text(i),s[o]=t),l(),!1}})},r=function(){e[0].obj=t,a()},l=function(){c=[];for(var n in s){var t=s[n];c.push(t)}i.val(c)};r()},f=function(n){var t=this,e=n,i=$(".nice-scroll"),o=$(window),s=function(){e.datepicker("hide"),e.blur()},c=function(){i.on({scroll:function(){s()}}),o.on({resize:function(){s()}})},a=function(){e[0].obj=t,r(),c()},r=function(){e.datepicker()};a()},h=function(n){var t=this,e=n,i=e.find("label"),o=function(){i.find("input:checkbox").off("click",function(){var n=$(this).attr("name");$(this).closest("form").find('input:checkbox[name="'+n+'"]').not(this).prop("checked",!1)}),i.click(function(n){return $(this).hasClass("active")?($(this).removeClass("active"),$(this).find("input").attr("checked",!1)):($(this).addClass("active"),$(this).find("input").attr("checked",!0)),n.stopPropagation(),n.cancelBubble=!0,!1})},s=function(){e[0].obj=t,o()};s()},p=function(n){var t=this,e=n,i=e.find("input[type=file]"),o=e.find("input[type=text]"),s=function(){i.on({change:function(){o.val($(this).val())}})},c=function(){e[0].obj=t,s()};c()},w=function(n){var t=this,e=n,i=$(".comments-customer"),o=$(".site__content__inner"),s=$(".site__form"),c=$("html, body"),a=$(window),r=function(){e.parents(".resources__item").length||e.on({click:function(){if(a.width()<1024){var n;n=i.length?i.offset().top:s.offset().top,c.stop(!0,!1),c.animate({scrollTop:n},300)}else{var n,t;i.length?(n=i.position().top,t=o.scrollTop()):(n=s.position().top,t=o.scrollTop()),o.stop(!0,!1),o.animate({scrollTop:n+t},300)}return!1}})},l=function(){e[0].obj=t,r(),u()},u=function(){if(!e.parents(".resources__item").length&&e.parents(".site__content__wrap").hasClass("comments_scroll"))if(a.width()<1024){var n;n=i.offset().top,c.scrollTop(n)}else{var n,t;n=i.position().top,t=o.scrollTop(),o.scrollTop(n+t)}};l()},v=function(n){var t=n,e=t.find(".resources__item"),i=t.find(".resources__items"),o=$(".resources__preloader"),s=(e.find(".resources__links-item_tags>a"),$(window),$("html"),$("body"),new XMLHttpRequest),c=function(){$(document).on("click",".resources__links-item_tags>a",function(){var n=$(this);return i.html(""),o.addClass("visible"),r(n),!1})},a=function(){c()},r=function(n){s.abort(),s=$.ajax({url:t.attr("data-action"),data:{tagId:n.attr("data-id")},dataType:"html",type:"get",success:function(n){i.html(n),setTimeout(function(){o.removeClass("visible")},500)},error:function(n){"abort"!=n.statusText&&alert("ERROR!!!")}})};a()}}();var Accordion=function(n){var t=this,e=n,i=e.find(">dt"),o=e.find(">dd"),s=$(window),c=$(".site__content__inner"),a=$("html, body"),r=0,l=0,u=!0,d=function(n,t){i.removeClass("similar"),n.removeClass("active"),n.css({"margin-bottom":""}),t.removeClass("visible")},f=function(){s.on({resize:function(){i.filter(".active").length&&v(i.filter(".active"),i.filter(".active").next())}}),i.on({click:function(){var n=$(this),t=n.next();return n.hasClass("active")?d(n,t):u&&h(n,t),!1}})},h=function(n,t){u=!1,i.removeClass("active"),i.css({"margin-bottom":""}),o.removeClass("visible similar"),n.addClass("active"),v(n,t),w(n),t.addClass("visible"),setTimeout(function(){u=!0},300)},p=function(){e[0].obj=t,f(),_()},w=function(n){s.width()<1024?(l=n.offset().top,a.stop(!0,!1),a.animate({scrollTop:l},300)):(l=e.position().top+n.outerHeight()*i.index(n)+c.scrollTop(),n.hasClass("similar")||(c.stop(!0,!1),c.animate({scrollTop:l},300)))},v=function(n,t){n.css({"margin-bottom":t.innerHeight()-1}),setTimeout(function(){var e=n.position().top,o=n.innerHeight();r=e+o,t.css({top:r}),i.each(function(){$(this).position().top==e?$(this).addClass("similar"):$(this).removeClass("similar")})},310)},_=function(){e.parent().hasClass("accordion_2")&&(2==i.length?i.addClass("half"):1==i.length&&i.addClass("full"))};p()};
!function(){$(function(){$("select").each(function(){new e({obj:$(this),optionType:1,showType:2})})});var e=function(e){var t,n,i=this,o=e.obj,s=e.optionType||0,c=e.showType||0,a=e.visible||5,l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),d=$('<span class="websters-select__item"></span>'),p=$('<div class="websters-select"></div>'),r=$(window),f=$("body"),u=!1,h=function(){var e="";o.css({opacity:0}),o.wrap(p),p=o.parent(),p.append('<div class="websters-select__arrow"></div>'),o.before(d),o.find("option").each(function(){var t=$(this);"selected"==t.attr("selected")&&(e=t.text())}),""==e&&(e=o.find("option").eq(0).text()),d.text(e)},v=function(){u=!1,c?1==c?t.stop(!0,!1).slideUp(300,function(){t.remove()}):2==c&&t.stop(!0,!1).fadeOut(300,function(){t.remove()}):t.css({display:"none"}),p.removeClass("websters-select_opened")},b=function(){o[0].obj=i,h(),g(),w()},w=function(){o.on("change",function(){d.text($(this).find("option:selected").text())}),1!=s||l||(p.on({click:function(e){e.stopPropagation(),u?v():m()}}),r.on({click:function(){u&&v()}})),$(".nice-scroll").on({scroll:function(){u&&v()}})},g=function(){!s||l?y():1==s&&_()},_=function(){p.addClass("websters-select_custom")},y=function(){p.addClass("websters-select_mobile")},m=function(){var e=$("select"),i=$("<ul></ul>"),s=(r.scrollTop(),p.offset()),l=0,d=o.find("option:selected").index(),h=Math.round(1e3*Math.random());e.each(function(){this!==o[0]&&this.obj.checkOpened()&&this.obj.close()}),u&&t.remove(),u=!0,t=$('<div class="websters-select__popup" id="websters-select__popup'+h+'"></div>'),o.find("option").each(function(e){var t=$(this);e==d?i.append('<li class="active">'+t.text()+"</li>"):i.append("<li>"+t.text()+"</li>")}),t.append(i),f.append(t),p.addClass("websters-select_opened"),t.css({width:p.outerWidth(),left:s.left,top:s.top+p.outerHeight()}),l=t.outerHeight(),l>t.find("li").eq(0).outerHeight()*a&&(t.height(t.find("li").eq(0).outerHeight()*a),n=t.niceScroll({horizrailenabled:!1})),1==c?(t.css({display:"none"}),t.slideDown(300)):2==c&&(t.css({opacity:.1}),t.animate({opacity:1},300)),t.find("li").on({click:function(e){var t=$(this).index();e.stopPropagation(),o.val(o.find("option").eq(t).attr("value")),o.trigger("change"),v()}})};i.checkOpened=function(){return u},i.close=function(){v()},b()}}();
!function(){$(function(){$(".popup").each(function(){new Popup($(this))})})}();var Popup=function(n){var o=this,p=$(".popup__open"),i=n,t=i.find(".popup__close, .popup__cancel"),e=i.find(".popup__wrap"),s=i.find(".popup__content"),c=$("html, body"),d=$(".site__content"),u=$(window),a=!0,f=setTimeout(function(){},1),l=function(){d.css({"z-index":4})},_=function(){d.css({"z-index":2})},r=function(){i.css({overflowY:"hidden"}),i.removeClass("popup_opened"),i.addClass("popup_hide"),f=setTimeout(function(){i.css({overflowY:"auto"}),i.removeClass("popup_hide")},300),u.width()<1024&&(c.css({overflowY:"auto",paddingRight:0}),_()),s.css({display:"none"}),i.find(".popup__addresses").length&&(i.find(".popup__addresses").children().css({display:"none"}),i.find(".popup__addresses").children().html(""),p.removeClass("ajax-block__btn_loaded"))},h=function(){i[0].obj=o,w()},w=function(){u.on({load:function(){a=u.width()>=1024},resize:function(){u.width()>=1024?a=!1:(a||r(),a=!0)}}),p.on({click:function(){return v($(this).attr("data-popup")),!1}}),e.on({click:function(n){n.stopPropagation()}}),i.on({click:function(){return r(),!1}}),t.on({click:function(){return r(),!1}})},v=function(n){m(n),i.addClass("popup_opened"),u.width()<1024&&(c.css({overflowY:"hidden"}),l())},m=function(n){var o=s.filter(".popup__"+n);o.css({display:"block"})};h()};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LndlYnN0ZXJzLXNlbGVjdC5qcyIsImpxdWVyeS5wb3B1cC5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsIk5pY2VTY3JvbGwiLCJ0aGlzIiwiRnVsbEhlaWdodFNpdGUiLCJNZW51IiwiR2FsbGVyeSIsIlJlYWRNb3JlIiwiQWNjb3JkaW9uIiwiQXdhcmRzR2FsbGVyeSIsIlNpdGVDb250ZW50UG9wdXBOaWNlU2Nyb2xsIiwiQWJvdXRQb3J0Zm9saW9Qb3B1cCIsIlNlcnZpY2VzQXJlYUdhbGxlcnkiLCJBamF4UmVxdWVzdFBvcHVwIiwiQ29udGFjdFNpZ24iLCJDYXJlZXJzQXBwbHkiLCJEYXRlcGlja2VyIiwiTmljZUNoZWNrYm94IiwiRmlsZUlucHV0IiwiQ29tbWVudEFuY2hvciIsIlJlc291cmNlc0FqYXgiLCJvYmoiLCJfc2VsZiIsIl9vYmoiLCJfd2luZG93Iiwid2luZG93IiwiX29uRXZlbnRzIiwib24iLCJyZXNpemUiLCJ3aWR0aCIsIl9zZXRIZWlnaHQiLCJfaW5pdCIsImhlaWdodCIsImNzcyIsIm1pbi1oZWlnaHQiLCJfbWVudUJ0biIsImZpbmQiLCJfbWVudUl0ZW1zIiwiX2h0bWwiLCJfYm9keSIsIl9jbG9zZU1lbnUiLCJyZW1vdmVDbGFzcyIsIm92ZXJmbG93LXkiLCJhdHRyIiwiaGFzQ2xhc3MiLCJjbGljayIsIl9vcGVuTWVudSIsImFkZENsYXNzIiwib2Zmc2V0IiwidG9wIiwiX21vYmlsZVNjcmVlbiIsIl9hZGRTY3JvbGwiLCJzZXRUaW1lb3V0IiwibmljZVNjcm9sbCIsImN1cnNvcmNvbG9yIiwiY3Vyc29yb3BhY2l0eW1pbiIsImN1cnNvcmJvcmRlcnJhZGl1cyIsImN1cnNvcmJvcmRlciIsImJhY2tncm91bmQiLCJjdXJzb3J3aWR0aCIsImF1dG9oaWRlbW9kZSIsImVuYWJsZW1vdXNld2hlZWwiLCJsb2FkIiwiX3JlbW92ZVNjcm9sbCIsImdldE5pY2VTY3JvbGwiLCJyZW1vdmUiLCJnYWxsZXJ5VG9wIiwiZ2FsbGVyeVRodW1icyIsIl9nYWxsZXJ5VG9wIiwiX2dhbGxlcnlUaHVtYnMiLCJfZGVzdHJveVRlc3RpbW9uaWFsc1N3aXBlciIsImRlc3Ryb3kiLCJsZW5ndGgiLCJzd2lwZXIiLCJhY3RpdmVJbmRleCIsInNsaWRlcyIsImVxIiwic2xpZGVUbyIsIl9pbml0VGVzdGltb25pYWxzU3dpcGVyIiwiX2luaXRTd2lwZXIiLCJTd2lwZXIiLCJuZXh0QnV0dG9uIiwicHJldkJ1dHRvbiIsInNwYWNlQmV0d2VlbiIsImZyZWVNb2RlIiwiY2VudGVyZWRTbGlkZXMiLCJzbGlkZXNQZXJWaWV3IiwidG91Y2hSYXRpbyIsIm9uQ2xpY2siLCJjbGlja2VkIiwiY2xpY2tlZEluZGV4IiwidXBkYXRlQ2xhc3NlcyIsImNsaWNrZWRTbGlkZSIsIm9uSW5pdCIsImN1cnJlbnROdW0iLCJ0b3RhbENvdW50IiwidGV4dCIsImluZGV4Iiwic2xpY2UiLCJlZmZlY3QiLCJmYWRlIiwiY3Jvc3NGYWRlIiwiX2l0ZW1zIiwiX2Rpc3BsYXlJdGVtcyIsIl9kaXNhcHBlYXJJdGVtcyIsInBhcmVudCIsIm5leHRBbGwiLCJkaXNwbGF5IiwiX3N3aXBlciIsIl9hd2FyZHNHYWxsZXJ5IiwiX3RleHRXcmFwIiwiaHRtbCIsImFjdGl2ZVNsaWRlVGV4dCIsInBhZ2luYXRpb24iLCJwYWdpbmF0aW9uQ2xpY2thYmxlIiwibG9vcCIsIl9wb3B1cEdhbGxlcnkiLCJfcG9wdXBHYWxsZXJ5Q2xvc2UiLCJfcG9wdXBHYWxsZXJ5V3JhcCIsIl9wb3B1cEdhbGxlcnlMb2FkIiwiX3JlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIl9hZGRFdmVudHMiLCJjdXJJdGVtIiwiX3JlcXVlc3RDb250ZW50IiwiX2Nsb3NlUG9wdXAiLCJkb2N1bWVudCIsImVsZW0iLCJhYm9ydCIsImFqYXgiLCJ1cmwiLCJkYXRhIiwiYWN0aW9uIiwiaWQiLCJkYXRhVHlwZSIsInR5cGUiLCJzdWNjZXNzIiwibSIsImVycm9yIiwic3RhdHVzVGV4dCIsImFsZXJ0IiwiX2xvYWRCbG9jayIsIl9wb3B1cExvYWQiLCJjaGlsZHJlbiIsImx2bCIsIl9yZXN1bHQiLCJfYXJlYSIsIl9jbGVhciIsIl9zZW5kIiwiX2Rlc3Ryb3lTaWduYXR1cmUiLCJzaWduYXR1cmUiLCJfaW5pdFNpZ25hdHVyZSIsInZhbCIsInRoaWNrbmVzcyIsImNvbG9yIiwiX2hpZGRlbklucHV0IiwiX2FwcGx5QnRuIiwiX2RhdGEiLCJfYXJyIiwiY3VyRWxlbSIsImRhdGFWYWx1ZSIsImRhdGFUZXh0MSIsImRhdGFUZXh0MiIsImtleU5hbWUiLCJfd3JpdGVJbklucHV0Iiwia2V5IiwiaXRlbSIsInB1c2giLCJfc2Nyb2xsQmxvY2siLCJfaGlkZURhdGVQaWNrZXIiLCJkYXRlcGlja2VyIiwiYmx1ciIsInNjcm9sbCIsIl9pbml0RGF0ZVBpY2tlciIsIl9sYWJlbCIsIm9mZiIsIm5hbWUiLCJjbG9zZXN0Iiwibm90IiwicHJvcCIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiY2FuY2VsQnViYmxlIiwiX2lucHV0RmlsZSIsIl9pbnB1dFRleHQiLCJjaGFuZ2UiLCJfY29tbWVudHNDdXN0b21lciIsIl9jb250ZW50IiwiX2NvbW1lbnRzRm9ybSIsIl9kb20iLCJwYXJlbnRzIiwicG9zQ29tbWVudFRvcCIsInN0b3AiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiY29udGVudFNjcm9sbFRvcCIsInBvc2l0aW9uIiwiX3Njcm9sbFRvQ29tbWVudHMiLCJfd3JhcEl0ZW1zIiwiX2xvYWRlciIsInRhZ0lkIiwiX2FjY29yZGlvbkNhcHRpb24iLCJfYWNjb3JkaW9uQ29udGVudCIsIl9wb3MiLCJfcG9zVG9wIiwiX2NsaWNrRmxhZyIsIl9jbG9zZUFjY29yZGlvbiIsIm5leHRFbGVtIiwibWFyZ2luLWJvdHRvbSIsImZpbHRlciIsIl9zZXRQb3NJdGVtcyIsIm5leHQiLCJfb3BlbkFjY29yZGlvbiIsIl9zY3JvbGxUbyIsIl9zZXRXaWR0aCIsIm91dGVySGVpZ2h0IiwiY2FwdGlvbiIsImlubmVySGVpZ2h0IiwiZWxlbVBvcyIsImVsZW1IZWlnaHQiLCJXZWJzdGVyc1NlbGVjdCIsIm9wdGlvblR5cGUiLCJzaG93VHlwZSIsInBhcmFtcyIsIl9wb3B1cCIsIl9zY3JvbGwiLCJfb3B0aW9uVHlwZSIsIl9zaG93VHlwZSIsIl92aXNpYmxlIiwidmlzaWJsZSIsIl9kZXZpY2UiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiX3RleHQiLCJfd3JhcCIsIl9vcGVuZWQiLCJfYWRkV3JhcCIsImN1clRleHQiLCJvcGFjaXR5Iiwid3JhcCIsImFwcGVuZCIsImJlZm9yZSIsIl9oaWRlUG9wdXAiLCJzbGlkZVVwIiwiZmFkZU91dCIsIl9jb25zdHJ1Y3RvciIsIl9zZWxlY3RWaWV3VHlwZSIsImUiLCJfc2hvd1BvcHVwIiwiX3NldE1vYmlsZVZpZXciLCJfc2V0Q3VzdG9tMSIsInNlbGVjdHMiLCJsaXN0IiwibWF4SGVpZ2h0IiwiY3VySW5kZXgiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJjaGVja09wZW5lZCIsImNsb3NlIiwiaSIsIm91dGVyV2lkdGgiLCJsZWZ0IiwiaG9yaXpyYWlsZW5hYmxlZCIsInNsaWRlRG93biIsInRyaWdnZXIiLCJQb3B1cCIsIl9idG5TaG93IiwiX2J0bkNsb3NlIiwiX2NvbnRlbnRzIiwiX3RpbWVyIiwiX2NoYW5nZUNvbnRlbnRaaW5kZXgiLCJ6LWluZGV4IiwiX3Jlc2V0Q29udGVudFppbmRleCIsIl9oaWRlIiwib3ZlcmZsb3dZIiwicGFkZGluZ1JpZ2h0IiwiX3Nob3ciLCJjbGFzc05hbWUiLCJfc2V0UG9wdXBDb250ZW50IiwiY3VyQ29udGVudCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FFSUEsRUFBRyxXQUNDLFlBRUFBLEdBQUVDLEtBQU1ELEVBQUUsZ0JBQWlCLFdBRXZCLEdBQUlFLEdBQVlGLEVBQUVHLFNBSXRCSCxFQUFFQyxLQUFNRCxFQUFFLFNBQVUsV0FFaEIsR0FBSUksR0FBZ0JKLEVBQUVHLFNBVTFCSCxFQUFFQyxLQUFNRCxF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QUdWOUosRUFBS0ksSUFDRGtCLE1BQU8sV0FFSCxNQURBc08sTUFDTyxLQUdmTixFQUFVbFAsSUFDTmtCLE1BQU8sV0FFSCxNQURBc08sTUFDTyxNQUluQkcsRUFBUSxTQUFVQyxHQUNkQyxFQUFrQkQsR0FFbEJoUSxFQUFLd0IsU0FBVSxnQkFFWHZCLEVBQVFLLFFBQVUsT0FFbEJnSyxFQUFLNUosS0FDRG1QLFVBQVcsV0FHZkosTUFJUlEsRUFBbUIsU0FBVUQsR0FDekIsR0FBSUUsR0FBYVgsRUFBVTdELE9BQVEsV0FBYXNFLEVBR2hERSxHQUFXeFAsS0FBTzBFLFFBQVMsVUFRbkM1RSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uKCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcubmljZS1zY3JvbGwnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgTmljZVNjcm9sbCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5zaXRlJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEZ1bGxIZWlnaHRTaXRlKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgIC8vJC5lYWNoKCAkKCcuc2l0ZV9fY29udGVudF9fd3JhcCcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIG5ldyBGdWxsSGVpZ2h0U2l0ZUlubmVyKCAkKHRoaXMpICk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnNpdGVfX2hlYWRlcicpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBNZW51KCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLm1lbnUnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgTmljZVNjcm9sbCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAvLyQuZWFjaCggJCgnYm9keScpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIG5ldyBab29tU2l0ZSggJCh0aGlzKSApO1xuICAgICAgICAvL1xuICAgICAgICAvL30gKTtcblxuICAgICAgICAkLmVhY2goICQoICcuZ2FsbGVyeScgKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmV3IEdhbGxlcnkoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCggJy5zaXRlX19yZWFkLW1vcmUnICksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5ldyBSZWFkTW9yZSggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCAnLmFjY29yZGlvbiBkbCcgKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmV3IEFjY29yZGlvbiggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCAnLmF3YXJkcycgKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmV3IEF3YXJkc0dhbGxlcnkoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnBvcHVwLWluZm8nKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgU2l0ZUNvbnRlbnRQb3B1cE5pY2VTY3JvbGwoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuYWJvdXQtcG9ydGZvbGlvJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEFib3V0UG9ydGZvbGlvUG9wdXAoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCAnLnNlcnZpY2VzLWFyZWFzX19nYWxsZXJ5JyApLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBuZXcgU2VydmljZXNBcmVhR2FsbGVyeSggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuYWpheC1ibG9jaycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBBamF4UmVxdWVzdFBvcHVwKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLmNvbnRhY3RfX3NpZ24nKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgQ29udGFjdFNpZ24oICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuYWNjb3JkaW9uX2NhcmVlcnMnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgQ2FyZWVyc0FwcGx5KCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLmRhdGVwaWNrZXInKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgRGF0ZXBpY2tlciggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5uaWNlLWNoZWNrYm94JyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IE5pY2VDaGVja2JveCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5jb250YWN0X19maWxlJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEZpbGVJbnB1dCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5yZXNvdXJjZXNfX2xpbmtzLWl0ZW1fY29tbWVudHMnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgQ29tbWVudEFuY2hvciggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5yZXNvdXJjZXNfX2FqYXgtd3JhcCcpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBSZXNvdXJjZXNBamF4KCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIEZ1bGxIZWlnaHRTaXRlID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cuaGVpZ2h0KCkgPj0gNTAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogJzEwMCUnXG5cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWluLWhlaWdodCc6ICc1MDBweCdcblxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIEZ1bGxIZWlnaHRTaXRlSW5uZXIgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX3RpdGxlID0gJCgnLnNpdGVfX2NvbnRlbnQgPiAuc2l0ZV9fdGl0bGUnKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRQb3NUb3AoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXNldFBvc1RvcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICBfc2V0UG9zVG9wKCk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRQb3NUb3AgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9zVG9wID0gX3RpdGxlLm9mZnNldCgpLnRvcCArIF90aXRsZS5vdXRlckhlaWdodCggdHJ1ZSApO1xuXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcblxuICAgICAgICAgICAgICAgICAgICAndG9wJzogcG9zVG9wXG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVzZXRQb3NUb3AgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuXG4gICAgICAgICAgICAgICAgICAgICd0b3AnOiAnYXV0bydcblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cpLFxuICAgICAgICAgICAgX21lbnVCdG4gPSBfb2JqLmZpbmQoJy5zaXRlX19oZWFkZXJfX2J0bicpLFxuICAgICAgICAgICAgX21lbnVJdGVtcyA9IF9vYmouZmluZCgnLnNpdGVfX2hlYWRlcl9faXRlbXMnKSxcbiAgICAgICAgICAgIF9odG1sID0gJCgnaHRtbCcpLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCdib2R5Jyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyICBfY2xvc2VNZW51ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX21lbnVJdGVtcy5hdHRyKCAnc3R5bGUnLCAnJyApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX29iai5oYXNDbGFzcyggJ29wZW5lZCcgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9tZW51QnRuLm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouaGFzQ2xhc3MoICdvcGVuZWQnICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VNZW51KCk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdvcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2JvZHkuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX21lbnVJdGVtcy5oZWlnaHQoIF93aW5kb3cuaGVpZ2h0KCkgLSBfbWVudUl0ZW1zLm9mZnNldCgpLnRvcCApO1xuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBOaWNlU2Nyb2xsID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyksXG4gICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gdHJ1ZTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZFNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoubmljZVNjcm9sbCgge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yY29sb3I6XCIjZmVjMzAzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3JvcGFjaXR5bWluOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcmJvcmRlcnJhZGl1czogXCIycHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcmJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiMzZDNlNDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcndpZHRoOiBcIjVweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b2hpZGVtb2RlOiAnbGVhdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlbW91c2V3aGVlbDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9LCAxMCApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IF93aW5kb3cud2lkdGgoKSA+PSAxMDI0O1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFNjcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVtb3ZlU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gdHJ1ZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVtb3ZlU2Nyb2xsID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmdldE5pY2VTY3JvbGwoKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcblxuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBab29tU2l0ZSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfYm9keSA9ICQoICdib2R5JyApO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRTaXplKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6ICc3NXB4J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG5cbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX3NldFNpemUoKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBuZXdTaXplO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cuaGVpZ2h0KCkgPiA1MDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3U2l6ZSA9ICggMTAwICogKCB3aW5kb3cuaW5uZXJIZWlnaHQgLyA5MDAgKSApICsgJ3B4JztcblxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBuZXdTaXplID0gKCAxMDAgKiAoIDUwMCAvIDkwMCApICkgKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2JvZHkuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdmb250LXNpemUnOiBuZXdTaXplXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIEdhbGxlcnkgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfZ2FsbGVyeVRvcCA9IG9iai5maW5kKCcuZ2FsbGVyeV9fdG9wJyksXG4gICAgICAgICAgICBfZ2FsbGVyeVRodW1icyA9IG9iai5maW5kKCcuZ2FsbGVyeV9fdGh1bWJzJyksXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgZ2FsbGVyeVRvcCxcbiAgICAgICAgICAgIGdhbGxlcnlUaHVtYnMsXG4gICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gdHJ1ZTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2Rlc3Ryb3lUZXN0aW1vbmlhbHNTd2lwZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGdhbGxlcnlUb3AuZGVzdHJveSggdHJ1ZSwgdHJ1ZSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF9nYWxsZXJ5VG9wLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICBnYWxsZXJ5VG9wLm9uKCAnc2xpZGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uICggc3dpcGVyICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCBnYWxsZXJ5VGh1bWJzLnNsaWRlcyApLnJlbW92ZUNsYXNzKCAnaXMtc2VsZWN0ZWQnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCBnYWxsZXJ5VGh1bWJzLnNsaWRlcyApLmVxKCBhY3RpdmVJbmRleCApLmFkZENsYXNzKCAnaXMtc2VsZWN0ZWQnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnYWxsZXJ5VGh1bWJzLnNsaWRlVG8oIGFjdGl2ZUluZGV4LCA1MDAsIGZhbHNlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IF93aW5kb3cud2lkdGgoKSA+PSAxMDI0O1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICEoIF9vYmouaGFzQ2xhc3MoICdnYWxsZXJ5XzInICkgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGVzdHJveVRlc3RpbW9uaWFsc1N3aXBlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0VGVzdGltb25pYWxzU3dpcGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwICk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIV9tb2JpbGVTY3JlZW4gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kZXN0cm95VGVzdGltb25pYWxzU3dpcGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRUZXN0aW1vbmlhbHNTd2lwZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IHRydWVcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFN3aXBlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgaWYoICEoIF9vYmouaGFzQ2xhc3MoICdnYWxsZXJ5XzInICkgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBfaW5pdFRlc3RpbW9uaWFsc1N3aXBlcigpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBnYWxsZXJ5VG9wID0gbmV3IFN3aXBlciggX2dhbGxlcnlUb3AsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9nYWxsZXJ5VGh1bWJzLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyApLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogIF9nYWxsZXJ5VGh1bWJzLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1wcmV2JyApLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMFxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBnYWxsZXJ5VGh1bWJzID0gbmV3IFN3aXBlciggX2dhbGxlcnlUaHVtYnMuZmluZCggJy5zd2lwZXItY29udGFpbmVyJyApLCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMzcsXG4gICAgICAgICAgICAgICAgICAgIGZyZWVNb2RlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgdG91Y2hSYXRpbzogMC4yLFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoIHN3aXBlciApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaWNrZWQgPSBzd2lwZXIuY2xpY2tlZEluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpcGVyLmFjdGl2ZUluZGV4ID0gY2xpY2tlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXBlci51cGRhdGVDbGFzc2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCBzd2lwZXIuc2xpZGVzICkucmVtb3ZlQ2xhc3MoICdpcy1zZWxlY3RlZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoIHN3aXBlci5jbGlja2VkU2xpZGUgKS5hZGRDbGFzcyggJ2lzLXNlbGVjdGVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeVRvcC5zbGlkZVRvKCBjbGlja2VkLCA1MDAsIGZhbHNlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25Jbml0OiBmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbENvdW50ID0gX2dhbGxlcnlUaHVtYnMuZmluZCggJy5zd2lwZXItc2xpZGUnKS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE51bTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHRvdGFsQ291bnQgPCAxMCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbENvdW50ID0gJzAnICsgdG90YWxDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dhbGxlcnlUaHVtYnMuZmluZCggJy5nYWxsZXJ5X190aHVtYnMtdG90YWwtY291bnQnICkudGV4dCggdG90YWxDb3VudCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2FsbGVyeVRodW1icy5maW5kKCAnLnN3aXBlci1zbGlkZScpLmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE51bSA9ICQoIHRoaXMgKS5pbmRleCgpICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBjdXJyZW50TnVtIDwgMTAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROdW0gPSAnMCcgKyBjdXJyZW50TnVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAgaWYgKCBjdXJyZW50TnVtWzBdID09IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROdW0gPSBjdXJyZW50TnVtLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIHRoaXMgKS5maW5kKCAnLmdhbGxlcnlfX3RodW1icy1jdXJyZW50LW51bScgKS50ZXh0KCBjdXJyZW50TnVtICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFRlc3RpbW9uaWFsc1N3aXBlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PTEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeVRvcCA9IG5ldyBTd2lwZXIoIF9nYWxsZXJ5VG9wLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfZ2FsbGVyeVRodW1icy5maW5kKCAnLnN3aXBlci1idXR0b24tbmV4dCcgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246ICBfZ2FsbGVyeVRodW1icy5maW5kKCAnLnN3aXBlci1idXR0b24tcHJldicgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdmYWRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcm9zc0ZhZGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBnYWxsZXJ5VG9wID0gbmV3IFN3aXBlciggX2dhbGxlcnlUb3AsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9nYWxsZXJ5VGh1bWJzLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyApLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogIF9nYWxsZXJ5VGh1bWJzLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1wcmV2JyApLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMFxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9pbml0U3dpcGVyKCk7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBSZWFkTW9yZSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cpLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCAnYm9keScpLFxuICAgICAgICAgICAgX2l0ZW1zO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2Rpc3BsYXlJdGVtcygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfZGlzYXBwZWFySXRlbXMoKTtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Rpc2FwcGVhckl0ZW1zID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2l0ZW1zID0gX29iai5wYXJlbnQoKS5uZXh0QWxsKCk7XG5cbiAgICAgICAgICAgICAgICBfaXRlbXMuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9kaXNwbGF5SXRlbXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfaXRlbXMuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgQXdhcmRzR2FsbGVyeSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9hd2FyZHNHYWxsZXJ5ID0gX29iai5maW5kKCcuc3dpcGVyLWNvbnRhaW5lcicpLFxuICAgICAgICAgICAgX3RleHRXcmFwID0gJCgnLmF3YXJkc19fdGV4dC13cmFwIGRpdicpLFxuICAgICAgICAgICAgX3N3aXBlcjtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc3dpcGVyLm9uKCAnc2xpZGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICBfdGV4dFdyYXAuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICBfdGV4dFdyYXAuaHRtbCgnJyk7XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfc3dpcGVyLm9uKCAnc2xpZGVDaGFuZ2VFbmQnLCBmdW5jdGlvbiAoIHN3aXBlciApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZVRleHQgPSBzd2lwZXIuc2xpZGVzLmVxKCBhY3RpdmVJbmRleCApLmZpbmQoICcuYXdhcmRzX190ZXh0JyApO1xuXG4gICAgICAgICAgICAgICAgICAgIF90ZXh0V3JhcC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIF90ZXh0V3JhcC5odG1sKCBhY3RpdmVTbGlkZVRleHQuaHRtbCgpICk7XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFN3aXBlciA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICBfc3dpcGVyID0gbmV3IFN3aXBlciggX2F3YXJkc0dhbGxlcnksIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogX2F3YXJkc0dhbGxlcnkuZmluZCggJy5zd2lwZXItcGFnaW5hdGlvbicgKSxcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX2F3YXJkc0dhbGxlcnkuZmluZCggJy5zd2lwZXItYnV0dG9uLW5leHQnICksXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9hd2FyZHNHYWxsZXJ5LmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1wcmV2JyApLFxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBvbkluaXQ6IGZ1bmN0aW9uKCBzd2lwZXIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZVRleHQgPSBzd2lwZXIuc2xpZGVzLmVxKCBhY3RpdmVJbmRleCApLmZpbmQoICcuYXdhcmRzX190ZXh0JyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGV4dFdyYXAuaHRtbCggYWN0aXZlU2xpZGVUZXh0Lmh0bWwoKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9pbml0U3dpcGVyKCk7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTaXRlQ29udGVudFBvcHVwTmljZVNjcm9sbCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cpLFxuICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IHRydWU7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLm5pY2VTY3JvbGwoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcmNvbG9yOlwiIzI3MjgyZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yb3BhY2l0eW1pbjogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Jib3JkZXJyYWRpdXM6IFwiMnB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Jib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjM2QzZTQyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3J3aWR0aDogXCI1cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9oaWRlbW9kZTogJ2xlYXZlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZW1vdXNld2hlZWw6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfSwgMTAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSBfd2luZG93LndpZHRoKCkgPj0gMTAyNDtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIV9tb2JpbGVTY3JlZW4gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlbW92ZVNjcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IHRydWVcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlbW92ZVNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5nZXROaWNlU2Nyb2xsKCkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIEFib3V0UG9ydGZvbGlvUG9wdXAgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgdmFyIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaXRlbXMgPSBfb2JqLmZpbmQoJy5hYm91dC1wb3J0Zm9saW9fX2l0ZW0nKSxcbiAgICAgICAgICAgIF9wb3B1cEdhbGxlcnkgPSAkKCcuZ2FsbGVyeS1wb3B1cCcpLFxuICAgICAgICAgICAgX3BvcHVwR2FsbGVyeUNsb3NlID0gX3BvcHVwR2FsbGVyeS5maW5kKCcuZ2FsbGVyeS1wb3B1cF9fY2xvc2UnKSxcbiAgICAgICAgICAgIF9wb3B1cEdhbGxlcnlXcmFwID0gX3BvcHVwR2FsbGVyeS5maW5kKCcuZ2FsbGVyeS1wb3B1cF9fd3JhcCcpLFxuICAgICAgICAgICAgX3BvcHVwR2FsbGVyeUxvYWQgPSBfcG9wdXBHYWxsZXJ5LmZpbmQoJy5nYWxsZXJ5LXBvcHVwX19wcmVsb2FkZXInKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfaHRtbCA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgIF9ib2R5ID0gJCgnYm9keScpLFxuICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IHRydWUsXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2l0ZW1zLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQoIHRoaXMgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3BvcHVwR2FsbGVyeS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2JvZHkuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCBjdXJJdGVtICk7XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3BvcHVwR2FsbGVyeUNsb3NlLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlUG9wdXAoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gX3dpbmRvdy53aWR0aCgpID49IDEwMjQ7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVtb3ZlU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gdHJ1ZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkU2Nyb2xsID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLmZpbmQoJy5nYWxsZXJ5LXBvcHVwX190ZXh0JykubmljZVNjcm9sbCgge1xuICAgICAgICAgICAgICAgICAgICBjdXJzb3Jjb2xvcjpcIiNmZWMzMDNcIixcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yb3BhY2l0eW1pbjogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcmJvcmRlcnJhZGl1czogXCIycHhcIixcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjM2QzZTQyXCIsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcndpZHRoOiBcIjVweFwiLFxuICAgICAgICAgICAgICAgICAgICBhdXRvaGlkZW1vZGU6ICdsZWF2ZScsXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZW1vdXNld2hlZWw6IHRydWVcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkuZmluZCgnLmdhbGxlcnktcG9wdXBfX3RleHQnKS5nZXROaWNlU2Nyb2xsKCkucmVzaXplKClcblxuICAgICAgICAgICAgICAgIH0sIDIwMCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xvc2VQb3B1cCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgIF9ib2R5LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3BvcHVwR2FsbGVyeS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3BvcHVwR2FsbGVyeUxvYWQuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfcG9wdXBHYWxsZXJ5V3JhcC5odG1sKCcnKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQgPSBmdW5jdGlvbiAoIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogX29iai5hdHRyKCdkYXRhLWFjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICAvL3VybDogJCgnYm9keScpLmRhdGEoJ2FjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24gOiAnZ2V0X2dhbGxlcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVsZW0uYXR0cignZGF0YS1pZCcpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9wb3B1cEdhbGxlcnlXcmFwLmh0bWwobSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKG0pLmhhc0NsYXNzKCdnYWxsZXJ5JykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKCAkKCAnLmdhbGxlcnknICksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEdhbGxlcnkoICQodGhpcykgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFNjcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BvcHVwR2FsbGVyeUxvYWQuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKFhNTEh0dHBSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIFhNTEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQgIT0gXCJhYm9ydFwiICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRVJST1IhISFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVtb3ZlU2Nyb2xsID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5maW5kKCcuZ2FsbGVyeS1wb3B1cF9fdGV4dCcpLmdldE5pY2VTY3JvbGwoKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5maW5kKCcuZ2FsbGVyeS1wb3B1cF9fdGV4dCcpLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgU2VydmljZXNBcmVhR2FsbGVyeSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9hd2FyZHNHYWxsZXJ5ID0gX29iai5maW5kKCcuc3dpcGVyLWNvbnRhaW5lcicpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfaW5pdFN3aXBlciA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICB2YXIgc3dpcGVyID0gbmV3IFN3aXBlciggX29iaiwge1xuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfb2JqLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyApLFxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfb2JqLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1wcmV2JyApLFxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDMwXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfaW5pdFN3aXBlcigpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgQWpheFJlcXVlc3RQb3B1cCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pdGVtcyA9IF9vYmouZmluZCgnLmFqYXgtYmxvY2tfX2J0bicpLFxuICAgICAgICAgICAgX2xvYWRCbG9jayA9ICQoICcuYWpheC1ibG9jay0nICsgX29iai5hdHRyKCAnZGF0YS1ibG9jaycgKSApLFxuICAgICAgICAgICAgX3BvcHVwTG9hZCA9ICQoJy5wb3B1cF9fcHJlbG9hZGVyJyksXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IHRydWUsXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfaXRlbXMub24oIHtcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggISggY3VySXRlbS5oYXNDbGFzcygnYWpheC1ibG9ja19fYnRuX2xvYWRlZCcpKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVtcy5yZW1vdmVDbGFzcygnYWpheC1ibG9ja19fYnRuX2xvYWRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoJ2FqYXgtYmxvY2tfX2J0bl9sb2FkZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcG9wdXBMb2FkLnJlbW92ZUNsYXNzKCAnaGlkZScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkQmxvY2suaHRtbCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbG9hZEJsb2NrLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xvYWRCbG9jay5uZXh0QWxsKCkuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCggY3VySXRlbSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IF93aW5kb3cud2lkdGgoKSA+PSAxMDI0O1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkU2Nyb2xsKCBfbG9hZEJsb2NrLmNoaWxkcmVuKCkgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVtb3ZlU2Nyb2xsKCBfbG9hZEJsb2NrLmNoaWxkcmVuKCkgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hZGRTY3JvbGwgPSBmdW5jdGlvbiggZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIGVsZW0ubmljZVNjcm9sbCgge1xuICAgICAgICAgICAgICAgICAgICBjdXJzb3Jjb2xvcjpcIiMyNzI4MmRcIixcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yb3BhY2l0eW1pbjogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcmJvcmRlcnJhZGl1czogXCIycHhcIixcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjM2QzZTQyXCIsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcndpZHRoOiBcIjVweFwiLFxuICAgICAgICAgICAgICAgICAgICBhdXRvaGlkZW1vZGU6ICdsZWF2ZScsXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZW1vdXNld2hlZWw6IHRydWVcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uZ2V0TmljZVNjcm9sbCgpLnJlc2l6ZSgpXG5cbiAgICAgICAgICAgICAgICB9LCAyMDAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQgPSBmdW5jdGlvbiAoIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5hYm9ydCgpO1xuXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBfb2JqLmF0dHIoJ2RhdGEtYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIC8vdXJsOiAkKCdib2R5JykuYXR0cignZGF0YS1hY3Rpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZ2V0X2FyZWFzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGx2bDogZWxlbS5hdHRyKCdkYXRhLWx2bCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVsZW0uYXR0cignZGF0YS1pZCcpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICggbSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvYWRCbG9jay5odG1sKCBtICk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9sb2FkQmxvY2suZmluZCgnLmFqYXgtYmxvY2snKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQWpheFJlcXVlc3RQb3B1cCggX2xvYWRCbG9jay5maW5kKCcuYWpheC1ibG9jaycpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfbG9hZEJsb2NrLmZpbmQoJy5hY2NvcmRpb24nKS5sZW5ndGggKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaCggX2xvYWRCbG9jay5maW5kKCcuYWNjb3JkaW9uXzIgZGwnKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQWNjb3JkaW9uKCAkKHRoaXMpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRTY3JvbGwoIF9sb2FkQmxvY2suY2hpbGRyZW4oKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcG9wdXBMb2FkLmFkZENsYXNzKCAnaGlkZScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XG5cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKFhNTEh0dHBSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIFhNTEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQgIT0gXCJhYm9ydFwiICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRVJST1IhISFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVtb3ZlU2Nyb2xsID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICBlbGVtLmdldE5pY2VTY3JvbGwoKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBlbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgQ29udGFjdFNpZ24gPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfYXJlYSA9IF9vYmouZmluZCgnLmNvbnRhY3RfX3NpZ24tYXJlYScpLFxuICAgICAgICAgICAgX2NsZWFyID0gX29iai5maW5kKCcuY29udGFjdF9fc2lnbi1yZWZyZXNoJyksXG4gICAgICAgICAgICBfc2VuZCA9ICQoJy5jYW52YXNfY2hlY2snKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfcmVzdWx0O1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfZGVzdHJveVNpZ25hdHVyZSA9ICBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9hcmVhLnNpZ25hdHVyZSgnZGVzdHJveScpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfY2xlYXIub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfYXJlYS5zaWduYXR1cmUoJ2NsZWFyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZGVzdHJveVNpZ25hdHVyZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRTaWduYXR1cmUoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3NlbmQub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX2FyZWEuc2lnbmF0dXJlKCdpc0VtcHR5JykgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHQgPSBfYXJlYS5zaWduYXR1cmUoJ3RvU1ZHJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FyZWEucmVtb3ZlQ2xhc3MoICdjb250YWN0X19zaWduLWFyZWEtcmVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zaWduX3ZhbCcpLnZhbCggX3Jlc3VsdCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FyZWEuYWRkQ2xhc3MoICdjb250YWN0X19zaWduLWFyZWEtcmVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zaWduX3ZhbCcpLnZhbCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9pbml0U2lnbmF0dXJlKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFNpZ25hdHVyZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9hcmVhLnNpZ25hdHVyZSgge1xuICAgICAgICAgICAgICAgICAgICB0aGlja25lc3M6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBDYXJlZXJzQXBwbHkgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaGlkZGVuSW5wdXQgPSAkKCcuY2FyZWVyc190aGVtZXMnKSxcbiAgICAgICAgICAgIF9hcHBseUJ0biA9IF9vYmouZmluZCgnLmFwcGx5JyksXG4gICAgICAgICAgICBfZGF0YSA9IHt9LFxuICAgICAgICAgICAgX2FyciA9IFtdO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfYXBwbHlCdG4ub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRWxlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVZhbHVlID0gY3VyRWxlbS5kYXRhKCd2YWx1ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUZXh0MSA9IGN1ckVsZW0uZGF0YSgndGV4dDEnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVGV4dDIgPSBjdXJFbGVtLmRhdGEoJ3RleHQyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5TmFtZSA9IGRhdGFWYWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICEoIGN1ckVsZW0uaGFzQ2xhc3MoICdhY3RpdmUnICkgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uYWRkQ2xhc3MoICdhY3RpdmUnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5maW5kKCdzcGFuJykudGV4dChkYXRhVGV4dDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhW2tleU5hbWVdID0gZGF0YVZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJFbGVtLmZpbmQoJ3NwYW4nKS50ZXh0KGRhdGFUZXh0MSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9kYXRhW2tleU5hbWVdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF93cml0ZUluSW5wdXQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF93cml0ZUluSW5wdXQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9hcnIgPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvciggdmFyIGtleSBpbiBfZGF0YSApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9kYXRhWyBrZXkgXTtcbiAgICAgICAgICAgICAgICAgICAgX2Fyci5wdXNoKGl0ZW0gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfaGlkZGVuSW5wdXQudmFsKCBfYXJyICk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIERhdGVwaWNrZXIgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfc2Nyb2xsQmxvY2sgPSAkKCcubmljZS1zY3JvbGwnKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2hpZGVEYXRlUGlja2VyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmRhdGVwaWNrZXIoICdoaWRlJyApO1xuICAgICAgICAgICAgICAgIF9vYmouYmx1cigpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3Njcm9sbEJsb2NrLm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVEYXRlUGlja2VyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlRGF0ZVBpY2tlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfaW5pdERhdGVQaWNrZXIoKTtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0RGF0ZVBpY2tlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5kYXRlcGlja2VyKCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIE5pY2VDaGVja2JveCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9sYWJlbCA9IF9vYmouZmluZCgnbGFiZWwnKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2xhYmVsLmZpbmQoJ2lucHV0OmNoZWNrYm94Jykub2ZmKCAnY2xpY2snLGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9ICQoIHRoaXMgKS5hdHRyKCAnbmFtZScgKTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCdmb3JtJykuZmluZCgnaW5wdXQ6Y2hlY2tib3hbbmFtZT1cIicgKyBuYW1lICsgJ1wiXScpLm5vdCh0aGlzKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9sYWJlbC5jbGljayggZnVuY3Rpb24oIGV2ZW50ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCAkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoXCJpbnB1dFwiKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKFwiaW5wdXRcIikuYXR0cignY2hlY2tlZCcsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIEZpbGVJbnB1dCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pbnB1dEZpbGUgPSBfb2JqLmZpbmQoJ2lucHV0W3R5cGU9ZmlsZV0nKSxcbiAgICAgICAgICAgIF9pbnB1dFRleHQgPSBfb2JqLmZpbmQoJ2lucHV0W3R5cGU9dGV4dF0nKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2lucHV0RmlsZS5vbigge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXRUZXh0LnZhbCggJCh0aGlzKS52YWwoKSApXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgQ29tbWVudEFuY2hvciA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9jb21tZW50c0N1c3RvbWVyID0gJCgnLmNvbW1lbnRzLWN1c3RvbWVyJyksXG4gICAgICAgICAgICBfY29udGVudCA9ICQoJy5zaXRlX19jb250ZW50X19pbm5lcicpLFxuICAgICAgICAgICAgX2NvbW1lbnRzRm9ybSA9ICQoJy5zaXRlX19mb3JtJyksXG4gICAgICAgICAgICBfZG9tID0gJCggJ2h0bWwsIGJvZHknICksXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggISggX29iai5wYXJlbnRzKCAnLnJlc291cmNlc19faXRlbScpLmxlbmd0aCApICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoub24oIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3NDb21tZW50VG9wO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfY29tbWVudHNDdXN0b21lci5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc0NvbW1lbnRUb3AgPSBfY29tbWVudHNDdXN0b21lci5vZmZzZXQoKS50b3A7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zQ29tbWVudFRvcCA9IF9jb21tZW50c0Zvcm0ub2Zmc2V0KCkudG9wO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uYW5pbWF0ZSggeyBzY3JvbGxUb3A6IHBvc0NvbW1lbnRUb3AgfSwgMzAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3NDb21tZW50VG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNjcm9sbFRvcDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX2NvbW1lbnRzQ3VzdG9tZXIubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NDb21tZW50VG9wID0gX2NvbW1lbnRzQ3VzdG9tZXIucG9zaXRpb24oKS50b3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2Nyb2xsVG9wID0gX2NvbnRlbnQuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zQ29tbWVudFRvcCA9IF9jb21tZW50c0Zvcm0ucG9zaXRpb24oKS50b3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2Nyb2xsVG9wID0gX2NvbnRlbnQuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZW50LnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZW50LmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiBwb3NDb21tZW50VG9wICsgY29udGVudFNjcm9sbFRvcCB9LCAzMDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9zY3JvbGxUb0NvbW1lbnRzKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2Nyb2xsVG9Db21tZW50cyA9ICBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmKCAhKCBfb2JqLnBhcmVudHMoICcucmVzb3VyY2VzX19pdGVtJykubGVuZ3RoICkgJiYgKCBfb2JqLnBhcmVudHMoJy5zaXRlX19jb250ZW50X193cmFwJykuaGFzQ2xhc3MoICdjb21tZW50c19zY3JvbGwnICkgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zQ29tbWVudFRvcDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zQ29tbWVudFRvcCA9IF9jb21tZW50c0N1c3RvbWVyLm9mZnNldCgpLnRvcDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5zY3JvbGxUb3AoIHBvc0NvbW1lbnRUb3AgKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zQ29tbWVudFRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NDb21tZW50VG9wID0gX2NvbW1lbnRzQ3VzdG9tZXIucG9zaXRpb24oKS50b3A7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2Nyb2xsVG9wID0gX2NvbnRlbnQuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZW50LnNjcm9sbFRvcCggcG9zQ29tbWVudFRvcCArIGNvbnRlbnRTY3JvbGxUb3AgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFJlc291cmNlc0FqYXggPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgdmFyIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaXRlbXMgPSBfb2JqLmZpbmQoJy5yZXNvdXJjZXNfX2l0ZW0nKSxcbiAgICAgICAgICAgIF93cmFwSXRlbXMgPSBfb2JqLmZpbmQoJy5yZXNvdXJjZXNfX2l0ZW1zJyksXG4gICAgICAgICAgICBfbG9hZGVyID0gJCgnLnJlc291cmNlc19fcHJlbG9hZGVyJyksXG4gICAgICAgICAgICBfbGlua3MgPSBfaXRlbXMuZmluZCgnLnJlc291cmNlc19fbGlua3MtaXRlbV90YWdzPmEnKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfaHRtbCA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgIF9ib2R5ID0gJCgnYm9keScpLFxuICAgICAgICAgICAgX3JlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxuICAgICAgICAgICAgICAgICAgICAnY2xpY2snLFxuICAgICAgICAgICAgICAgICAgICAnLnJlc291cmNlc19fbGlua3MtaXRlbV90YWdzPmEnLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQoIHRoaXMgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3dyYXBJdGVtcy5odG1sKCcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvYWRlci5hZGRDbGFzcygndmlzaWJsZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQoIGN1ckl0ZW0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQgPSBmdW5jdGlvbiAoIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5hYm9ydCgpO1xuXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBfb2JqLmF0dHIoJ2RhdGEtYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ0lkOiBlbGVtLmF0dHIoJ2RhdGEtaWQnKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAobSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfd3JhcEl0ZW1zLmh0bWwobSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkZXIucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJFUlJPUiEhIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpO1xuXG52YXIgQWNjb3JkaW9uID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICBfYWNjb3JkaW9uQ2FwdGlvbiA9IF9vYmouZmluZCgnPmR0JyksXG4gICAgICAgIF9hY2NvcmRpb25Db250ZW50ID0gX29iai5maW5kKCc+ZGQnKSxcbiAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgX2NvbnRlbnQgPSAkKCcuc2l0ZV9fY29udGVudF9faW5uZXInKSxcbiAgICAgICAgX2RvbSA9ICQoICdodG1sLCBib2R5JyApLFxuICAgICAgICBfcG9zID0gMCxcbiAgICAgICAgX3Bvc1RvcCA9IDAsXG4gICAgICAgIF9jbGlja0ZsYWcgPSB0cnVlO1xuXG4gICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICB2YXIgX2Nsb3NlQWNjb3JkaW9uID0gZnVuY3Rpb24gKCBjdXJFbGVtLCBuZXh0RWxlbSApIHtcblxuICAgICAgICAgICAgX2FjY29yZGlvbkNhcHRpb24ucmVtb3ZlQ2xhc3MoICdzaW1pbGFyJyApO1xuICAgICAgICAgICAgY3VyRWxlbS5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcbiAgICAgICAgICAgIGN1ckVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgJ21hcmdpbi1ib3R0b20nOiAnJ1xuICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgbmV4dEVsZW0ucmVtb3ZlQ2xhc3MoICd2aXNpYmxlJyApO1xuXG4gICAgICAgIH0sXG4gICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoICBfYWNjb3JkaW9uQ2FwdGlvbi5maWx0ZXIoICcuYWN0aXZlJykubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0UG9zSXRlbXMoIF9hY2NvcmRpb25DYXB0aW9uLmZpbHRlciggJy5hY3RpdmUnICksIF9hY2NvcmRpb25DYXB0aW9uLmZpbHRlciggJy5hY3RpdmUnICkubmV4dCgpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICBfYWNjb3JkaW9uQ2FwdGlvbi5vbigge1xuXG4gICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0RWxlbSA9IGN1ckl0ZW0ubmV4dCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCAhKCBjdXJJdGVtLmhhc0NsYXNzKCdhY3RpdmUnKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2NsaWNrRmxhZyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuQWNjb3JkaW9uKCBjdXJJdGVtLCBuZXh0RWxlbSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlQWNjb3JkaW9uKCBjdXJJdGVtLCBuZXh0RWxlbSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICB9LFxuICAgICAgICBfb3BlbkFjY29yZGlvbiA9IGZ1bmN0aW9uICggY3VyRWxlbSwgbmV4dEVsZW0gKSB7XG5cbiAgICAgICAgICAgIF9jbGlja0ZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIF9hY2NvcmRpb25DYXB0aW9uLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xuICAgICAgICAgICAgX2FjY29yZGlvbkNhcHRpb24uY3NzKCB7XG4gICAgICAgICAgICAgICAgJ21hcmdpbi1ib3R0b20nOiAnJ1xuICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgX2FjY29yZGlvbkNvbnRlbnQucmVtb3ZlQ2xhc3MoICd2aXNpYmxlIHNpbWlsYXInICk7XG5cbiAgICAgICAgICAgIGN1ckVsZW0uYWRkQ2xhc3MoICdhY3RpdmUnICk7XG5cbiAgICAgICAgICAgIF9zZXRQb3NJdGVtcyggY3VyRWxlbSwgbmV4dEVsZW0gKTtcbiAgICAgICAgICAgIF9zY3JvbGxUbyggY3VyRWxlbSApO1xuICAgICAgICAgICAgbmV4dEVsZW0uYWRkQ2xhc3MoICd2aXNpYmxlJyApO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9jbGlja0ZsYWcgPSB0cnVlO1xuXG4gICAgICAgICAgICB9LCAzMDAgKTtcblxuICAgICAgICB9LFxuICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgX3NldFdpZHRoKCk7XG5cbiAgICAgICAgfSxcbiAgICAgICAgX3Njcm9sbFRvID0gZnVuY3Rpb24gKCBlbGVtICkge1xuXG4gICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcblxuICAgICAgICAgICAgICAgIF9wb3NUb3AgID0gZWxlbS5vZmZzZXQoKS50b3A7XG5cbiAgICAgICAgICAgICAgICBfZG9tLnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgX2RvbS5hbmltYXRlKCB7IHNjcm9sbFRvcDogX3Bvc1RvcCB9LCAzMDAgKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuXG4gICAgICAgICAgICAgICAgX3Bvc1RvcCAgPSBfb2JqLnBvc2l0aW9uKCkudG9wICsgKCBlbGVtLm91dGVySGVpZ2h0KCkgKiBfYWNjb3JkaW9uQ2FwdGlvbi5pbmRleChlbGVtKSApICsgX2NvbnRlbnQuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICBpZiggISggZWxlbS5oYXNDbGFzcyggJ3NpbWlsYXInICkgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBfY29udGVudC5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgICAgICBfY29udGVudC5hbmltYXRlKCB7IHNjcm9sbFRvcDogX3Bvc1RvcCB9LCAzMDAgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG4gICAgICAgIF9zZXRQb3NJdGVtcyA9IGZ1bmN0aW9uICggY2FwdGlvbiwgZWxlbSApIHtcblxuICAgICAgICAgICAgY2FwdGlvbi5jc3MoIHtcbiAgICAgICAgICAgICAgICAnbWFyZ2luLWJvdHRvbSc6IGVsZW0uaW5uZXJIZWlnaHQoKSAtIDFcbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZWxlbVBvcyA9IGNhcHRpb24ucG9zaXRpb24oKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIGVsZW1IZWlnaHQgPSBjYXB0aW9uLmlubmVySGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICBfcG9zID0gZWxlbVBvcyArIGVsZW1IZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBlbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAndG9wJzogX3Bvc1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9hY2NvcmRpb25DYXB0aW9uLmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCAkKHRoaXMpLnBvc2l0aW9uKCkudG9wID09IGVsZW1Qb3MgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoICdzaW1pbGFyJyApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoICdzaW1pbGFyJyApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSwgMzEwICk7XG5cbiAgICAgICAgfSxcbiAgICAgICAgX3NldFdpZHRoID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIGlmKCBfb2JqLnBhcmVudCgpLmhhc0NsYXNzKCdhY2NvcmRpb25fMicpICkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF9hY2NvcmRpb25DYXB0aW9uLmxlbmd0aCA9PSAyICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9hY2NvcmRpb25DYXB0aW9uLmFkZENsYXNzKCAnaGFsZicgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX2FjY29yZGlvbkNhcHRpb24ubGVuZ3RoID09IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2FjY29yZGlvbkNhcHRpb24uYWRkQ2xhc3MoICdmdWxsJyApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgIF9pbml0KCk7XG59O1xuXG4iLCIoIGZ1bmN0aW9uKCl7XG5cbiAgICAkKCBmdW5jdGlvbigpe1xuICAgICAgICAkKCAnc2VsZWN0JyApLmVhY2goIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBuZXcgV2Vic3RlcnNTZWxlY3QoIHtcbiAgICAgICAgICAgICAgICBvYmo6ICQoIHRoaXMgKSxcbiAgICAgICAgICAgICAgICBvcHRpb25UeXBlOiAxLFxuICAgICAgICAgICAgICAgIHNob3dUeXBlOiAyXG4gICAgICAgICAgICB9ICk7XG4gICAgICAgIH0gKTtcbiAgICB9ICk7XG5cbiAgICB2YXIgV2Vic3RlcnNTZWxlY3QgPSBmdW5jdGlvbiggcGFyYW1zICl7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBwYXJhbXMub2JqLFxuICAgICAgICAgICAgX29wdGlvblR5cGUgPSBwYXJhbXMub3B0aW9uVHlwZSB8fCAwLFxuICAgICAgICAgICAgX3Nob3dUeXBlID0gcGFyYW1zLnNob3dUeXBlIHx8IDAsXG4gICAgICAgICAgICBfdmlzaWJsZSA9IHBhcmFtcy52aXNpYmxlIHx8IDUsXG4gICAgICAgICAgICBfZGV2aWNlID0gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KCBuYXZpZ2F0b3IudXNlckFnZW50ICksXG4gICAgICAgICAgICBfdGV4dCA9ICQoICc8c3BhbiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdF9faXRlbVwiPjwvc3Bhbj4nICksXG4gICAgICAgICAgICBfd3JhcCA9ICQoICc8ZGl2IGNsYXNzPVwid2Vic3RlcnMtc2VsZWN0XCI+PC9kaXY+JyApLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCAnYm9keScgKSxcbiAgICAgICAgICAgIF9vcGVuZWQgPSBmYWxzZSxcbiAgICAgICAgICAgIF9wb3B1cCwgX3Njcm9sbDtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZFdyYXAgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBjdXJUZXh0ID0gJyc7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX29iai53cmFwKCBfd3JhcCApO1xuICAgICAgICAgICAgICAgIF93cmFwID0gX29iai5wYXJlbnQoKTtcbiAgICAgICAgICAgICAgICBfd3JhcC5hcHBlbmQoICc8ZGl2IGNsYXNzPVwid2Vic3RlcnMtc2VsZWN0X19hcnJvd1wiPjwvZGl2PicgKTtcbiAgICAgICAgICAgICAgICBfb2JqLmJlZm9yZSggX3RleHQgKTtcbiAgICAgICAgICAgICAgICBfb2JqLmZpbmQoICdvcHRpb24nICkuZWFjaCggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKCB0aGlzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uYXR0ciggJ3NlbGVjdGVkJyApID09ICdzZWxlY3RlZCcgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRleHQgPSBjdXJJdGVtLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIGlmKCBjdXJUZXh0ID09ICcnICl7XG4gICAgICAgICAgICAgICAgICAgIGN1clRleHQgPSAgX29iai5maW5kKCAnb3B0aW9uJykuZXEoIDAgKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90ZXh0LnRleHQoIGN1clRleHQgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaGlkZVBvcHVwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb3BlbmVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiggIV9zaG93VHlwZSApe1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX3Nob3dUeXBlID09IDEgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnN0b3AoIHRydWUsIGZhbHNlICkuc2xpZGVVcCggMzAwLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfc2hvd1R5cGUgPT0gMiApIHtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnN0b3AoIHRydWUsIGZhbHNlICkuZmFkZU91dCggMzAwLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3dyYXAucmVtb3ZlQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3Rfb3BlbmVkJyApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgICAgICBfYWRkV3JhcCgpO1xuICAgICAgICAgICAgICAgIF9zZWxlY3RWaWV3VHlwZSgpO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29iai5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGV4dC50ZXh0KCAkKCB0aGlzICkuZmluZCggJ29wdGlvbjpzZWxlY3RlZCcgKS50ZXh0KCkgKTtcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBpZiggX29wdGlvblR5cGUgPT0gMSAmJiAhX2RldmljZSApe1xuICAgICAgICAgICAgICAgICAgICBfd3JhcC5vbigge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24oIGUgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vcGVuZWQgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93UG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vcGVuZWQgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICQoJy5uaWNlLXNjcm9sbCcpLm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vcGVuZWQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2VsZWN0Vmlld1R5cGUgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgaWYoICFfb3B0aW9uVHlwZSB8fCBfZGV2aWNlICl7XG4gICAgICAgICAgICAgICAgICAgIF9zZXRNb2JpbGVWaWV3KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfb3B0aW9uVHlwZSA9PSAxICl7XG4gICAgICAgICAgICAgICAgICAgIF9zZXRDdXN0b20xKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRDdXN0b20xID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfd3JhcC5hZGRDbGFzcyggJ3dlYnN0ZXJzLXNlbGVjdF9jdXN0b20nICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldE1vYmlsZVZpZXcgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF93cmFwLmFkZENsYXNzKCAnd2Vic3RlcnMtc2VsZWN0X21vYmlsZScgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2hvd1BvcHVwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0cyA9ICQoICdzZWxlY3QnICksXG4gICAgICAgICAgICAgICAgICAgIGxpc3QgPSAkKCAnPHVsPjwvdWw+JyksXG4gICAgICAgICAgICAgICAgICAgIGN1clNjcm9sbCA9IF93aW5kb3cuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IF93cmFwLm9mZnNldCgpLFxuICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSAwLFxuICAgICAgICAgICAgICAgICAgICBjdXJJbmRleCA9IF9vYmouZmluZCggJ29wdGlvbjpzZWxlY3RlZCcgKS5pbmRleCgpLFxuICAgICAgICAgICAgICAgICAgICBpZCA9IE1hdGgucm91bmQoIE1hdGgucmFuZG9tKCkgKiAxMDAwICk7XG5cbiAgICAgICAgICAgICAgICBzZWxlY3RzLmVhY2goIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCB0aGlzICE9PSBfb2JqWyAwIF0gJiYgdGhpcy5vYmouY2hlY2tPcGVuZWQoKSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmouY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfb3BlbmVkICl7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX29wZW5lZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBfcG9wdXAgPSAkKCAnPGRpdiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdF9fcG9wdXBcIiBpZD1cIndlYnN0ZXJzLXNlbGVjdF9fcG9wdXAnICsgaWQgKyAnXCI+PC9kaXY+JyApO1xuXG4gICAgICAgICAgICAgICAgX29iai5maW5kKCAnb3B0aW9uJyApLmVhY2goIGZ1bmN0aW9uKCBpICl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBpID09IGN1ckluZGV4ICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LmFwcGVuZCggJzxsaSBjbGFzcz1cImFjdGl2ZVwiPicgKyBjdXJJdGVtLnRleHQoKSArICc8L2xpPicgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuYXBwZW5kKCAnPGxpPicgKyBjdXJJdGVtLnRleHQoKSArICc8L2xpPicgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3BvcHVwLmFwcGVuZCggbGlzdCApO1xuICAgICAgICAgICAgICAgIF9ib2R5LmFwcGVuZCggX3BvcHVwICk7XG4gICAgICAgICAgICAgICAgX3dyYXAuYWRkQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3Rfb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogX3dyYXAub3V0ZXJXaWR0aCgpLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBvZmZzZXQubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBvZmZzZXQudG9wICsgX3dyYXAub3V0ZXJIZWlnaHQoKVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIG1heEhlaWdodCA9IF9wb3B1cC5vdXRlckhlaWdodCgpO1xuICAgICAgICAgICAgICAgIGlmKCBtYXhIZWlnaHQgPiBfcG9wdXAuZmluZCggJ2xpJyApLmVxKCAwICkub3V0ZXJIZWlnaHQoKSAqIF92aXNpYmxlICl7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5oZWlnaHQoIF9wb3B1cC5maW5kKCAnbGknICkuZXEoIDAgKS5vdXRlckhlaWdodCgpICogX3Zpc2libGUgKTtcbiAgICAgICAgICAgICAgICAgICAgX3Njcm9sbCA9IF9wb3B1cC5uaWNlU2Nyb2xsKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3JpenJhaWxlbmFibGVkOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoIF9zaG93VHlwZSA9PSAxICl7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5zbGlkZURvd24oIDMwMCApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX3Nob3dUeXBlID09IDIgKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuMVxuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5hbmltYXRlKCB7IG9wYWNpdHk6IDEgfSwgMzAwKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfcG9wdXAuZmluZCggJ2xpJyApLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uKCBlICl7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkKCB0aGlzICkuaW5kZXgoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai52YWwoIF9vYmouZmluZCggJ29wdGlvbicgKS5lcSggaW5kZXggKS5hdHRyKCAndmFsdWUnICkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoudHJpZ2dlciggJ2NoYW5nZScgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlUG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuICAgICAgICBfc2VsZi5jaGVja09wZW5lZCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gX29wZW5lZDtcbiAgICAgICAgfTtcbiAgICAgICAgX3NlbGYuY2xvc2UgPSBmdW5jdGlvbigpe1xuICAgICAgICAgIF9oaWRlUG9wdXAoKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIF9jb25zdHJ1Y3RvcigpO1xuXG4gICAgfTtcblxufSApKCk7IiwiKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgJCggJy5wb3B1cCcgKS5lYWNoKCBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICBuZXcgUG9wdXAoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cblxuXG59ICkoKTtcblxudmFyIFBvcHVwID0gZnVuY3Rpb24oIG9iaiApe1xuXG4gICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICBfcG9wdXBQYWRkaW5nID0gNDAsXG4gICAgICAgIF9idG5TaG93ID0gICQoICcucG9wdXBfX29wZW4nICksXG4gICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgIF9idG5DbG9zZSA9IF9vYmouZmluZCggJy5wb3B1cF9fY2xvc2UsIC5wb3B1cF9fY2FuY2VsJyApLFxuICAgICAgICBfd3JhcCA9IF9vYmouZmluZCggJy5wb3B1cF9fd3JhcCcgKSxcbiAgICAgICAgX2NvbnRlbnRzID0gX29iai5maW5kKCAnLnBvcHVwX19jb250ZW50JyApLFxuICAgICAgICBfZG9tID0gJCggJ2h0bWwsIGJvZHknICksXG4gICAgICAgIF9jb250ZW50ID0gJCggJy5zaXRlX19jb250ZW50JyApLFxuICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgIF9tb2JpbGVTY3JlZW4gPSB0cnVlLFxuICAgICAgICBfdGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe30sIDEgKTtcblxuICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgdmFyIF9jZW50ZXJXcmFwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmICggX3dpbmRvdy5oZWlnaHQoKSAtICggX3BvcHVwUGFkZGluZyAqIDIgKSAtIF93cmFwLmhlaWdodCgpID4gMCApIHtcbiAgICAgICAgICAgICAgICBfd3JhcC5jc3MoIHsgdG9wOiAoICggX3dpbmRvdy5oZWlnaHQoKSAtICggX3BvcHVwUGFkZGluZyAqIDIgKSApIC0gX3dyYXAuaGVpZ2h0KCkgKSAvIDIgfSApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfd3JhcC5jc3MoIHsgdG9wOiAwIH0gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX2NoYW5nZUNvbnRlbnRaaW5kZXggPSBmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgIF9jb250ZW50LmNzcygge1xuICAgICAgICAgICAgICAgICd6LWluZGV4JzogNFxuICAgICAgICAgICAgfSApO1xuICAgICAgICB9LFxuICAgICAgICBfcmVzZXRDb250ZW50WmluZGV4ID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICBfY29udGVudC5jc3MoIHtcbiAgICAgICAgICAgICAgICAnei1pbmRleCc6IDJcbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2dldFNjcm9sbFdpZHRoID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicpLFxuICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoO1xuXG4gICAgICAgICAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gJ3BvcHVwX19zY3JvbGxiYXItbWVhc3VyZSc7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHNjcm9sbERpdiApO1xuXG4gICAgICAgICAgICBzY3JvbGxCYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcblxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuXG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsQmFyV2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIF9oaWRlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJ1xuICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3BvcHVwX2hpZGUnICk7XG5cbiAgICAgICAgICAgIF90aW1lciA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmNzcyAoe1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3BvcHVwX2hpZGUnICk7XG5cbiAgICAgICAgICAgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcblxuICAgICAgICAgICAgICAgIF9kb20uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfcmVzZXRDb250ZW50WmluZGV4KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jb250ZW50cy5jc3MoIHsgZGlzcGxheTogJ25vbmUnIH0gKTtcblxuICAgICAgICAgICAgaWYoIF9vYmouZmluZCgnLnBvcHVwX19hZGRyZXNzZXMnKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5wb3B1cF9fYWRkcmVzc2VzJykuY2hpbGRyZW4oKS5jc3MoIHsgZGlzcGxheTogJ25vbmUnIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5wb3B1cF9fYWRkcmVzc2VzJykuY2hpbGRyZW4oKS5odG1sKCcnKTtcbiAgICAgICAgICAgICAgICBfYnRuU2hvdy5yZW1vdmVDbGFzcygnYWpheC1ibG9ja19fYnRuX2xvYWRlZCcpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcbiAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIF93aW5kb3cub24oIHtcblxuICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gX3dpbmRvdy53aWR0aCgpID49IDEwMjQ7XG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IHRydWVcblxuICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICBfYnRuU2hvdy5vbigge1xuICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBfc2hvdyggJCggdGhpcyApLmF0dHIoICdkYXRhLXBvcHVwJyApICk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgX3dyYXAub24oIHtcbiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oIGUgKXtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICBfb2JqLm9uKCB7XG4gICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICBfYnRuQ2xvc2Uub24oIHtcbiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3Nob3cgPSBmdW5jdGlvbiggY2xhc3NOYW1lICl7XG4gICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50KCBjbGFzc05hbWUgKTtcblxuICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3BvcHVwX29wZW5lZCcgKTtcblxuICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICBfZG9tLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2NoYW5nZUNvbnRlbnRaaW5kZXgoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuICAgICAgICBfc2V0UG9wdXBDb250ZW50ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgdmFyIGN1ckNvbnRlbnQgPSBfY29udGVudHMuZmlsdGVyKCAnLnBvcHVwX18nICsgY2xhc3NOYW1lICk7XG5cbiAgICAgICAgICAgIC8vX2NvbnRlbnRzLmNzcyggeyBkaXNwbGF5OiAnbm9uZScgfSApO1xuICAgICAgICAgICAgY3VyQ29udGVudC5jc3MoIHsgZGlzcGxheTogJ2Jsb2NrJyB9ICk7XG5cbiAgICAgICAgfTtcblxuICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgIC8vcHVibGljIG1ldGhvZHNcblxuICAgIF9pbml0KCk7XG59OyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
