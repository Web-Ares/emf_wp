!function(){$(function(){"use strict";$.each($(".nice-scroll"),function(){new e($(this))}),$.each($(".site"),function(){new t($(this))}),$.each($(".site__header"),function(){new n($(this))}),$.each($(".menu"),function(){new e($(this))}),$.each($(".gallery"),function(){new i($(this))}),$.each($(".site__read-more"),function(){new o($(this))}),$.each($(".accordion dl"),function(){new Accordion($(this))}),$.each($(".awards"),function(){new c($(this))}),$.each($(".popup-info"),function(){new s($(this))}),$.each($(".about-portfolio"),function(){new a($(this))}),$.each($(".services-areas__gallery"),function(){new r($(this))}),$.each($(".ajax-block"),function(){new l($(this))}),$.each($(".contact__sign"),function(){new f($(this))}),$.each($(".accordion_careers"),function(){new u($(this))}),$.each($(".datepicker"),function(){new d($(this))}),$.each($(".nice-checkbox"),function(){new p($(this))}),$.each($(".contact__file"),function(){new h($(this))}),$.each($(".resources__links-item_comments"),function(){new w($(this))}),$.each($(".resources__ajax-wrap"),function(){new v($(this))})});var t=function(t){var n=this,e=t,i=$(window),o=function(){i.on({resize:function(){i.width()>=1024&&s()}})},c=function(){o(),i.width()>=1024&&s(),e[0].obj=n},s=function(){i.height()>=500?e.css({"min-height":"100%"}):e.css({"min-height":"500px"})};c()},n=function(t){var n=this,e=t,i=$(window),o=e.find(".site__header__btn"),c=e.find(".site__header__items"),s=$("html"),a=$("body"),r=function(){e.removeClass("opened"),s.css({"overflow-y":"auto"}),a.css({"overflow-y":"auto"}),c.attr("style","")},l=function(){i.on({resize:function(){e.hasClass("opened")&&r()}}),o.on({click:function(){return e.hasClass("opened")?r():f(),!1}})},f=function(){e.addClass("opened"),s.css({"overflow-y":"hidden"}),a.css({"overflow-y":"hidden"}),d()},u=function(){l(),e[0].obj=n},d=function(){c.height(i.height()-c.offset().top)};u()},e=function(t){var n=this,e=t,i=$(window),o=!0,c=function(){e.perfectScrollbar()},s=function(){i.on({load:function(){o=i.width()>=1024,o&&c()},resize:function(){i.width()>=1024?(o&&(c(),e.perfectScrollbar("update")),o=!1):(o||a(),o=!0)}})},a=function(){e.perfectScrollbar("destroy"),e.css({"overflow-y":"auto"})},r=function(){s(),e[0].obj=n};r()},i=function(t){var n,e,i=this,o=t,c=t.find(".gallery__top"),s=t.find(".gallery__thumbs"),a=$(window),r=!0,l=function(){n.destroy(!0,!0)},f=function(){c.length&&n.on("slideChangeStart",function(t){var n=t.activeIndex;$(e.slides).removeClass("is-selected"),$(e.slides).eq(n).addClass("is-selected"),e.slideTo(n,500,!1)}),a.on({load:function(){r=a.width()>=1024},resize:function(){o.hasClass("gallery_2")||(a.width()>=1024?(r&&(l(),setTimeout(function(){d()},10)),r=!1):(r||(l(),setTimeout(function(){d()},10)),r=!0))}})},u=function(){o.hasClass("gallery_2")?n=new Swiper(c,{nextButton:s.find(".swiper-button-next"),prevButton:s.find(".swiper-button-prev"),spaceBetween:10}):d(),e=new Swiper(s.find(".swiper-container"),{spaceBetween:37,freeMode:!0,centeredSlides:!1,slidesPerView:"auto",touchRatio:.2,onClick:function(t){var e=t.clickedIndex;t.activeIndex=e,t.updateClasses(),$(t.slides).removeClass("is-selected"),$(t.clickedSlide).addClass("is-selected"),n.slideTo(e,500,!1)},onInit:function(){var t,n=s.find(".swiper-slide").length;n<10&&(n="0"+n),s.find(".gallery__thumbs-total-count").text(n),s.find(".swiper-slide").each(function(){t=$(this).index()+1,t<10?t="0"+t:0==t[0]&&(t=t.slice(1)),$(this).find(".gallery__thumbs-current-num").text(t)})}})},d=function(){n=a.width()>=1024?new Swiper(c,{nextButton:s.find(".swiper-button-next"),prevButton:s.find(".swiper-button-prev"),spaceBetween:10,effect:"fade",fade:{crossFade:!0}}):new Swiper(c,{nextButton:s.find(".swiper-button-next"),prevButton:s.find(".swiper-button-prev"),spaceBetween:10})},p=function(){o[0].obj=i,u(),f()};p()},o=function(t){var n,e=this,i=t,o=($(window),$("body"),function(){i.on({click:function(){return a(),!1}})}),c=function(){o(),s(),i[0].obj=e},s=function(){n=i.parent().nextAll(),n.css({display:"none"})},a=function(){n.css({display:"block"}),i.css({display:"none"})};c()},c=function(t){var n,e=this,i=t,o=i.find(".swiper-container"),c=$(".awards__text-wrap div"),s=function(){n.on("slideChangeStart",function(){c.addClass("hidden"),c.html("")}),n.on("slideChangeEnd",function(t){var n=t.activeIndex,e=t.slides.eq(n).find(".awards__text");c.removeClass("hidden"),c.html(e.html())})},a=function(){n=new Swiper(o,{pagination:o.find(".swiper-pagination"),paginationClickable:!0,nextButton:o.find(".swiper-button-next"),prevButton:o.find(".swiper-button-prev"),loop:!0,onInit:function(t){var n=t.activeIndex,e=t.slides.eq(n).find(".awards__text");c.html(e.html())}})},r=function(){i[0].obj=e,a(),s()};r()},s=function(t){var n=this,e=t,i=$(window),o=!0,c=function(){setTimeout(function(){e.perfectScrollbar()},10)},s=function(){i.on({load:function(){o=i.width()>=1024,o&&c()},resize:function(){i.width()>=1024?(o&&c(),o=!1):(o||r(),o=!0)}})},a=function(){s(),e[0].obj=n},r=function(){e.perfectScrollbar("destroy"),e.css({"overflow-y":"auto"})};a()},a=function(t){var n=t,e=n.find(".about-portfolio__item"),o=$(".gallery-popup"),c=o.find(".gallery-popup__close"),s=o.find(".gallery-popup__wrap"),a=o.find(".gallery-popup__preloader"),r=$(window),l=$("html"),f=$("body"),u=!0,d=new XMLHttpRequest,p=function(){e.on({click:function(){var t=$(this);o.css({display:"block"}),r.width()<1024&&(l.css({"overflow-y":"hidden"}),f.css({"overflow-y":"hidden"})),_(t)}}),c.on({click:function(){return w(),!1}}),r.on({load:function(){u=r.width()>=1024},resize:function(){r.width()>=1024?(u&&h(),u=!1):(u||m(),u=!0)}})},h=function(){$(document).find(".gallery-popup__text").perfectScrollbar(),setTimeout(function(){$(document).find(".gallery-popup__text").perfectScrollbar("update")},200)},w=function(){r.width()<1024&&(l.css({"overflow-y":"auto"}),f.css({"overflow-y":"auto"})),o.css({display:"none"}),a.css({display:"block"}),s.html("")},v=function(){p()},_=function(t){d.abort(),d=$.ajax({url:$("body").data("action"),data:{action:"get_gallery",id:t.attr("data-id")},dataType:"html",type:"get",success:function(t){s.html(t),setTimeout(function(){$(t).hasClass("gallery")&&$.each($(".gallery"),function(){new i($(this))}),r.width()>=1024&&h(),a.css({display:"none"})},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},m=function(){$(document).find(".gallery-popup__text").perfectScrollbar("destroy"),$(document).find(".gallery-popup__text").css({"overflow-y":"auto"})};v()},r=function(t){var n=this,e=t,i=(e.find(".swiper-container"),function(){new Swiper(e,{nextButton:e.find(".swiper-button-next"),prevButton:e.find(".swiper-button-prev"),loop:!0,spaceBetween:30})}),o=function(){e[0].obj=n,i()};o()},l=function(t){var n=t,e=n.find(".ajax-block__btn"),i=$(".ajax-block-"+n.attr("data-block")),o=$(".popup__preloader"),c=$(window),s=!0,a=new XMLHttpRequest,r=function(){e.on({click:function(){var t=$(this);t.hasClass("ajax-block__btn_loaded")||(e.removeClass("ajax-block__btn_loaded"),t.addClass("ajax-block__btn_loaded"),o.removeClass("hide"),i.html(""),i.css({display:"block"}),i.nextAll().css({display:"none"}),d(t))}}),c.on({load:function(){s=c.width()>=1024},resize:function(){c.width()>=1024?(s&&f(i.children()),s=!1):(s||p(i.children()),s=!0)}})},f=function(t){t.perfectScrollbar(),setTimeout(function(){t.perfectScrollbar("update")},200)},u=function(){r()},d=function(t){a.abort(),a=$.ajax({url:$("body").attr("data-action"),data:{action:"get_areas",lvl:t.attr("data-lvl"),id:t.attr("data-id")},dataType:"html",type:"get",success:function(t){i.html(t),i.find(".ajax-block").length&&new l(i.find(".ajax-block")),i.find(".accordion").length&&$.each(i.find(".accordion_2 dl"),function(){new Accordion($(this))}),setTimeout(function(){c.width()>=1024&&f(i.children()),o.addClass("hide")},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},p=function(t){t.perfectScrollbar("destroy"),t.css({"overflow-y":"auto"})};u()},f=function(t){var n,e=this,i=t,o=i.find(".contact__sign-area"),c=i.find(".contact__sign-refresh"),s=$(".canvas_check"),a=$(window),r=function(){o.signature("destroy")},l=function(){c.on({click:function(){return o.signature("clear"),!1}}),a.on({resize:function(){r(),u()}}),s.on({click:function(){o.signature("isEmpty")?(o.addClass("contact__sign-area-red"),$(".sign_val").val("")):(n=o.signature("toSVG"),o.removeClass("contact__sign-area-red"),$(".sign_val").val(n))}})},f=function(){i[0].obj=e,l(),u()},u=function(){o.signature({thickness:1,color:"#ffffff"})};f()},u=function(t){var n,e,i=this,o=t,c=$(window),s=$(".careers_themes"),a=o.find(".apply"),r="",l=function(){$(".tabs>dl>dt:not(.active)").trigger("click")},f=function(){o.find("dl>dt").each(function(){var t=$(this),e=t.text();n.find("select").append('<option value="'+e+'">'+e+"</option>")}),e.text(n.find("select option:selected").text())},u=function(){c.on({load:function(){n=$(".vacancy"),e=n.find(".websters-select__item"),f(),n.find("select").on("change",function(){p(),h()})}}),a.on({click:function(){var t=$(this),i=t.data("value"),o=t.data("text2"),c=n.find("option").eq(i),s=c.text();return p(),t.hasClass("active")||(t.addClass("active"),t.find("span").text(o),r=i),h(),n.find("option").prop("selected",!1),c.prop("selected",!0),e.text(s),l(),!1}})},d=function(){o[0].obj=i,u()},p=function(){a.each(function(){var t=$(this),n=t.data("text1");t.removeClass("active"),t.find("span").text(n)}),r=""},h=function(){s.val(r)};d()},d=function(t){var n=this,e=t,i=$(".nice-scroll"),o=$(window),c=function(){e.datepicker("hide"),e.blur()},s=function(){i.on({scroll:function(){c()}}),o.on({resize:function(){c()}})},a=function(){e[0].obj=n,r(),s()},r=function(){e.datepicker()};a()},p=function(t){var n=this,e=t,i=e.find("label"),o=function(){i.find("input:checkbox").off("click",function(){var t=$(this).attr("name");$(this).closest("form").find('input:checkbox[name="'+t+'"]').not(this).prop("checked",!1)}),i.click(function(t){return $(this).hasClass("active")?($(this).removeClass("active"),$(this).find("input").attr("checked",!1)):($(this).addClass("active"),$(this).find("input").attr("checked",!0)),t.stopPropagation(),t.cancelBubble=!0,!1})},c=function(){e[0].obj=n,o()};c()},h=function(t){var n=this,e=t,i=e.find("input[type=file]"),o=e.find("input[type=text]"),c=function(){i.on({change:function(){o.val($(this).val())}})},s=function(){e[0].obj=n,c()};s()},w=function(t){var n=this,e=t,i=$(".comments-customer"),o=$(".site__content__inner"),c=$(".site__form"),s=$("html, body"),a=$(window),r=function(){e.parents(".resources__item").length||e.on({click:function(){if(a.width()<1024){var t;t=i.length?i.offset().top:c.offset().top,s.stop(!0,!1),s.animate({scrollTop:t},300)}else{var t,n;i.length?(t=i.position().top,n=o.scrollTop()):(t=c.position().top,n=o.scrollTop()),o.stop(!0,!1),o.animate({scrollTop:t+n},300)}return!1}})},l=function(){e[0].obj=n,r(),f()},f=function(){if(!e.parents(".resources__item").length&&e.parents(".site__content__wrap").hasClass("comments_scroll"))if(a.width()<1024){var t;t=i.offset().top,s.scrollTop(t)}else{var t,n;t=i.position().top,n=o.scrollTop(),o.scrollTop(t+n)}};l()},v=function(t){var n=t,e=n.find(".resources__items"),i=$(".resources__preloader"),o=n.parents(".nice-scroll"),c=new XMLHttpRequest,s=function(){$(document).on("click",".resources__links-item_tags>a",function(){var t=$(this);return e.html(""),i.addClass("visible"),r(t),!1})},a=function(){s()},r=function(t){c.abort(),c=$.ajax({url:$("body").attr("data-action"),data:{action:"get_resources",tagId:t.attr("data-id")},dataType:"html",type:"get",success:function(t){e.html(t),setTimeout(function(){i.removeClass("visible"),l()},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},l=function(){o.scrollTop=0,o.perfectScrollbar("update")};a()}}();var Accordion=function(t){var n=this,e=t,i=e.find(">dt"),o=e.find(">dd"),c=$(window),s=$(".site__content__inner"),a=$("html, body"),r=0,l=0,f=!0,u=function(t,n){i.removeClass("similar"),t.removeClass("active"),t.css({"margin-bottom":""}),n.removeClass("visible")},d=function(){c.on({resize:function(){i.filter(".active").length&&v(i.filter(".active"),i.filter(".active").next())}}),i.on({click:function(){var t=$(this),n=t.next();return t.hasClass("active")?u(t,n):f&&p(t,n),!1}})},p=function(t,n){f=!1,i.removeClass("active"),i.css({"margin-bottom":""}),o.removeClass("visible similar"),t.addClass("active"),v(t,n),setTimeout(function(){w(t)},300),n.addClass("visible"),setTimeout(function(){f=!0},300)},h=function(){e[0].obj=n,d(),_()},w=function(t){c.width()<1024?(l=t.offset().top,a.stop(!0,!1),a.animate({scrollTop:l},300)):(l=t.position().top+e.position().top+s.scrollTop(),t.hasClass("similar")||(s.stop(!0,!1),s.animate({scrollTop:l},300)))},v=function(t,n){t.css({"margin-bottom":n.innerHeight()-1}),setTimeout(function(){var e=t.position().top,o=t.innerHeight();r=e+o,n.css({top:r}),i.each(function(){$(this).position().top==e?$(this).addClass("similar"):$(this).removeClass("similar")})},310)},_=function(){e.parent().hasClass("accordion_2")&&(2==i.length?i.addClass("half"):1==i.length&&i.addClass("full"))};h()};
!function(){$(function(){$("select").each(function(){new e({obj:$(this),optionType:1,showType:2})})});var e=function(e){var t,n,i=this,o=e.obj,s=e.optionType||0,c=e.showType||0,a=e.visible||5,l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=$('<span class="websters-select__item"></span>'),d=$('<div class="websters-select"></div>'),r=$(window),f=$("body"),u=!1,h=function(){var e="";o.css({opacity:0}),o.wrap(d),d=o.parent(),d.append('<div class="websters-select__arrow"></div>'),o.before(p),o.find("option").each(function(){var t=$(this);"selected"==t.attr("selected")&&(e=t.text())}),""==e&&(e=o.find("option").eq(0).text()),p.text(e)},v=function(){u=!1,c?1==c?t.stop(!0,!1).slideUp(300,function(){t.remove()}):2==c&&t.stop(!0,!1).fadeOut(300,function(){t.remove()}):t.css({display:"none"}),d.removeClass("websters-select_opened")},b=function(){o[0].obj=i,h(),g(),w()},w=function(){o.on("change",function(){p.text($(this).find("option:selected").text())}),1!=s||l||(d.on({click:function(e){e.stopPropagation(),u?v():m()}}),r.on({click:function(){u&&v()}})),$(".nice-scroll").on({scroll:function(){u&&v()}})},g=function(){!s||l?y():1==s&&_()},_=function(){d.addClass("websters-select_custom")},y=function(){d.addClass("websters-select_mobile")},m=function(){var e=$("select"),i=$("<ul></ul>"),s=(r.scrollTop(),d.offset()),l=0,p=o.find("option:selected").index(),h=Math.round(1e3*Math.random());e.each(function(){this!==o[0]&&this.obj.checkOpened()&&this.obj.close()}),u&&t.remove(),u=!0,t=$('<div class="websters-select__popup" id="websters-select__popup'+h+'"></div>'),o.find("option").each(function(e){var t=$(this);e==p?i.append('<li class="active">'+t.text()+"</li>"):i.append("<li>"+t.text()+"</li>")}),t.append(i),f.append(t),d.addClass("websters-select_opened"),t.css({width:d.outerWidth(),left:s.left,top:s.top+d.outerHeight()}),l=t.outerHeight(),l>t.find("li").eq(0).outerHeight()*a&&(t.height(t.find("li").eq(0).outerHeight()*a),n=t.perfectScrollbar()),1==c?(t.css({display:"none"}),t.slideDown(300)):2==c&&(t.css({opacity:.1}),t.animate({opacity:1},300)),t.find("li").on({click:function(e){var t=$(this).index();e.stopPropagation(),o.val(o.find("option").eq(t).attr("value")),o.trigger("change"),v()}})};i.checkOpened=function(){return u},i.close=function(){v()},b()}}();
!function(){$(function(){$(".popup").each(function(){new Popup($(this))})})}();var Popup=function(n){var o=this,p=$(".popup__open"),i=n,t=i.find(".popup__close, .popup__cancel"),e=i.find(".popup__wrap"),s=i.find(".popup__content"),c=$("html, body"),d=$(".site__content"),u=$(window),a=!0,f=setTimeout(function(){},1),l=function(){d.css({"z-index":4})},_=function(){d.css({"z-index":2})},r=function(){i.css({overflowY:"hidden"}),i.removeClass("popup_opened"),i.addClass("popup_hide"),f=setTimeout(function(){i.css({overflowY:"auto"}),i.removeClass("popup_hide")},300),u.width()<1024&&(c.css({overflowY:"auto",paddingRight:0}),_()),s.css({display:"none"}),i.find(".popup__addresses").length&&(i.find(".popup__addresses").children().css({display:"none"}),i.find(".popup__addresses").children().html(""),p.removeClass("ajax-block__btn_loaded"))},h=function(){i[0].obj=o,w()},w=function(){u.on({load:function(){a=u.width()>=1024},resize:function(){u.width()>=1024?a=!1:(a||r(),a=!0)}}),p.on({click:function(){return v($(this).attr("data-popup")),!1}}),e.on({click:function(n){n.stopPropagation()}}),i.on({click:function(){return r(),!1}}),t.on({click:function(){return r(),!1}})},v=function(n){m(n),i.addClass("popup_opened"),u.width()<1024&&(c.css({overflowY:"hidden"}),l())},m=function(n){var o=s.filter(".popup__"+n);o.css({display:"block"})};h()};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LndlYnN0ZXJzLXNlbGVjdC5qcyIsImpxdWVyeS5wb3B1cC5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsIk5pY2VTY3JvbGwiLCJ0aGlzIiwiRnVsbEhlaWdodFNpdGUiLCJNZW51IiwiR2FsbGVyeSIsIlJlYWRNb3JlIiwiQWNjb3JkaW9uIiwiQXdhcmRzR2FsbGVyeSIsIlNpdGVDb250ZW50UG9wdXBOaWNlU2Nyb2xsIiwiQWJvdXRQb3J0Zm9saW9Qb3B1cCIsIlNlcnZpY2VzQXJlYUdhbGxlcnkiLCJBamF4UmVxdWVzdFBvcHVwIiwiQ29udGFjdFNpZ24iLCJDYXJlZXJzQXBwbHkiLCJEYXRlcGlja2VyIiwiTmljZUNoZWNrYm94IiwiRmlsZUlucHV0IiwiQ29tbWVudEFuY2hvciIsIlJlc291cmNlc0FqYXgiLCJvYmoiLCJfc2VsZiIsIl9vYmoiLCJfd2luZG93Iiwid2luZG93IiwiX29uRXZlbnRzIiwib24iLCJyZXNpemUiLCJ3aWR0aCIsIl9zZXRIZWlnaHQiLCJfaW5pdCIsImhlaWdodCIsImNzcyIsIm1pbi1oZWlnaHQiLCJfbWVudUJ0biIsImZpbmQiLCJfbWVudUl0ZW1zIiwiX2h0bWwiLCJfYm9keSIsIl9jbG9zZU1lbnUiLCJyZW1vdmVDbGFzcyIsIm92ZXJmbG93LXkiLCJhdHRyIiwiaGFzQ2xhc3MiLCJjbGljayIsIl9vcGVuTWVudSIsImFkZENsYXNzIiwib2Zmc2V0IiwidG9wIiwiX21vYmlsZVNjcmVlbiIsIl9hZGRTY3JvbGwiLCJwZXJmZWN0U2Nyb2xsYmFyIiwibG9hZCIsIl9yZW1vdmVTY3JvbGwiLCJnYWxsZXJ5VG9wIiwiZ2FsbGVyeVRodW1icyIsIl9nYWxsZXJ5VG9wIiwiX2dhbGxlcnlUaHVtYnMiLCJfZGVzdHJveVRlc3RpbW9uaWFsc1N3aXBlciIsImRlc3Ryb3kiLCJsZW5ndGgiLCJzd2lwZXIiLCJhY3RpdmVJbmRleCIsInNsaWRlcyIsImVxIiwic2xpZGVUbyIsInNldFRpbWVvdXQiLCJfaW5pdFRlc3RpbW9uaWFsc1N3aXBlciIsIl9pbml0U3dpcGVyIiwiU3dpcGVyIiwibmV4dEJ1dHRvbiIsInByZXZCdXR0b24iLCJzcGFjZUJldHdlZW4iLCJmcmVlTW9kZSIsImNlbnRlcmVkU2xpZGVzIiwic2xpZGVzUGVyVmlldyIsInRvdWNoUmF0aW8iLCJvbkNsaWNrIiwiY2xpY2tlZCIsImNsaWNrZWRJbmRleCIsInVwZGF0ZUNsYXNzZXMiLCJjbGlja2VkU2xpZGUiLCJvbkluaXQiLCJjdXJyZW50TnVtIiwidG90YWxDb3VudCIsInRleHQiLCJpbmRleCIsInNsaWNlIiwiZWZmZWN0IiwiZmFkZSIsImNyb3NzRmFkZSIsIl9pdGVtcyIsIl9kaXNwbGF5SXRlbXMiLCJfZGlzYXBwZWFySXRlbXMiLCJwYXJlbnQiLCJuZXh0QWxsIiwiZGlzcGxheSIsIl9zd2lwZXIiLCJfYXdhcmRzR2FsbGVyeSIsIl90ZXh0V3JhcCIsImh0bWwiLCJhY3RpdmVTbGlkZVRleHQiLCJwYWdpbmF0aW9uIiwicGFnaW5hdGlvbkNsaWNrYWJsZSIsImxvb3AiLCJfcG9wdXBHYWxsZXJ5IiwiX3BvcHVwR2FsbGVyeUNsb3NlIiwiX3BvcHVwR2FsbGVyeVdyYXAiLCJfcG9wdXBHYWxsZXJ5TG9hZCIsIl9yZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJfYWRkRXZlbnRzIiwiY3VySXRlbSIsIl9yZXF1ZXN0Q29udGVudCIsIl9jbG9zZVBvcHVwIiwiZG9jdW1lbnQiLCJlbGVtIiwiYWJvcnQiLCJhamF4IiwidXJsIiwiZGF0YSIsImFjdGlvbiIsImlkIiwiZGF0YVR5cGUiLCJ0eXBlIiwic3VjY2VzcyIsIm0iLCJlcnJvciIsInN0YXR1c1RleHQiLCJhbGVydCIsIl9sb2FkQmxvY2siLCJfcG9wdXBMb2FkIiwiY2hpbGRyZW4iLCJsdmwiLCJfcmVzdWx0IiwiX2FyZWEiLCJfY2xlYXIiLCJfc2VuZCIsIl9kZXN0cm95U2lnbmF0dXJlIiwic2lnbmF0dXJlIiwiX2luaXRTaWduYXR1cmUiLCJ2YWwiLCJ0aGlja25lc3MiLCJjb2xvciIsIl9zZWxlY3RWYWNhbmN5IiwiX3NlbGVjdFZhY2FuY3lTcGFuIiwiX2hpZGRlbklucHV0IiwiX2FwcGx5QnRuIiwiX3N0ciIsIl9jaGFuZ2VUYWIiLCJ0cmlnZ2VyIiwiX2ZpbGxTZWxlY3QiLCJjdXJJdGVtVGV4dCIsImFwcGVuZCIsIl91bmNoZWNrQWxsQnRuIiwiX3dyaXRlSW5JbnB1dCIsImN1ckVsZW0iLCJkYXRhVmFsdWUiLCJkYXRhVGV4dDIiLCJyaWdodE9wdGlvbiIsIm9wdGlvblRleHQiLCJwcm9wIiwiZGF0YVRleHQxIiwiX3Njcm9sbEJsb2NrIiwiX2hpZGVEYXRlUGlja2VyIiwiZGF0ZXBpY2tlciIsImJsdXIiLCJzY3JvbGwiLCJfaW5pdERhdGVQaWNrZXIiLCJfbGFiZWwiLCJvZmYiLCJuYW1lIiwiY2xvc2VzdCIsIm5vdCIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiY2FuY2VsQnViYmxlIiwiX2lucHV0RmlsZSIsIl9pbnB1dFRleHQiLCJjaGFuZ2UiLCJfY29tbWVudHNDdXN0b21lciIsIl9jb250ZW50IiwiX2NvbW1lbnRzRm9ybSIsIl9kb20iLCJwYXJlbnRzIiwicG9zQ29tbWVudFRvcCIsInN0b3AiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiY29udGVudFNjcm9sbFRvcCIsInBvc2l0aW9uIiwiX3Njcm9sbFRvQ29tbWVudHMiLCJfd3JhcEl0ZW1zIiwiX2xvYWRlciIsIl9wYXJlbnRPYmoiLCJ0YWdJZCIsIl91cGRhdGVTY3JvbGwiLCJfYWNjb3JkaW9uQ2FwdGlvbiIsIl9hY2NvcmRpb25Db250ZW50IiwiX3BvcyIsIl9wb3NUb3AiLCJfY2xpY2tGbGFnIiwiX2Nsb3NlQWNjb3JkaW9uIiwibmV4dEVsZW0iLCJtYXJnaW4tYm90dG9tIiwiZmlsdGVyIiwiX3NldFBvc0l0ZW1zIiwibmV4dCIsIl9vcGVuQWNjb3JkaW9uIiwiX3Njcm9sbFRvIiwiX3NldFdpZHRoIiwiY2FwdGlvbiIsImlubmVySGVpZ2h0IiwiZWxlbVBvcyIsImVsZW1IZWlnaHQiLCJXZWJzdGVyc1NlbGVjdCIsIm9wdGlvblR5cGUiLCJzaG93VHlwZSIsInBhcmFtcyIsIl9wb3B1cCIsIl9zY3JvbGwiLCJfb3B0aW9uVHlwZSIsIl9zaG93VHlwZSIsIl92aXNpYmxlIiwidmlzaWJsZSIsIl9kZXZpY2UiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiX3RleHQiLCJfd3JhcCIsIl9vcGVuZWQiLCJfYWRkV3JhcCIsImN1clRleHQiLCJvcGFjaXR5Iiwid3JhcCIsImJlZm9yZSIsIl9oaWRlUG9wdXAiLCJzbGlkZVVwIiwicmVtb3ZlIiwiZmFkZU91dCIsIl9jb25zdHJ1Y3RvciIsIl9zZWxlY3RWaWV3VHlwZSIsImUiLCJfc2hvd1BvcHVwIiwiX3NldE1vYmlsZVZpZXciLCJfc2V0Q3VzdG9tMSIsInNlbGVjdHMiLCJsaXN0IiwibWF4SGVpZ2h0IiwiY3VySW5kZXgiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJjaGVja09wZW5lZCIsImNsb3NlIiwiaSIsIm91dGVyV2lkdGgiLCJsZWZ0Iiwib3V0ZXJIZWlnaHQiLCJzbGlkZURvd24iLCJQb3B1cCIsIl9idG5TaG93IiwiX2J0bkNsb3NlIiwiX2NvbnRlbnRzIiwiX3RpbWVyIiwiX2NoYW5nZUNvbnRlbnRaaW5kZXgiLCJ6LWluZGV4IiwiX3Jlc2V0Q29udGVudFppbmRleCIsIl9oaWRlIiwib3ZlcmZsb3dZIiwicGFkZGluZ1JpZ2h0IiwiX3Nob3ciLCJjbGFzc05hbWUiLCJfc2V0UG9wdXBDb250ZW50IiwiY3VyQ29udGVudCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FFSUEsRUFBRyxXQUNDLFlBRUFBLEdBQUVDLEtBQU1ELEVBQUUsZ0JBQWlCLFdBRXZCLEdBQUlFLEdBQVlGLEVBQUVHLFNBSXRCSCxFQUFFQyxLQUFNRCxFQUFFLFNBQVUsV0FFaEIsR0FBSUksR0FBZ0JKLEVBQUVHLFNBVTFCSCxFQUFFQyxLQUFNRCxFQUFFLGlCQUFrQixXQUV4QixHQUFJSyxHQUFNTCxFQUFFRyxTQUloQkgsRUFB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R0gsTUFGQW9PLEdBQU9qUixFQUFHRyxNQUFPd0MsS0FBTSxnQkFFaEIsS0FJZjRMLEVBQU01TSxJQUNGa0IsTUFBTyxTQUFVdU0sR0FDYkEsRUFBRXBFLHFCQUdWekosRUFBS0ksSUFDRGtCLE1BQU8sV0FFSCxNQURBaU8sTUFDTyxLQUdmTixFQUFVN08sSUFDTmtCLE1BQU8sV0FFSCxNQURBaU8sTUFDTyxNQUluQkcsRUFBUSxTQUFVQyxHQUNkQyxFQUFrQkQsR0FFbEIzUCxFQUFLd0IsU0FBVSxnQkFFWHZCLEVBQVFLLFFBQVUsT0FFbEIySixFQUFLdkosS0FDRDhPLFVBQVcsV0FHZkosTUFJUlEsRUFBbUIsU0FBVUQsR0FDekIsR0FBSUUsR0FBYVgsRUFBVTNELE9BQVEsV0FBYW9FLEVBR2hERSxHQUFXblAsS0FBT2dFLFFBQVMsVUFRbkNsRSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uKCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcubmljZS1zY3JvbGwnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgTmljZVNjcm9sbCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5zaXRlJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEZ1bGxIZWlnaHRTaXRlKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgIC8vJC5lYWNoKCAkKCcuc2l0ZV9fY29udGVudF9fd3JhcCcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIG5ldyBGdWxsSGVpZ2h0U2l0ZUlubmVyKCAkKHRoaXMpICk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnNpdGVfX2hlYWRlcicpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBNZW51KCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLm1lbnUnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgTmljZVNjcm9sbCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAvLyQuZWFjaCggJCgnYm9keScpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgIG5ldyBab29tU2l0ZSggJCh0aGlzKSApO1xuICAgICAgICAvL1xuICAgICAgICAvL30gKTtcblxuICAgICAgICAkLmVhY2goICQoICcuZ2FsbGVyeScgKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmV3IEdhbGxlcnkoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCggJy5zaXRlX19yZWFkLW1vcmUnICksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5ldyBSZWFkTW9yZSggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCAnLmFjY29yZGlvbiBkbCcgKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmV3IEFjY29yZGlvbiggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCAnLmF3YXJkcycgKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmV3IEF3YXJkc0dhbGxlcnkoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnBvcHVwLWluZm8nKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgU2l0ZUNvbnRlbnRQb3B1cE5pY2VTY3JvbGwoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuYWJvdXQtcG9ydGZvbGlvJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEFib3V0UG9ydGZvbGlvUG9wdXAoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCAnLnNlcnZpY2VzLWFyZWFzX19nYWxsZXJ5JyApLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBuZXcgU2VydmljZXNBcmVhR2FsbGVyeSggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuYWpheC1ibG9jaycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBBamF4UmVxdWVzdFBvcHVwKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLmNvbnRhY3RfX3NpZ24nKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgQ29udGFjdFNpZ24oICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuYWNjb3JkaW9uX2NhcmVlcnMnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgQ2FyZWVyc0FwcGx5KCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLmRhdGVwaWNrZXInKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgRGF0ZXBpY2tlciggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5uaWNlLWNoZWNrYm94JyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IE5pY2VDaGVja2JveCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5jb250YWN0X19maWxlJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEZpbGVJbnB1dCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5yZXNvdXJjZXNfX2xpbmtzLWl0ZW1fY29tbWVudHMnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgQ29tbWVudEFuY2hvciggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5yZXNvdXJjZXNfX2FqYXgtd3JhcCcpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBSZXNvdXJjZXNBamF4KCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIEZ1bGxIZWlnaHRTaXRlID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cuaGVpZ2h0KCkgPj0gNTAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogJzEwMCUnXG5cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWluLWhlaWdodCc6ICc1MDBweCdcblxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIEZ1bGxIZWlnaHRTaXRlSW5uZXIgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX3RpdGxlID0gJCgnLnNpdGVfX2NvbnRlbnQgPiAuc2l0ZV9fdGl0bGUnKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRQb3NUb3AoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXNldFBvc1RvcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICBfc2V0UG9zVG9wKCk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRQb3NUb3AgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9zVG9wID0gX3RpdGxlLm9mZnNldCgpLnRvcCArIF90aXRsZS5vdXRlckhlaWdodCggdHJ1ZSApO1xuXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcblxuICAgICAgICAgICAgICAgICAgICAndG9wJzogcG9zVG9wXG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVzZXRQb3NUb3AgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuXG4gICAgICAgICAgICAgICAgICAgICd0b3AnOiAnYXV0bydcblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cpLFxuICAgICAgICAgICAgX21lbnVCdG4gPSBfb2JqLmZpbmQoJy5zaXRlX19oZWFkZXJfX2J0bicpLFxuICAgICAgICAgICAgX21lbnVJdGVtcyA9IF9vYmouZmluZCgnLnNpdGVfX2hlYWRlcl9faXRlbXMnKSxcbiAgICAgICAgICAgIF9odG1sID0gJCgnaHRtbCcpLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCdib2R5Jyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyICBfY2xvc2VNZW51ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX21lbnVJdGVtcy5hdHRyKCAnc3R5bGUnLCAnJyApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX29iai5oYXNDbGFzcyggJ29wZW5lZCcgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9tZW51QnRuLm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouaGFzQ2xhc3MoICdvcGVuZWQnICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VNZW51KCk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdvcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2JvZHkuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX21lbnVJdGVtcy5oZWlnaHQoIF93aW5kb3cuaGVpZ2h0KCkgLSBfbWVudUl0ZW1zLm9mZnNldCgpLnRvcCApO1xuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBOaWNlU2Nyb2xsID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyksXG4gICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gdHJ1ZTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZFNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vYmoucGVyZmVjdFNjcm9sbGJhcigpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IF93aW5kb3cud2lkdGgoKSA+PSAxMDI0O1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFNjcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnBlcmZlY3RTY3JvbGxiYXIoJ3VwZGF0ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZW1vdmVTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZW1vdmVTY3JvbGwgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9vYmoucGVyZmVjdFNjcm9sbGJhcignZGVzdHJveScpO1xuICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2F1dG8nXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFpvb21TaXRlID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcblxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldFNpemUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9ib2R5LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogJzc1cHgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICBfc2V0U2l6ZSgpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRTaXplID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIG5ld1NpemU7XG5cbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy5oZWlnaHQoKSA+IDUwMCApIHtcblxuICAgICAgICAgICAgICAgICAgICBuZXdTaXplID0gKCAxMDAgKiAoIHdpbmRvdy5pbm5lckhlaWdodCAvIDkwMCApICkgKyAncHgnO1xuXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld1NpemUgPSAoIDEwMCAqICggNTAwIC8gOTAwICkgKSArICdweCc7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IG5ld1NpemVcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgR2FsbGVyeSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9nYWxsZXJ5VG9wID0gb2JqLmZpbmQoJy5nYWxsZXJ5X190b3AnKSxcbiAgICAgICAgICAgIF9nYWxsZXJ5VGh1bWJzID0gb2JqLmZpbmQoJy5nYWxsZXJ5X190aHVtYnMnKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBnYWxsZXJ5VG9wLFxuICAgICAgICAgICAgZ2FsbGVyeVRodW1icyxcbiAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfZGVzdHJveVRlc3RpbW9uaWFsc1N3aXBlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgZ2FsbGVyeVRvcC5kZXN0cm95KCB0cnVlLCB0cnVlICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggX2dhbGxlcnlUb3AubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGdhbGxlcnlUb3Aub24oICdzbGlkZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKCBzd2lwZXIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoIGdhbGxlcnlUaHVtYnMuc2xpZGVzICkucmVtb3ZlQ2xhc3MoICdpcy1zZWxlY3RlZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoIGdhbGxlcnlUaHVtYnMuc2xpZGVzICkuZXEoIGFjdGl2ZUluZGV4ICkuYWRkQ2xhc3MoICdpcy1zZWxlY3RlZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbGxlcnlUaHVtYnMuc2xpZGVUbyggYWN0aXZlSW5kZXgsIDUwMCwgZmFsc2UgKTtcblxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gX3dpbmRvdy53aWR0aCgpID49IDEwMjQ7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggISggX29iai5oYXNDbGFzcyggJ2dhbGxlcnlfMicgKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9tb2JpbGVTY3JlZW4gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kZXN0cm95VGVzdGltb25pYWxzU3dpcGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRUZXN0aW1vbmlhbHNTd2lwZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAgKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rlc3Ryb3lUZXN0aW1vbmlhbHNTd2lwZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5pdFRlc3RpbW9uaWFsc1N3aXBlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gdHJ1ZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0U3dpcGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggISggX29iai5oYXNDbGFzcyggJ2dhbGxlcnlfMicgKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9pbml0VGVzdGltb25pYWxzU3dpcGVyKCk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGdhbGxlcnlUb3AgPSBuZXcgU3dpcGVyKCBfZ2FsbGVyeVRvcCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX2dhbGxlcnlUaHVtYnMuZmluZCggJy5zd2lwZXItYnV0dG9uLW5leHQnICksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiAgX2dhbGxlcnlUaHVtYnMuZmluZCggJy5zd2lwZXItYnV0dG9uLXByZXYnICksXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDEwXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdhbGxlcnlUaHVtYnMgPSBuZXcgU3dpcGVyKCBfZ2FsbGVyeVRodW1icy5maW5kKCAnLnN3aXBlci1jb250YWluZXInICksIHtcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAzNyxcbiAgICAgICAgICAgICAgICAgICAgZnJlZU1vZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICB0b3VjaFJhdGlvOiAwLjIsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICggc3dpcGVyICl7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpY2tlZCA9IHN3aXBlci5jbGlja2VkSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2lwZXIuYWN0aXZlSW5kZXggPSBjbGlja2VkO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpcGVyLnVwZGF0ZUNsYXNzZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoIHN3aXBlci5zbGlkZXMgKS5yZW1vdmVDbGFzcyggJ2lzLXNlbGVjdGVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCggc3dpcGVyLmNsaWNrZWRTbGlkZSApLmFkZENsYXNzKCAnaXMtc2VsZWN0ZWQnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnYWxsZXJ5VG9wLnNsaWRlVG8oIGNsaWNrZWQsIDUwMCwgZmFsc2UgKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkluaXQ6IGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsQ291bnQgPSBfZ2FsbGVyeVRodW1icy5maW5kKCAnLnN3aXBlci1zbGlkZScpLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TnVtO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggdG90YWxDb3VudCA8IDEwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQ291bnQgPSAnMCcgKyB0b3RhbENvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2FsbGVyeVRodW1icy5maW5kKCAnLmdhbGxlcnlfX3RodW1icy10b3RhbC1jb3VudCcgKS50ZXh0KCB0b3RhbENvdW50ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9nYWxsZXJ5VGh1bWJzLmZpbmQoICcuc3dpcGVyLXNsaWRlJykuZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TnVtID0gJCggdGhpcyApLmluZGV4KCkgKyAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGN1cnJlbnROdW0gPCAxMCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE51bSA9ICcwJyArIGN1cnJlbnROdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlICBpZiAoIGN1cnJlbnROdW1bMF0gPT0gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE51bSA9IGN1cnJlbnROdW0uc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCggdGhpcyApLmZpbmQoICcuZ2FsbGVyeV9fdGh1bWJzLWN1cnJlbnQtbnVtJyApLnRleHQoIGN1cnJlbnROdW0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0VGVzdGltb25pYWxzU3dpcGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49MTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICBnYWxsZXJ5VG9wID0gbmV3IFN3aXBlciggX2dhbGxlcnlUb3AsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9nYWxsZXJ5VGh1bWJzLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyApLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogIF9nYWxsZXJ5VGh1bWJzLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1wcmV2JyApLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdDogJ2ZhZGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFkZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzRmFkZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGdhbGxlcnlUb3AgPSBuZXcgU3dpcGVyKCBfZ2FsbGVyeVRvcCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX2dhbGxlcnlUaHVtYnMuZmluZCggJy5zd2lwZXItYnV0dG9uLW5leHQnICksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiAgX2dhbGxlcnlUaHVtYnMuZmluZCggJy5zd2lwZXItYnV0dG9uLXByZXYnICksXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDEwXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFJlYWRNb3JlID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyksXG4gICAgICAgICAgICBfYm9keSA9ICQoICdib2R5JyksXG4gICAgICAgICAgICBfaXRlbXM7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vYmoub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlzcGxheUl0ZW1zKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9kaXNhcHBlYXJJdGVtcygpO1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZGlzYXBwZWFySXRlbXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfaXRlbXMgPSBfb2JqLnBhcmVudCgpLm5leHRBbGwoKTtcblxuICAgICAgICAgICAgICAgIF9pdGVtcy5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Rpc3BsYXlJdGVtcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9pdGVtcy5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBBd2FyZHNHYWxsZXJ5ID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2F3YXJkc0dhbGxlcnkgPSBfb2JqLmZpbmQoJy5zd2lwZXItY29udGFpbmVyJyksXG4gICAgICAgICAgICBfdGV4dFdyYXAgPSAkKCcuYXdhcmRzX190ZXh0LXdyYXAgZGl2JyksXG4gICAgICAgICAgICBfc3dpcGVyO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9zd2lwZXIub24oICdzbGlkZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIF90ZXh0V3JhcC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIF90ZXh0V3JhcC5odG1sKCcnKTtcblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9zd2lwZXIub24oICdzbGlkZUNoYW5nZUVuZCcsIGZ1bmN0aW9uICggc3dpcGVyICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlVGV4dCA9IHN3aXBlci5zbGlkZXMuZXEoIGFjdGl2ZUluZGV4ICkuZmluZCggJy5hd2FyZHNfX3RleHQnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgX3RleHRXcmFwLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgX3RleHRXcmFwLmh0bWwoIGFjdGl2ZVNsaWRlVGV4dC5odG1sKCkgKTtcblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0U3dpcGVyID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIF9zd2lwZXIgPSBuZXcgU3dpcGVyKCBfYXdhcmRzR2FsbGVyeSwge1xuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBfYXdhcmRzR2FsbGVyeS5maW5kKCAnLnN3aXBlci1wYWdpbmF0aW9uJyApLFxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uQ2xpY2thYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfYXdhcmRzR2FsbGVyeS5maW5kKCAnLnN3aXBlci1idXR0b24tbmV4dCcgKSxcbiAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogX2F3YXJkc0dhbGxlcnkuZmluZCggJy5zd2lwZXItYnV0dG9uLXByZXYnICksXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG9uSW5pdDogZnVuY3Rpb24oIHN3aXBlciApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlVGV4dCA9IHN3aXBlci5zbGlkZXMuZXEoIGFjdGl2ZUluZGV4ICkuZmluZCggJy5hd2FyZHNfX3RleHQnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF90ZXh0V3JhcC5odG1sKCBhY3RpdmVTbGlkZVRleHQuaHRtbCgpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFNpdGVDb250ZW50UG9wdXBOaWNlU2Nyb2xsID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyksXG4gICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gdHJ1ZTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZFNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoucGVyZmVjdFNjcm9sbGJhcigpO1xuXG4gICAgICAgICAgICAgICAgfSwgMTAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSBfd2luZG93LndpZHRoKCkgPj0gMTAyNDtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIV9tb2JpbGVTY3JlZW4gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlbW92ZVNjcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IHRydWVcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlbW92ZVNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5wZXJmZWN0U2Nyb2xsYmFyKCdkZXN0cm95Jyk7XG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIEFib3V0UG9ydGZvbGlvUG9wdXAgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgdmFyIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaXRlbXMgPSBfb2JqLmZpbmQoJy5hYm91dC1wb3J0Zm9saW9fX2l0ZW0nKSxcbiAgICAgICAgICAgIF9wb3B1cEdhbGxlcnkgPSAkKCcuZ2FsbGVyeS1wb3B1cCcpLFxuICAgICAgICAgICAgX3BvcHVwR2FsbGVyeUNsb3NlID0gX3BvcHVwR2FsbGVyeS5maW5kKCcuZ2FsbGVyeS1wb3B1cF9fY2xvc2UnKSxcbiAgICAgICAgICAgIF9wb3B1cEdhbGxlcnlXcmFwID0gX3BvcHVwR2FsbGVyeS5maW5kKCcuZ2FsbGVyeS1wb3B1cF9fd3JhcCcpLFxuICAgICAgICAgICAgX3BvcHVwR2FsbGVyeUxvYWQgPSBfcG9wdXBHYWxsZXJ5LmZpbmQoJy5nYWxsZXJ5LXBvcHVwX19wcmVsb2FkZXInKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfaHRtbCA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgIF9ib2R5ID0gJCgnYm9keScpLFxuICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IHRydWUsXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2l0ZW1zLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQoIHRoaXMgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3BvcHVwR2FsbGVyeS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2JvZHkuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCBjdXJJdGVtICk7XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3BvcHVwR2FsbGVyeUNsb3NlLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlUG9wdXAoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gX3dpbmRvdy53aWR0aCgpID49IDEwMjQ7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVtb3ZlU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gdHJ1ZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkU2Nyb2xsID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIC8vJChkb2N1bWVudCkuZmluZCgnLmdhbGxlcnktcG9wdXBfX3RleHQnKS5uaWNlU2Nyb2xsKCB7XG4gICAgICAgICAgICAgICAgLy8gICAgY3Vyc29yY29sb3I6XCIjZmVjMzAzXCIsXG4gICAgICAgICAgICAgICAgLy8gICAgY3Vyc29yb3BhY2l0eW1pbjogXCIwXCIsXG4gICAgICAgICAgICAgICAgLy8gICAgY3Vyc29yYm9yZGVycmFkaXVzOiBcIjJweFwiLFxuICAgICAgICAgICAgICAgIC8vICAgIGN1cnNvcmJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgLy8gICAgYmFja2dyb3VuZDogXCIjM2QzZTQyXCIsXG4gICAgICAgICAgICAgICAgLy8gICAgY3Vyc29yd2lkdGg6IFwiNXB4XCIsXG4gICAgICAgICAgICAgICAgLy8gICAgLy9hdXRvaGlkZW1vZGU6ICdsZWF2ZScsXG4gICAgICAgICAgICAgICAgLy8gICAgZW5hYmxlbW91c2V3aGVlbDogdHJ1ZVxuICAgICAgICAgICAgICAgIC8vfSApO1xuXG5cblxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLmZpbmQoJy5nYWxsZXJ5LXBvcHVwX190ZXh0JykucGVyZmVjdFNjcm9sbGJhcigpO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLmZpbmQoJy5nYWxsZXJ5LXBvcHVwX190ZXh0JykucGVyZmVjdFNjcm9sbGJhcigndXBkYXRlJyk7XG5cbiAgICAgICAgICAgICAgICB9LCAyMDApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Nsb3NlUG9wdXAgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9wb3B1cEdhbGxlcnkuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9wb3B1cEdhbGxlcnlMb2FkLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3BvcHVwR2FsbGVyeVdyYXAuaHRtbCgnJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCA9IGZ1bmN0aW9uICggZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXJsOiBfb2JqLmF0dHIoJ2RhdGEtYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIHVybDogJCgnYm9keScpLmRhdGEoJ2FjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24gOiAnZ2V0X2dhbGxlcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVsZW0uYXR0cignZGF0YS1pZCcpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9wb3B1cEdhbGxlcnlXcmFwLmh0bWwobSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKG0pLmhhc0NsYXNzKCdnYWxsZXJ5JykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKCAkKCAnLmdhbGxlcnknICksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEdhbGxlcnkoICQodGhpcykgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFNjcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BvcHVwR2FsbGVyeUxvYWQuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKFhNTEh0dHBSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIFhNTEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQgIT0gXCJhYm9ydFwiICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRVJST1IhISFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVtb3ZlU2Nyb2xsID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5maW5kKCcuZ2FsbGVyeS1wb3B1cF9fdGV4dCcpLnBlcmZlY3RTY3JvbGxiYXIoJ2Rlc3Ryb3knKTtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5maW5kKCcuZ2FsbGVyeS1wb3B1cF9fdGV4dCcpLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgU2VydmljZXNBcmVhR2FsbGVyeSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9hd2FyZHNHYWxsZXJ5ID0gX29iai5maW5kKCcuc3dpcGVyLWNvbnRhaW5lcicpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfaW5pdFN3aXBlciA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICB2YXIgc3dpcGVyID0gbmV3IFN3aXBlciggX29iaiwge1xuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfb2JqLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyApLFxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfb2JqLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1wcmV2JyApLFxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDMwXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfaW5pdFN3aXBlcigpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgQWpheFJlcXVlc3RQb3B1cCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pdGVtcyA9IF9vYmouZmluZCgnLmFqYXgtYmxvY2tfX2J0bicpLFxuICAgICAgICAgICAgX2xvYWRCbG9jayA9ICQoICcuYWpheC1ibG9jay0nICsgX29iai5hdHRyKCAnZGF0YS1ibG9jaycgKSApLFxuICAgICAgICAgICAgX3BvcHVwTG9hZCA9ICQoJy5wb3B1cF9fcHJlbG9hZGVyJyksXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IHRydWUsXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfaXRlbXMub24oIHtcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggISggY3VySXRlbS5oYXNDbGFzcygnYWpheC1ibG9ja19fYnRuX2xvYWRlZCcpKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVtcy5yZW1vdmVDbGFzcygnYWpheC1ibG9ja19fYnRuX2xvYWRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoJ2FqYXgtYmxvY2tfX2J0bl9sb2FkZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcG9wdXBMb2FkLnJlbW92ZUNsYXNzKCAnaGlkZScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkQmxvY2suaHRtbCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbG9hZEJsb2NrLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xvYWRCbG9jay5uZXh0QWxsKCkuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCggY3VySXRlbSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX21vYmlsZVNjcmVlbiA9IF93aW5kb3cud2lkdGgoKSA+PSAxMDI0O1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkU2Nyb2xsKCBfbG9hZEJsb2NrLmNoaWxkcmVuKCkgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX21vYmlsZVNjcmVlbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVtb3ZlU2Nyb2xsKCBfbG9hZEJsb2NrLmNoaWxkcmVuKCkgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkU2Nyb2xsID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICAvL2VsZW0ubmljZVNjcm9sbCgge1xuICAgICAgICAgICAgICAgIC8vICAgIGN1cnNvcmNvbG9yOlwiIzI3MjgyZFwiLFxuICAgICAgICAgICAgICAgIC8vICAgIGN1cnNvcm9wYWNpdHltaW46IFwiMFwiLFxuICAgICAgICAgICAgICAgIC8vICAgIGN1cnNvcmJvcmRlcnJhZGl1czogXCIycHhcIixcbiAgICAgICAgICAgICAgICAvLyAgICBjdXJzb3Jib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIC8vICAgIGJhY2tncm91bmQ6IFwiIzNkM2U0MlwiLFxuICAgICAgICAgICAgICAgIC8vICAgIGN1cnNvcndpZHRoOiBcIjVweFwiLFxuICAgICAgICAgICAgICAgIC8vICAgIC8vYXV0b2hpZGVtb2RlOiAnbGVhdmUnLFxuICAgICAgICAgICAgICAgIC8vICAgIGVuYWJsZW1vdXNld2hlZWw6IHRydWVcbiAgICAgICAgICAgICAgICAvL30gKTtcblxuICAgICAgICAgICAgICAgIGVsZW0ucGVyZmVjdFNjcm9sbGJhcigpO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICBlbGVtLnBlcmZlY3RTY3JvbGxiYXIoJ3VwZGF0ZScpO1xuXG4gICAgICAgICAgICAgICAgfSwgMjAwICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50ID0gZnVuY3Rpb24gKCBlbGVtICkge1xuXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcblxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVybDogX29iai5hdHRyKCdkYXRhLWFjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJ2JvZHknKS5hdHRyKCdkYXRhLWFjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdnZXRfYXJlYXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbHZsOiBlbGVtLmF0dHIoJ2RhdGEtbHZsJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZWxlbS5hdHRyKCdkYXRhLWlkJylcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCBtICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbG9hZEJsb2NrLmh0bWwoIG0gKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2xvYWRCbG9jay5maW5kKCcuYWpheC1ibG9jaycpLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBamF4UmVxdWVzdFBvcHVwKCBfbG9hZEJsb2NrLmZpbmQoJy5hamF4LWJsb2NrJykgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9sb2FkQmxvY2suZmluZCgnLmFjY29yZGlvbicpLmxlbmd0aCApIHtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKCBfbG9hZEJsb2NrLmZpbmQoJy5hY2NvcmRpb25fMiBkbCcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBY2NvcmRpb24oICQodGhpcykgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFNjcm9sbCggX2xvYWRCbG9jay5jaGlsZHJlbigpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wb3B1cExvYWQuYWRkQ2xhc3MoICdoaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJFUlJPUiEhIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZW1vdmVTY3JvbGwgPSBmdW5jdGlvbiggZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIGVsZW0ucGVyZmVjdFNjcm9sbGJhcignZGVzdHJveScpO1xuXG4gICAgICAgICAgICAgICAgZWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIENvbnRhY3RTaWduID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2FyZWEgPSBfb2JqLmZpbmQoJy5jb250YWN0X19zaWduLWFyZWEnKSxcbiAgICAgICAgICAgIF9jbGVhciA9IF9vYmouZmluZCgnLmNvbnRhY3RfX3NpZ24tcmVmcmVzaCcpLFxuICAgICAgICAgICAgX3NlbmQgPSAkKCcuY2FudmFzX2NoZWNrJyksXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX3Jlc3VsdDtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2Rlc3Ryb3lTaWduYXR1cmUgPSAgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfYXJlYS5zaWduYXR1cmUoJ2Rlc3Ryb3knKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX2NsZWFyLm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FyZWEuc2lnbmF0dXJlKCdjbGVhcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2Rlc3Ryb3lTaWduYXR1cmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0U2lnbmF0dXJlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9zZW5kLm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggIV9hcmVhLnNpZ25hdHVyZSgnaXNFbXB0eScpICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0ID0gX2FyZWEuc2lnbmF0dXJlKCd0b1NWRycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hcmVhLnJlbW92ZUNsYXNzKCAnY29udGFjdF9fc2lnbi1hcmVhLXJlZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2lnbl92YWwnKS52YWwoIF9yZXN1bHQgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hcmVhLmFkZENsYXNzKCAnY29udGFjdF9fc2lnbi1hcmVhLXJlZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2lnbl92YWwnKS52YWwoJycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfaW5pdFNpZ25hdHVyZSgpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRTaWduYXR1cmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfYXJlYS5zaWduYXR1cmUoIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpY2tuZXNzOiAxLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgQ2FyZWVyc0FwcGx5ID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX2hpZGRlbklucHV0ID0gJCgnLmNhcmVlcnNfdGhlbWVzJyksXG4gICAgICAgICAgICBfYXBwbHlCdG4gPSBfb2JqLmZpbmQoJy5hcHBseScpLFxuICAgICAgICAgICAgX3N0ciA9ICcnLFxuICAgICAgICAgICAgX3NlbGVjdFZhY2FuY3ksXG4gICAgICAgICAgICBfc2VsZWN0VmFjYW5jeVNwYW47XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9jaGFuZ2VUYWIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICQoJy50YWJzPmRsPmR0Om5vdCguYWN0aXZlKScpLnRyaWdnZXIoJ2NsaWNrJyk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZmlsbFNlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIF9vYmouZmluZCgnZGw+ZHQnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW1UZXh0ID0gY3VySXRlbS50ZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgX3NlbGVjdFZhY2FuY3kuZmluZCgnc2VsZWN0JykuYXBwZW5kKCc8b3B0aW9uIHZhbHVlPVwiJytjdXJJdGVtVGV4dCsnXCI+JytjdXJJdGVtVGV4dCsnPC9vcHRpb24+JylcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3NlbGVjdFZhY2FuY3lTcGFuLnRleHQoIF9zZWxlY3RWYWNhbmN5LmZpbmQoJ3NlbGVjdCBvcHRpb246c2VsZWN0ZWQnKS50ZXh0KCkgKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2VsZWN0VmFjYW5jeSA9ICQoJy52YWNhbmN5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2VsZWN0VmFjYW5jeVNwYW4gPSBfc2VsZWN0VmFjYW5jeS5maW5kKCcud2Vic3RlcnMtc2VsZWN0X19pdGVtJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9maWxsU2VsZWN0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxlY3RWYWNhbmN5LmZpbmQoJ3NlbGVjdCcpLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ZhciBzZWxlY3RlZE9wdGlvbiA9ICQodGhpcykuZmluZCgnb3B0aW9uOnNlbGVjdGVkJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgc2VsZWN0ZWRPcHRpb25WYWx1ZSA9IHNlbGVjdGVkT3B0aW9uLmF0dHIoJ3ZhbHVlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgYXBwbHlCdG4gPSBfYXBwbHlCdG4uZmlsdGVyKCdbZGF0YS12YWx1ZT0nK3NlbGVjdGVkT3B0aW9uVmFsdWUrJ10nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBhcHBseUJ0blRleHQgPSBhcHBseUJ0bi5kYXRhKCd0ZXh0MicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIGRhdGFWYWx1ZSA9IGFwcGx5QnRuLmRhdGEoJ3ZhbHVlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdW5jaGVja0FsbEJ0bigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYXBwbHlCdG4uYWRkQ2xhc3MoICdhY3RpdmUnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hcHBseUJ0bi5maW5kKCdzcGFuJykudGV4dChhcHBseUJ0blRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vX3N0ciA9IGRhdGFWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd3JpdGVJbklucHV0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2FwcGx5QnRuLm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckVsZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFWYWx1ZSA9IGN1ckVsZW0uZGF0YSgndmFsdWUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVGV4dDIgPSBjdXJFbGVtLmRhdGEoJ3RleHQyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRPcHRpb24gPSBfc2VsZWN0VmFjYW5jeS5maW5kKCdvcHRpb24nKS5lcShkYXRhVmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblRleHQgPSByaWdodE9wdGlvbi50ZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF91bmNoZWNrQWxsQnRuKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKCBjdXJFbGVtLmhhc0NsYXNzKCAnYWN0aXZlJyApICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJFbGVtLmFkZENsYXNzKCAnYWN0aXZlJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uZmluZCgnc3BhbicpLnRleHQoZGF0YVRleHQyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RyID0gZGF0YVZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfd3JpdGVJbklucHV0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxlY3RWYWNhbmN5LmZpbmQoJ29wdGlvbicpLnByb3AoJ3NlbGVjdGVkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRPcHRpb24ucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZWxlY3RWYWNhbmN5U3Bhbi50ZXh0KCBvcHRpb25UZXh0ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hhbmdlVGFiKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF91bmNoZWNrQWxsQnRuID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2FwcGx5QnRuLmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJFbGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUZXh0MSA9IGN1ckVsZW0uZGF0YSgndGV4dDEnKTtcblxuICAgICAgICAgICAgICAgICAgICBjdXJFbGVtLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xuICAgICAgICAgICAgICAgICAgICBjdXJFbGVtLmZpbmQoJ3NwYW4nKS50ZXh0KGRhdGFUZXh0MSk7XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfc3RyID0gJyc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3dyaXRlSW5JbnB1dCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX2hpZGRlbklucHV0LnZhbCggX3N0ciApO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBEYXRlcGlja2VyID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3Njcm9sbEJsb2NrID0gJCgnLm5pY2Utc2Nyb2xsJyksXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9oaWRlRGF0ZVBpY2tlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5kYXRlcGlja2VyKCAnaGlkZScgKTtcbiAgICAgICAgICAgICAgICBfb2JqLmJsdXIoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9zY3JvbGxCbG9jay5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlRGF0ZVBpY2tlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcblxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZURhdGVQaWNrZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2luaXREYXRlUGlja2VyKCk7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdERhdGVQaWNrZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9vYmouZGF0ZXBpY2tlcigpO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBOaWNlQ2hlY2tib3ggPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfbGFiZWwgPSBfb2JqLmZpbmQoJ2xhYmVsJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9sYWJlbC5maW5kKCdpbnB1dDpjaGVja2JveCcpLm9mZiggJ2NsaWNrJyxmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSAkKCB0aGlzICkuYXR0ciggJ25hbWUnICk7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnZm9ybScpLmZpbmQoJ2lucHV0OmNoZWNrYm94W25hbWU9XCInICsgbmFtZSArICdcIl0nKS5ub3QodGhpcykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfbGFiZWwuY2xpY2soIGZ1bmN0aW9uKCBldmVudCApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKFwiaW5wdXRcIikuYXR0cignY2hlY2tlZCcsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZChcImlucHV0XCIpLmF0dHIoJ2NoZWNrZWQnLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBGaWxlSW5wdXQgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaW5wdXRGaWxlID0gX29iai5maW5kKCdpbnB1dFt0eXBlPWZpbGVdJyksXG4gICAgICAgICAgICBfaW5wdXRUZXh0ID0gX29iai5maW5kKCdpbnB1dFt0eXBlPXRleHRdJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9pbnB1dEZpbGUub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0VGV4dC52YWwoICQodGhpcykudmFsKCkgKVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIENvbW1lbnRBbmNob3IgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfY29tbWVudHNDdXN0b21lciA9ICQoJy5jb21tZW50cy1jdXN0b21lcicpLFxuICAgICAgICAgICAgX2NvbnRlbnQgPSAkKCcuc2l0ZV9fY29udGVudF9faW5uZXInKSxcbiAgICAgICAgICAgIF9jb21tZW50c0Zvcm0gPSAkKCcuc2l0ZV9fZm9ybScpLFxuICAgICAgICAgICAgX2RvbSA9ICQoICdodG1sLCBib2R5JyApLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYoICEoIF9vYmoucGFyZW50cyggJy5yZXNvdXJjZXNfX2l0ZW0nKS5sZW5ndGggKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zQ29tbWVudFRvcDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX2NvbW1lbnRzQ3VzdG9tZXIubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NDb21tZW50VG9wID0gX2NvbW1lbnRzQ3VzdG9tZXIub2Zmc2V0KCkudG9wO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc0NvbW1lbnRUb3AgPSBfY29tbWVudHNGb3JtLm9mZnNldCgpLnRvcDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiBwb3NDb21tZW50VG9wIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zQ29tbWVudFRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTY3JvbGxUb3A7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9jb21tZW50c0N1c3RvbWVyLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zQ29tbWVudFRvcCA9IF9jb21tZW50c0N1c3RvbWVyLnBvc2l0aW9uKCkudG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNjcm9sbFRvcCA9IF9jb250ZW50LnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc0NvbW1lbnRUb3AgPSBfY29tbWVudHNGb3JtLnBvc2l0aW9uKCkudG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNjcm9sbFRvcCA9IF9jb250ZW50LnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGVudC5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGVudC5hbmltYXRlKCB7IHNjcm9sbFRvcDogcG9zQ29tbWVudFRvcCArIGNvbnRlbnRTY3JvbGxUb3AgfSwgMzAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfc2Nyb2xsVG9Db21tZW50cygpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3Njcm9sbFRvQ29tbWVudHMgPSAgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggISggX29iai5wYXJlbnRzKCAnLnJlc291cmNlc19faXRlbScpLmxlbmd0aCApICYmICggX29iai5wYXJlbnRzKCcuc2l0ZV9fY29udGVudF9fd3JhcCcpLmhhc0NsYXNzKCAnY29tbWVudHNfc2Nyb2xsJyApICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvc0NvbW1lbnRUb3A7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc0NvbW1lbnRUb3AgPSBfY29tbWVudHNDdXN0b21lci5vZmZzZXQoKS50b3A7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uc2Nyb2xsVG9wKCBwb3NDb21tZW50VG9wICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvc0NvbW1lbnRUb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNjcm9sbFRvcDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zQ29tbWVudFRvcCA9IF9jb21tZW50c0N1c3RvbWVyLnBvc2l0aW9uKCkudG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNjcm9sbFRvcCA9IF9jb250ZW50LnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY29udGVudC5zY3JvbGxUb3AoIHBvc0NvbW1lbnRUb3AgKyBjb250ZW50U2Nyb2xsVG9wICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBSZXNvdXJjZXNBamF4ID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dyYXBJdGVtcyA9IF9vYmouZmluZCgnLnJlc291cmNlc19faXRlbXMnKSxcbiAgICAgICAgICAgIF9sb2FkZXIgPSAkKCcucmVzb3VyY2VzX19wcmVsb2FkZXInKSxcbiAgICAgICAgICAgIF9wYXJlbnRPYmogPSBfb2JqLnBhcmVudHMoJy5uaWNlLXNjcm9sbCcpLFxuICAgICAgICAgICAgX3JlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxuICAgICAgICAgICAgICAgICAgICAnY2xpY2snLFxuICAgICAgICAgICAgICAgICAgICAnLnJlc291cmNlc19fbGlua3MtaXRlbV90YWdzPmEnLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQoIHRoaXMgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3dyYXBJdGVtcy5odG1sKCcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvYWRlci5hZGRDbGFzcygndmlzaWJsZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQoIGN1ckl0ZW0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQgPSBmdW5jdGlvbiAoIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVybDogX29iai5hdHRyKCdkYXRhLWFjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJ2JvZHknKS5hdHRyKCdkYXRhLWFjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24gOiAnZ2V0X3Jlc291cmNlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdJZDogZWxlbS5hdHRyKCdkYXRhLWlkJylcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdodG1sJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKG0pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3dyYXBJdGVtcy5odG1sKG0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbG9hZGVyLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3VwZGF0ZVNjcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJFUlJPUiEhIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF91cGRhdGVTY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfcGFyZW50T2JqLnNjcm9sbFRvcCA9IDA7XG4gICAgICAgICAgICAgICAgX3BhcmVudE9iai5wZXJmZWN0U2Nyb2xsYmFyKCd1cGRhdGUnKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTtcblxudmFyIEFjY29yZGlvbiA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgX2FjY29yZGlvbkNhcHRpb24gPSBfb2JqLmZpbmQoJz5kdCcpLFxuICAgICAgICBfYWNjb3JkaW9uQ29udGVudCA9IF9vYmouZmluZCgnPmRkJyksXG4gICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgIF9jb250ZW50ID0gJCgnLnNpdGVfX2NvbnRlbnRfX2lubmVyJyksXG4gICAgICAgIF9kb20gPSAkKCAnaHRtbCwgYm9keScgKSxcbiAgICAgICAgX3BvcyA9IDAsXG4gICAgICAgIF9wb3NUb3AgPSAwLFxuICAgICAgICBfY2xpY2tGbGFnID0gdHJ1ZTtcblxuICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgdmFyIF9jbG9zZUFjY29yZGlvbiA9IGZ1bmN0aW9uICggY3VyRWxlbSwgbmV4dEVsZW0gKSB7XG5cbiAgICAgICAgICAgIF9hY2NvcmRpb25DYXB0aW9uLnJlbW92ZUNsYXNzKCAnc2ltaWxhcicgKTtcbiAgICAgICAgICAgIGN1ckVsZW0ucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XG4gICAgICAgICAgICBjdXJFbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICdtYXJnaW4tYm90dG9tJzogJydcbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIG5leHRFbGVtLnJlbW92ZUNsYXNzKCAndmlzaWJsZScgKTtcblxuICAgICAgICB9LFxuICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCAgX2FjY29yZGlvbkNhcHRpb24uZmlsdGVyKCAnLmFjdGl2ZScpLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3NldFBvc0l0ZW1zKCBfYWNjb3JkaW9uQ2FwdGlvbi5maWx0ZXIoICcuYWN0aXZlJyApLCBfYWNjb3JkaW9uQ2FwdGlvbi5maWx0ZXIoICcuYWN0aXZlJyApLm5leHQoKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgX2FjY29yZGlvbkNhcHRpb24ub24oIHtcblxuICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEVsZW0gPSBjdXJJdGVtLm5leHQoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggISggY3VySXRlbS5oYXNDbGFzcygnYWN0aXZlJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9jbGlja0ZsYWcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb3BlbkFjY29yZGlvbiggY3VySXRlbSwgbmV4dEVsZW0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZUFjY29yZGlvbiggY3VySXRlbSwgbmV4dEVsZW0gKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgfSxcbiAgICAgICAgX29wZW5BY2NvcmRpb24gPSBmdW5jdGlvbiAoIGN1ckVsZW0sIG5leHRFbGVtICkge1xuXG4gICAgICAgICAgICBfY2xpY2tGbGFnID0gZmFsc2U7XG4gICAgICAgICAgICBfYWNjb3JkaW9uQ2FwdGlvbi5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcbiAgICAgICAgICAgIF9hY2NvcmRpb25DYXB0aW9uLmNzcygge1xuICAgICAgICAgICAgICAgICdtYXJnaW4tYm90dG9tJzogJydcbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIF9hY2NvcmRpb25Db250ZW50LnJlbW92ZUNsYXNzKCAndmlzaWJsZSBzaW1pbGFyJyApO1xuXG4gICAgICAgICAgICBjdXJFbGVtLmFkZENsYXNzKCAnYWN0aXZlJyApO1xuXG4gICAgICAgICAgICBfc2V0UG9zSXRlbXMoIGN1ckVsZW0sIG5leHRFbGVtICk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfc2Nyb2xsVG8oIGN1ckVsZW0gKTtcbiAgICAgICAgICAgIH0sIDMwMCApO1xuICAgICAgICAgICAgbmV4dEVsZW0uYWRkQ2xhc3MoICd2aXNpYmxlJyApO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9jbGlja0ZsYWcgPSB0cnVlO1xuXG4gICAgICAgICAgICB9LCAzMDAgKTtcblxuICAgICAgICB9LFxuICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgX3NldFdpZHRoKCk7XG5cbiAgICAgICAgfSxcbiAgICAgICAgX3Njcm9sbFRvID0gZnVuY3Rpb24gKCBlbGVtICkge1xuXG4gICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcblxuICAgICAgICAgICAgICAgIF9wb3NUb3AgID0gZWxlbS5vZmZzZXQoKS50b3A7XG5cbiAgICAgICAgICAgICAgICBfZG9tLnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgX2RvbS5hbmltYXRlKCB7IHNjcm9sbFRvcDogX3Bvc1RvcCB9LCAzMDAgKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIF9wb3NUb3AgID0gZWxlbS5wb3NpdGlvbigpLnRvcCArIF9vYmoucG9zaXRpb24oKS50b3AgKyBfY29udGVudC5zY3JvbGxUb3AoKTtcblxuICAgICAgICAgICAgICAgIGlmKCAhKCBlbGVtLmhhc0NsYXNzKCAnc2ltaWxhcicgKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9jb250ZW50LnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZW50LmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiBfcG9zVG9wIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcbiAgICAgICAgX3NldFBvc0l0ZW1zID0gZnVuY3Rpb24gKCBjYXB0aW9uLCBlbGVtICkge1xuXG4gICAgICAgICAgICBjYXB0aW9uLmNzcygge1xuICAgICAgICAgICAgICAgICdtYXJnaW4tYm90dG9tJzogZWxlbS5pbm5lckhlaWdodCgpIC0gMVxuICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBlbGVtUG9zID0gY2FwdGlvbi5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgZWxlbUhlaWdodCA9IGNhcHRpb24uaW5uZXJIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgIF9wb3MgPSBlbGVtUG9zICsgZWxlbUhlaWdodDtcblxuICAgICAgICAgICAgICAgIGVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICd0b3AnOiBfcG9zXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2FjY29yZGlvbkNhcHRpb24uZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoICQodGhpcykucG9zaXRpb24oKS50b3AgPT0gZWxlbVBvcyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyggJ3NpbWlsYXInICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyggJ3NpbWlsYXInICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LCAzMTAgKTtcblxuICAgICAgICB9LFxuICAgICAgICBfc2V0V2lkdGggPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgaWYoIF9vYmoucGFyZW50KCkuaGFzQ2xhc3MoJ2FjY29yZGlvbl8yJykgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggX2FjY29yZGlvbkNhcHRpb24ubGVuZ3RoID09IDIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2FjY29yZGlvbkNhcHRpb24uYWRkQ2xhc3MoICdoYWxmJyApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfYWNjb3JkaW9uQ2FwdGlvbi5sZW5ndGggPT0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICBfYWNjb3JkaW9uQ2FwdGlvbi5hZGRDbGFzcyggJ2Z1bGwnICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuXG4gICAgX2luaXQoKTtcbn07XG5cbiIsIiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uKCl7XG4gICAgICAgICQoICdzZWxlY3QnICkuZWFjaCggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIG5ldyBXZWJzdGVyc1NlbGVjdCgge1xuICAgICAgICAgICAgICAgIG9iajogJCggdGhpcyApLFxuICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IDEsXG4gICAgICAgICAgICAgICAgc2hvd1R5cGU6IDJcbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgfSApO1xuICAgIH0gKTtcblxuICAgIHZhciBXZWJzdGVyc1NlbGVjdCA9IGZ1bmN0aW9uKCBwYXJhbXMgKXtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IHBhcmFtcy5vYmosXG4gICAgICAgICAgICBfb3B0aW9uVHlwZSA9IHBhcmFtcy5vcHRpb25UeXBlIHx8IDAsXG4gICAgICAgICAgICBfc2hvd1R5cGUgPSBwYXJhbXMuc2hvd1R5cGUgfHwgMCxcbiAgICAgICAgICAgIF92aXNpYmxlID0gcGFyYW1zLnZpc2libGUgfHwgNSxcbiAgICAgICAgICAgIF9kZXZpY2UgPSAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QoIG5hdmlnYXRvci51c2VyQWdlbnQgKSxcbiAgICAgICAgICAgIF90ZXh0ID0gJCggJzxzcGFuIGNsYXNzPVwid2Vic3RlcnMtc2VsZWN0X19pdGVtXCI+PC9zcGFuPicgKSxcbiAgICAgICAgICAgIF93cmFwID0gJCggJzxkaXYgY2xhc3M9XCJ3ZWJzdGVycy1zZWxlY3RcIj48L2Rpdj4nICksXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfYm9keSA9ICQoICdib2R5JyApLFxuICAgICAgICAgICAgX29wZW5lZCA9IGZhbHNlLFxuICAgICAgICAgICAgX3BvcHVwLCBfc2Nyb2xsO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkV3JhcCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIGN1clRleHQgPSAnJztcblxuICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLndyYXAoIF93cmFwICk7XG4gICAgICAgICAgICAgICAgX3dyYXAgPSBfb2JqLnBhcmVudCgpO1xuICAgICAgICAgICAgICAgIF93cmFwLmFwcGVuZCggJzxkaXYgY2xhc3M9XCJ3ZWJzdGVycy1zZWxlY3RfX2Fycm93XCI+PC9kaXY+JyApO1xuICAgICAgICAgICAgICAgIF9vYmouYmVmb3JlKCBfdGV4dCApO1xuICAgICAgICAgICAgICAgIF9vYmouZmluZCggJ29wdGlvbicgKS5lYWNoKCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQoIHRoaXMgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5hdHRyKCAnc2VsZWN0ZWQnICkgPT0gJ3NlbGVjdGVkJyApe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVGV4dCA9IGN1ckl0ZW0udGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgaWYoIGN1clRleHQgPT0gJycgKXtcbiAgICAgICAgICAgICAgICAgICAgY3VyVGV4dCA9ICBfb2JqLmZpbmQoICdvcHRpb24nKS5lcSggMCApLnRleHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RleHQudGV4dCggY3VyVGV4dCApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9oaWRlUG9wdXAgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vcGVuZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmKCAhX3Nob3dUeXBlICl7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfc2hvd1R5cGUgPT0gMSApe1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuc3RvcCggdHJ1ZSwgZmFsc2UgKS5zbGlkZVVwKCAzMDAsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9zaG93VHlwZSA9PSAyICkge1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuc3RvcCggdHJ1ZSwgZmFsc2UgKS5mYWRlT3V0KCAzMDAsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfd3JhcC5yZW1vdmVDbGFzcyggJ3dlYnN0ZXJzLXNlbGVjdF9vcGVuZWQnICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY29uc3RydWN0b3IgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcblxuICAgICAgICAgICAgICAgIF9hZGRXcmFwKCk7XG4gICAgICAgICAgICAgICAgX3NlbGVjdFZpZXdUeXBlKCk7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIF90ZXh0LnRleHQoICQoIHRoaXMgKS5maW5kKCAnb3B0aW9uOnNlbGVjdGVkJyApLnRleHQoKSApO1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfb3B0aW9uVHlwZSA9PSAxICYmICFfZGV2aWNlICl7XG4gICAgICAgICAgICAgICAgICAgIF93cmFwLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY2xpY2snOiBmdW5jdGlvbiggZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX29wZW5lZCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGlkZVBvcHVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3dQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX29wZW5lZCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGlkZVBvcHVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJCgnLm5pY2Utc2Nyb2xsJykub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX29wZW5lZCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGlkZVBvcHVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZWxlY3RWaWV3VHlwZSA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICBpZiggIV9vcHRpb25UeXBlIHx8IF9kZXZpY2UgKXtcbiAgICAgICAgICAgICAgICAgICAgX3NldE1vYmlsZVZpZXcoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9vcHRpb25UeXBlID09IDEgKXtcbiAgICAgICAgICAgICAgICAgICAgX3NldEN1c3RvbTEoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEN1c3RvbTEgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF93cmFwLmFkZENsYXNzKCAnd2Vic3RlcnMtc2VsZWN0X2N1c3RvbScgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0TW9iaWxlVmlldyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3dyYXAuYWRkQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3RfbW9iaWxlJyApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93UG9wdXAgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RzID0gJCggJ3NlbGVjdCcgKSxcbiAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICQoICc8dWw+PC91bD4nKSxcbiAgICAgICAgICAgICAgICAgICAgY3VyU2Nyb2xsID0gX3dpbmRvdy5zY3JvbGxUb3AoKSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gX3dyYXAub2Zmc2V0KCksXG4gICAgICAgICAgICAgICAgICAgIG1heEhlaWdodCA9IDAsXG4gICAgICAgICAgICAgICAgICAgIGN1ckluZGV4ID0gX29iai5maW5kKCAnb3B0aW9uOnNlbGVjdGVkJyApLmluZGV4KCksXG4gICAgICAgICAgICAgICAgICAgIGlkID0gTWF0aC5yb3VuZCggTWF0aC5yYW5kb20oKSAqIDEwMDAgKTtcblxuICAgICAgICAgICAgICAgIHNlbGVjdHMuZWFjaCggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMgIT09IF9vYmpbIDAgXSAmJiB0aGlzLm9iai5jaGVja09wZW5lZCgpICl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iai5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgaWYoIF9vcGVuZWQgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfb3BlbmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIF9wb3B1cCA9ICQoICc8ZGl2IGNsYXNzPVwid2Vic3RlcnMtc2VsZWN0X19wb3B1cFwiIGlkPVwid2Vic3RlcnMtc2VsZWN0X19wb3B1cCcgKyBpZCArICdcIj48L2Rpdj4nICk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmZpbmQoICdvcHRpb24nICkuZWFjaCggZnVuY3Rpb24oIGkgKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKCB0aGlzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGkgPT0gY3VySW5kZXggKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuYXBwZW5kKCAnPGxpIGNsYXNzPVwiYWN0aXZlXCI+JyArIGN1ckl0ZW0udGV4dCgpICsgJzwvbGk+JyApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5hcHBlbmQoICc8bGk+JyArIGN1ckl0ZW0udGV4dCgpICsgJzwvbGk+JyApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfcG9wdXAuYXBwZW5kKCBsaXN0ICk7XG4gICAgICAgICAgICAgICAgX2JvZHkuYXBwZW5kKCBfcG9wdXAgKTtcbiAgICAgICAgICAgICAgICBfd3JhcC5hZGRDbGFzcyggJ3dlYnN0ZXJzLXNlbGVjdF9vcGVuZWQnICk7XG5cbiAgICAgICAgICAgICAgICBfcG9wdXAuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBfd3JhcC5vdXRlcldpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICB0b3A6IG9mZnNldC50b3AgKyBfd3JhcC5vdXRlckhlaWdodCgpXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gX3BvcHVwLm91dGVySGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgaWYoIG1heEhlaWdodCA+IF9wb3B1cC5maW5kKCAnbGknICkuZXEoIDAgKS5vdXRlckhlaWdodCgpICogX3Zpc2libGUgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmhlaWdodCggX3BvcHVwLmZpbmQoICdsaScgKS5lcSggMCApLm91dGVySGVpZ2h0KCkgKiBfdmlzaWJsZSApO1xuICAgICAgICAgICAgICAgICAgICBfc2Nyb2xsID0gX3BvcHVwLnBlcmZlY3RTY3JvbGxiYXIoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggX3Nob3dUeXBlID09IDEgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnNsaWRlRG93biggMzAwICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfc2hvd1R5cGUgPT0gMiApIHtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4xXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmFuaW1hdGUoIHsgb3BhY2l0eTogMSB9LCAzMDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9wb3B1cC5maW5kKCAnbGknICkub24oIHtcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24oIGUgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICQoIHRoaXMgKS5pbmRleCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnZhbCggX29iai5maW5kKCAnb3B0aW9uJyApLmVxKCBpbmRleCApLmF0dHIoICd2YWx1ZScgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX29iai50cmlnZ2VyKCAnY2hhbmdlJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG4gICAgICAgIF9zZWxmLmNoZWNrT3BlbmVkID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBfb3BlbmVkO1xuICAgICAgICB9O1xuICAgICAgICBfc2VsZi5jbG9zZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgX2hpZGVQb3B1cCgpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XG5cbiAgICB9O1xuXG59ICkoKTsiLCIoIGZ1bmN0aW9uKCl7XG5cbiAgICAkKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAkKCAnLnBvcHVwJyApLmVhY2goIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIG5ldyBQb3B1cCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuXG5cbn0gKSgpO1xuXG52YXIgUG9wdXAgPSBmdW5jdGlvbiggb2JqICl7XG5cbiAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgIF9wb3B1cFBhZGRpbmcgPSA0MCxcbiAgICAgICAgX2J0blNob3cgPSAgJCggJy5wb3B1cF9fb3BlbicgKSxcbiAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgX2J0bkNsb3NlID0gX29iai5maW5kKCAnLnBvcHVwX19jbG9zZSwgLnBvcHVwX19jYW5jZWwnICksXG4gICAgICAgIF93cmFwID0gX29iai5maW5kKCAnLnBvcHVwX193cmFwJyApLFxuICAgICAgICBfY29udGVudHMgPSBfb2JqLmZpbmQoICcucG9wdXBfX2NvbnRlbnQnICksXG4gICAgICAgIF9kb20gPSAkKCAnaHRtbCwgYm9keScgKSxcbiAgICAgICAgX2NvbnRlbnQgPSAkKCAnLnNpdGVfX2NvbnRlbnQnICksXG4gICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgX21vYmlsZVNjcmVlbiA9IHRydWUsXG4gICAgICAgIF90aW1lciA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7fSwgMSApO1xuXG4gICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICB2YXIgX2NlbnRlcldyYXAgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKCBfd2luZG93LmhlaWdodCgpIC0gKCBfcG9wdXBQYWRkaW5nICogMiApIC0gX3dyYXAuaGVpZ2h0KCkgPiAwICkge1xuICAgICAgICAgICAgICAgIF93cmFwLmNzcyggeyB0b3A6ICggKCBfd2luZG93LmhlaWdodCgpIC0gKCBfcG9wdXBQYWRkaW5nICogMiApICkgLSBfd3JhcC5oZWlnaHQoKSApIC8gMiB9ICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF93cmFwLmNzcyggeyB0b3A6IDAgfSApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfY2hhbmdlQ29udGVudFppbmRleCA9IGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgX2NvbnRlbnQuY3NzKCB7XG4gICAgICAgICAgICAgICAgJ3otaW5kZXgnOiA0XG4gICAgICAgICAgICB9ICk7XG4gICAgICAgIH0sXG4gICAgICAgIF9yZXNldENvbnRlbnRaaW5kZXggPSBmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgIF9jb250ZW50LmNzcygge1xuICAgICAgICAgICAgICAgICd6LWluZGV4JzogMlxuICAgICAgICAgICAgfSApO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0U2Nyb2xsV2lkdGggPSBmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyksXG4gICAgICAgICAgICAgICAgc2Nyb2xsQmFyV2lkdGg7XG5cbiAgICAgICAgICAgIHNjcm9sbERpdi5jbGFzc05hbWUgPSAncG9wdXBfX3Njcm9sbGJhci1tZWFzdXJlJztcblxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggc2Nyb2xsRGl2ICk7XG5cbiAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG5cbiAgICAgICAgICAgIHJldHVybiBzY3JvbGxCYXJXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgX2hpZGUgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nXG4gICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdwb3B1cF9vcGVuZWQnICk7XG4gICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAncG9wdXBfaGlkZScgKTtcblxuICAgICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIF9vYmouY3NzICh7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAncG9wdXBfaGlkZScgKTtcblxuICAgICAgICAgICAgfSwgMzAwICk7XG5cbiAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgX2RvbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMFxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9yZXNldENvbnRlbnRaaW5kZXgoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NvbnRlbnRzLmNzcyggeyBkaXNwbGF5OiAnbm9uZScgfSApO1xuXG4gICAgICAgICAgICBpZiggX29iai5maW5kKCcucG9wdXBfX2FkZHJlc3NlcycpLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLnBvcHVwX19hZGRyZXNzZXMnKS5jaGlsZHJlbigpLmNzcyggeyBkaXNwbGF5OiAnbm9uZScgfSApO1xuICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLnBvcHVwX19hZGRyZXNzZXMnKS5jaGlsZHJlbigpLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgIF9idG5TaG93LnJlbW92ZUNsYXNzKCdhamF4LWJsb2NrX19idG5fbG9hZGVkJyk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9tb2JpbGVTY3JlZW4gPSBfd2luZG93LndpZHRoKCkgPj0gMTAyNDtcblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFfbW9iaWxlU2NyZWVuICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbW9iaWxlU2NyZWVuID0gdHJ1ZVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIF9idG5TaG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIF9zaG93KCAkKCB0aGlzICkuYXR0ciggJ2RhdGEtcG9wdXAnICkgKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICBfd3JhcC5vbigge1xuICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiggZSApe1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIF9vYmoub24oIHtcbiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIF9idG5DbG9zZS5vbigge1xuICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBfaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSApO1xuICAgICAgICB9LFxuICAgICAgICBfc2hvdyA9IGZ1bmN0aW9uKCBjbGFzc05hbWUgKXtcbiAgICAgICAgICAgIF9zZXRQb3B1cENvbnRlbnQoIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuXG4gICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcblxuICAgICAgICAgICAgICAgIF9kb20uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfY2hhbmdlQ29udGVudFppbmRleCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG4gICAgICAgIF9zZXRQb3B1cENvbnRlbnQgPSBmdW5jdGlvbiggY2xhc3NOYW1lICl7XG4gICAgICAgICAgICB2YXIgY3VyQ29udGVudCA9IF9jb250ZW50cy5maWx0ZXIoICcucG9wdXBfXycgKyBjbGFzc05hbWUgKTtcblxuICAgICAgICAgICAgLy9fY29udGVudHMuY3NzKCB7IGRpc3BsYXk6ICdub25lJyB9ICk7XG4gICAgICAgICAgICBjdXJDb250ZW50LmNzcyggeyBkaXNwbGF5OiAnYmxvY2snIH0gKTtcblxuICAgICAgICB9O1xuXG4gICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgLy9wdWJsaWMgbWV0aG9kc1xuXG4gICAgX2luaXQoKTtcbn07Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
